<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>webina</title>
	<meta name="description" content="Documentation for webina">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">webina</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>webina</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#webina-100" id="webina-100" style="color: inherit; text-decoration: none;">
					<h1>Webina 1.0.0</h1>
				</a>
				<a href="#introduction" id="introduction" style="color: inherit; text-decoration: none;">
					<h2>Introduction</h2>
				</a>
				<p>Webina is a JavaScript/WebAssembly library that runs AutoDock Vina, a popular
					program for molecular docking, entirely in a web browser. The docking
					calculations take place on the user&#39;s own computer rather than a remote
					server. To encourage use, we have incorporated the Webina library into our own
					Webina web app. The app includes a convenient interface so users can easily
					setup their docking runs and analyze the results. A working version of the app
					can be accessed free of charge from
				<a href="http://durrantlab.com/webina">http://durrantlab.com/webina</a>.</p>
				<a href="#compatibility" id="compatibility" style="color: inherit; text-decoration: none;">
					<h2>Compatibility</h2>
				</a>
				<p>We have tested the Webina library on macOS 10.14.5, Windows 10 Home 1803, and
					Ubuntu 18.04.3 LTS. Webina uses the SharedArrayBuffer JavaScript object to
					allow multiple processes/threads to exchange data directly. This object is
					currently available on Chromium-based browsers such as Google Chrome.
				AAdditional browsers are likely to enable SharedArrayBuffer soon.</p>
				<a href="#repository-contents" id="repository-contents" style="color: inherit; text-decoration: none;">
					<h2>Repository Contents</h2>
				</a>
				<ul>
					<li><code>dist/</code>: The production (distribution) files. If you wish to run the Webina
						library or web app on your own server, these are the only files you need.
						For convenience, the <code>webina.zip</code> contains the contents of the <code>dist/</code>
						directory.<ul>
							<li><code>dist/minimal_example.html</code> shows how to use the Webina library in your
							own programs.</li>
							<li><code>dist/index.html</code> starts the Webina web app (see
								<a href="http://durrantlab.com/webina">http://durrantlab.com/webina</a> for a working
							example).</li>
						</ul>
					</li>
					<li><code>src/</code>: The Webina source files. You cannot use these files directly. They
					must be compiled.</li>
					<li><code>utils/</code>, <code>package.json</code>, <code>package-lock.json</code>, <code>tsconfig.json</code>: Files used
					to compile the contents of the <code>src/</code> directory to the <code>dist/</code> directory.</li>
					<li><code>CHANGELOG.md</code>, <code>CONTRIBUTORS.md</code>, <code>README.md</code>: Documentation files.</li>
				</ul>
				<a href="#description-of-use" id="description-of-use" style="color: inherit; text-decoration: none;">
					<h2>Description of Use</h2>
				</a>
				<a href="#webina-javascript-library" id="webina-javascript-library" style="color: inherit; text-decoration: none;">
					<h3>Webina JavaScript Library</h3>
				</a>
				<p>The Webina library is built on the AutoDock Vina 1.1.2 codebase, compiled to
					WebAssembly. Web-app developers can incorporate the library into their own
					computer-aided drug-discovery apps. See <code>dist/minimal_example.html</code> for a
				simple example of how to use the Webina library in your own programs.</p>
				<p>All Vina command-line parameters are accessible via the Webina library, with
					the exception of the parameters used to specify input files. For security
					reasons, web browsers do not allow JavaScript to directly access users&#39; file
					systems. Instead, the contents of local files must be read through a file
					input element, using a JavaScript FileReader object. To overcome this
					limitation, the Webina library accepts text strings containing the contents of
					the input PDBQT files, rather than the file paths normally specified via Vina
				parameters such as <code>--receptor</code> and <code>--ligand</code>.</p>
				<a href="#webina-web-app" id="webina-web-app" style="color: inherit; text-decoration: none;">
					<h3>Webina Web App</h3>
				</a>
				<a href="#input-parameters-tab" id="input-parameters-tab" style="color: inherit; text-decoration: none;">
					<h4>Input Parameters Tab</h4>
				</a>
				<p>We have incorporated the Webina JavaScript library into a Webina web app that
					includes additional tools for setting up Webina runs and visualizing docking
					results. On first visiting the Webina web app, the user encounters the &quot;Input
					Parameters&quot; tab. This tab includes several subsections that are useful for
				setting up a Webina run.</p>
				<p><strong>Input PDBQT Files.</strong> The &quot;Input PDBQT Files&quot; subsection allows the user to
					select their receptor and ligand files. As is the case with command-line Vina,
					these files must be in the PDBQT format. The user can also optionally specify
					a known-pose PDB or PDBQT ligand file. This file includes the ligand in its
					experimentally determined, correct bound pose (e.g., per X-ray crystallography
					or NMR). The known-pose file plays no role in the docking calculation; rather,
					it serves as a positive-control reference for evaluating Webina-predicted
				ligand poses.</p>
				<p>Some users may wish to test Webina without having to provide their own input
					files. The optional &quot;Use Example Files&quot; button automatically loads in example
				receptor, ligand, and known-pose files.</p>
				<p><strong>Docking Box.</strong> The &quot;Docking Box&quot; subsection allows users to specify the
					region of the receptor where Webina should attempt to pose the ligand. This
					box-shaped volume is typically centered on a known protein pocket or cavity
				where a small-molecule ligand might reasonably bind.</p>
				<p>To simplify the process of selecting a docking box, the Webina web app
					automatically displays 3D models of the user-specified receptor and ligand
					using the <a href="https://3dmol.csb.pitt.edu/">3Dmol.js JavaScript library</a>. By
					default, the receptor and ligand are displayed using cartoon and sticks
					representations, respectively. The user can toggle a surface representation as
					required to identify candidate receptor pockets. A transparent yellow box is
				superimposed on the structures to indicate the docking-box region.</p>
				<p>When the user clicks the atoms of the receptor model, the Webina web app
					recenters the docking box on the selected atom. Users can also adjust the
					location and dimensions of the box using text fields below the molecular
				visualization.</p>
				<p><strong>Other Critical Parameters.</strong> The &quot;Other Critical Parameters&quot; subsection
					allows the user to specify the number of CPUs and the exhaustiveness setting.
					We chose to set these two parameters apart because they are particularly
					important in a browser-based setting. Users expect command-line tools to
					consume substantial computer resources, but they do not expect web apps to do
					so. By default, Vina uses all available CPUs and an exhaustiveness setting of
					eight. Webina has the same ability to consume CPUs and memory, but many users
					will wish to adjust these parameters to avoid impacting the performance of
				other programs and browser tabs.</p>
				<p><strong>Advanced Parameters.</strong> The &quot;Advanced Parameters&quot; subsection allows users to
					specify any of the many additional parameters that are also available via
					command-line Vina. In our experience, it is rarely necessary to adjust these
				parameters, so they are hidden by default.</p>
				<p><strong>Run Vina from Command Line.</strong> The &quot;Run Vina from Command Line&quot; subsection
					aims to help Vina users who wish to use the Webina web app to setup their
					docking boxes and user parameters. A text field provides a mock example of how
					to use command-line Vina with the specified parameters. Users can copy this
					example, modify it as needed, and paste it into their command-line terminals
				to run the desired calculation with the standard Vina executable.</p>
				<p><strong>Starting the Webina Calculation.</strong> Once users click the &quot;Start Webina&quot;
					button, the Webina app will switch to the &quot;Running Webina&quot; tab while Webina
					executes. When the calculation is complete, the Webina web app will switch to
					the &quot;Output&quot; tab (described below) where users can visualize the docking
				results.</p>
				<a href="#existing-vina-output-tab" id="existing-vina-output-tab" style="color: inherit; text-decoration: none;">
					<h4>Existing Vina Output Tab</h4>
				</a>
				<p>The &quot;Existing Vina Output&quot; tab allows users to load and visualize the results
					of previous Webina and Vina runs, without having to rerun the calculations.
					Users must specify the existing receptor and Webina/Vina output file they wish
					to visualize. They can also optionally specify a known-pose ligand file for
					reference. Users who wish to test the web app without providing their own
					files can click the &quot;Use Example Files&quot; button. Otherwise the &quot;Load Files&quot;
				button will open and visualize the specified files.</p>
				<a href="#output-tab" id="output-tab" style="color: inherit; text-decoration: none;">
					<h4>Output Tab</h4>
				</a>
				<p>The &quot;Output&quot; tab allows users to visualize their Webina docking results. The
					same tab also displays the output of any previous Webina/Vina calculations
				that the user specifies via the &quot;Existing Vina Output&quot; tab.</p>
				<p><strong>Visualization.</strong> The &quot;Visualization&quot; subsection uses 3Dmol.js to display the
					receptor and docked molecule in cartoon/surface and sticks representation,
					respectively. If the user has specified a known-pose ligand file, that pose is
					also displayed in yellow sticks. Like Vina, Webina predicts several poses per
					input ligand. A table below the visualization viewport lists each pose
					together with associated information such as the docking score. Clicking on a
					table row updates the 3D view with the specified pose so users can easily
				examine all predicted poses.</p>
				<p><strong>Output Files.</strong> The &quot;Output Files&quot; subsection shows the text contents of the
					Webina output files. An associated &quot;Download&quot; button allows users to easily
				save those files.</p>
				<p><strong>Run Vina from Command Line.</strong> Similar to the &quot;Input Parameters&quot; tab, the
					&quot;Output&quot; Tab also includes a &quot;Run Vina from Command Line&quot; Subsection. This
					section makes it easy for users to reproduce Webina&#39;s results using
					stand-alone Vina. It also reminds users what parameters they selected to
				generate the displayed Webina output.</p>
				<a href="#start-over-tab" id="start-over-tab" style="color: inherit; text-decoration: none;">
					<h4>Start Over Tab</h4>
				</a>
				<p>The &quot;Start Over&quot; tab displays a simple button that allows the user to restart
					the Webina app. A warning message reminds the user that they will loose the
				results of the current Webina run unless they have saved their output files.</p>
				<a href="#running-webina-on-your-own-computer" id="running-webina-on-your-own-computer" style="color: inherit; text-decoration: none;">
					<h2>Running Webina on Your Own Computer</h2>
				</a>
				<p>Most users will wish to simply access the already compiled, publicly available
					Webina web app at
					<a href="http://durrantlab.com/webina">http://durrantlab.com/webina</a>. If you wish to
					instead run Webina on your own UNIX-like computer (LINUX, macOS, etc.), follow
				these instructions:</p>
				<ol>
					<li>Download the <code>webina.zip</code> file</li>
					<li>Uncompress the file: <code>unzip webina.zip</code></li>
					<li>Change to the new <code>webina/</code> directory: <code>cd webina</code></li>
					<li>Start a local server. Python provides one out of the box: <code>python -m
SimpleHTTPServer 8000</code></li>
					<li>Access the server from your web-browser: <code>http://localhost:8000/</code> or
					perhaps <code>http://0.0.0.0:8000/</code></li>
				</ol>
				<p>Running Webina on other operating systems (e.g., Windows) should be similar.</p>
				<a href="#compiling-the-webina-web-app" id="compiling-the-webina-web-app" style="color: inherit; text-decoration: none;">
					<h2>Compiling the Webina Web App</h2>
				</a>
				<p>The vast majority of users will not need to compile the Webina web app on their own.
					Simply use the already compiled files in <code>dist/</code> or <code>webina.zip</code>.
					If you need to make modifications to the source code, these instructions
				should help with re-compiling on UNIX-like systems:</p>
				<ol>
					<li>Clone or download the git repository: <code>git clone https://git.durrantlab.pitt.edu/jdurrant/webina.git</code></li>
					<li>Change into the new <code>webina</code> directory: <code>cd webina</code></li>
					<li>Install the required <code>npm</code> packages: <code>npm install</code></li>
					<li>Fix any vulnerabilities: <code>npm audit fix</code></li>
					<li>Make sure Python is installed system wide, and that <code>python</code> works from the
					command line (tested using Python 2.7.15)</li>
					<li>To deploy a dev server: <code>npm run start</code></li>
					<li>To compile the contents of <code>src/</code> to <code>dist/</code>: <code>npm run build</code></li>
				</ol>
				<p>Note: The Webina-library source code is located at <code>src/Webina/</code>. It has a
					separate build system (<code>/src/Webina/compile.sh</code>). If you modify any of the
					files in <code>/src/Webina/src/</code>, be sure to run <code>compile.sh</code> before building the
				larger web app via <code>npm run build</code>.</p>
				<a href="#compiling-the-autodock-vina-112-codebase-to-webassembly" id="compiling-the-autodock-vina-112-codebase-to-webassembly" style="color: inherit; text-decoration: none;">
					<h2>Compiling the AutoDock Vina 1.1.2 Codebase to WebAssembly</h2>
				</a>
				<p>We used Emscripten version 1.38.48 to compile the Vina 1.1.2 codebase to
					WebAssembly. As mentioned in our manuscript, the key to successful compilation
					was to provide Emscripten with the required Boost include files. We used this
				command to compile the Boost libraries:</p>
				<p><code>./bjam link=static variant=release threading=multi runtime-link=static thread
program_options filesystem system serialization</code></p>
				<p>The resulting binaries were written to
				<code>&lt;boost&gt;/bin.v2/libs/&lt;lib_name&gt;/build/gcc-1.38.48/release/link-static/runtime-link-static/threading-multi</code></p>
				<p>These binaries had to be linked to <code>em++</code> during the compilation process by
					modifying the Vina Makefile. Specifically, the included headers had to be
				linked/copied under <code>&lt;emsdk_path&gt;/fastcomp/emscripten/system/include/</code>.</p>
				<p>A detailed description of this process is beyond the scope of this README
				file, though many helpful tips have been posed online.</p>
				<a href="#notes-on-user-analytics" id="notes-on-user-analytics" style="color: inherit; text-decoration: none;">
					<h2>Notes on User Analytics</h2>
				</a>
				<p>In some circumstances, the Webina web app may report usage statistics to
					Google Analytics. These reports are useful for securing and justifying funding
					for the Durrant lab. Usage statistics are only sent if the web-app URL
					contains the substring &quot;durrantlab,&quot; so installing Webina on your own server
					should prevent reporting. Even when using the publicly available version of
					Webina hosted at <a href="http://durrantlab.com/webina">http://durrantlab.com/webina</a>,
					information about your specific receptor and ligand files is never transmitted
				to any remote server.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_forms_checkbox_.html">&quot;UI/<wbr>Forms/<wbr>Check<wbr>Box&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_forms_fileinput_.html">&quot;UI/<wbr>Forms/<wbr>File<wbr>Input&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_forms_formbutton_.html">&quot;UI/<wbr>Forms/<wbr>Form<wbr>Button&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_forms_formgroup_.html">&quot;UI/<wbr>Forms/<wbr>Form<wbr>Group&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_forms_numericinput_.html">&quot;UI/<wbr>Forms/<wbr>Numeric<wbr>Input&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_forms_triplenumeric_.html">&quot;UI/<wbr>Forms/<wbr>Triple<wbr>Numeric&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_modal_convertfilemodal_.html">&quot;UI/<wbr>Modal/<wbr>Convert<wbr>File<wbr>Modal&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_modal_drawsmilesmodal_.html">&quot;UI/<wbr>Modal/<wbr>Draw<wbr>Smiles<wbr>Modal&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_modal_openmodal_.html">&quot;UI/<wbr>Modal/<wbr>Open<wbr>Modal&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_resultstable_.html">&quot;UI/<wbr>Results<wbr>Table&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_subsection_.html">&quot;UI/<wbr>Sub<wbr>Section&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_tabs_startover_.html">&quot;UI/<wbr>Tabs/<wbr>Start<wbr>Over&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_tabs_vinaexistingoutput_.html">&quot;UI/<wbr>Tabs/<wbr>Vina<wbr>Existing<wbr>Output&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_tabs_vinaoutput_.html">&quot;UI/<wbr>Tabs/<wbr>Vina<wbr>Output&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_tabs_vinaparams_.html">&quot;UI/<wbr>Tabs/<wbr>Vina<wbr>Params&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_tabs_vinarunning_.html">&quot;UI/<wbr>Tabs/<wbr>Vina<wbr>Running&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_threedmol_.html">&quot;UI/<wbr>ThreeDMol&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_ui_.html">&quot;UI/UI&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_ui_vinacommandline_.html">&quot;UI/<wbr>Vina<wbr>Commandline&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_utils_.html">&quot;<wbr>Utils&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_version_.html">&quot;<wbr>Version&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_vue_setup_.html">&quot;<wbr>Vue/<wbr>Setup&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_vue_store_.html">&quot;<wbr>Vue/<wbr>Store&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_webina_src_webina_.html">&quot;<wbr>Webina/src/<wbr>Webina&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_index_.html">&quot;index&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer>
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>