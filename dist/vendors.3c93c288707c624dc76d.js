/*
 jQuery JavaScript Library v3.4.1
 https://jquery.com/

 Includes Sizzle.js
 https://sizzlejs.com/

 Copyright JS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2019-05-01T21:04Z
 Sizzle CSS Selector Engine v2.3.4
 https://sizzlejs.com/

 Copyright JS Foundation and other contributors
 Released under the MIT license
 https://js.foundation/

 Date: 2019-04-08
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(z){var Y=0;return function(){return Y<z.length?{done:!1,value:z[Y++]}:{done:!0}}};$jscomp.arrayIterator=function(z){return{next:$jscomp.arrayIteratorImpl(z)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(z,Y,I){z!=Array.prototype&&z!=Object.prototype&&(z[Y]=I.value)};$jscomp.getGlobal=function(z){return"undefined"!=typeof window&&window===z?z:"undefined"!=typeof global&&null!=global?global:z};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(z,Y){this.$jscomp$symbol$id_=z;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:Y})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function z(I){if(this instanceof z)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(I||"")+"_"+Y++,I)}var Y=0;return z}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var z=$jscomp.global.Symbol.iterator;z||(z=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[z]&&$jscomp.defineProperty(Array.prototype,z,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var z=$jscomp.global.Symbol.asyncIterator;z||(z=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(z){$jscomp.initSymbolIterator();z={next:z};z[$jscomp.global.Symbol.iterator]=function(){return this};return z};
$jscomp.findInternal=function(z,Y,I){z instanceof String&&(z=String(z));for(var na=z.length,F=0;F<na;F++){var za=z[F];if(Y.call(I,za,F,z))return{i:F,v:za}}return{i:-1,v:void 0}};$jscomp.polyfill=function(z,Y,I,na){if(Y){I=$jscomp.global;z=z.split(".");for(na=0;na<z.length-1;na++){var F=z[na];F in I||(I[F]={});I=I[F]}z=z[z.length-1];na=I[z];Y=Y(na);Y!=na&&null!=Y&&$jscomp.defineProperty(I,z,{configurable:!0,writable:!0,value:Y})}};
$jscomp.polyfill("Array.prototype.find",function(z){return z?z:function(z,I){return $jscomp.findInternal(this,z,I).v}},"es6","es3");$jscomp.iteratorFromArray=function(z,Y){$jscomp.initSymbolIterator();z instanceof String&&(z+="");var I=0,na={next:function(){if(I<z.length){var F=I++;return{value:Y(F,z[F]),done:!1}}na.next=function(){return{done:!0,value:void 0}};return na.next()}};na[Symbol.iterator]=function(){return na};return na};
$jscomp.polyfill("Array.prototype.keys",function(z){return z?z:function(){return $jscomp.iteratorFromArray(this,function(z){return z})}},"es6","es3");$jscomp.polyfill("Array.prototype.fill",function(z){return z?z:function(z,I,na){var F=this.length||0;0>I&&(I=Math.max(0,F+I));if(null==na||na>F)na=F;na=Number(na);0>na&&(na=Math.max(0,F+na));for(I=Number(I||0);I<na;I++)this[I]=z;return this}},"es6","es3");
$jscomp.checkStringArgs=function(z,Y,I){if(null==z)throw new TypeError("The 'this' value for String.prototype."+I+" must not be null or undefined");if(Y instanceof RegExp)throw new TypeError("First argument to String.prototype."+I+" must not be a regular expression");return z+""};
$jscomp.polyfill("String.prototype.startsWith",function(z){return z?z:function(z,I){var Y=$jscomp.checkStringArgs(this,z,"startsWith");z+="";var F=Y.length,za=z.length;I=Math.max(0,Math.min(I|0,Y.length));for(var Ua=0;Ua<za&&I<F;)if(Y[I++]!=z[Ua++])return!1;return Ua>=za}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(z){return z?z:function(z,I){var Y=$jscomp.checkStringArgs(this,z,"endsWith");z+="";void 0===I&&(I=Y.length);I=Math.max(0,Math.min(I|0,Y.length));for(var F=z.length;0<F&&0<I;)if(Y[--I]!=z[--F])return!1;return 0>=F}},"es6","es3");$jscomp.makeIterator=function(z){var Y="undefined"!=typeof Symbol&&Symbol.iterator&&z[Symbol.iterator];return Y?Y.call(z):$jscomp.arrayIterator(z)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(z){function Y(){this.batch_=null}function I(z){return z instanceof F?z:new F(function(b,F){b(z)})}if(z&&!$jscomp.FORCE_POLYFILL_PROMISE)return z;Y.prototype.asyncExecute=function(z){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(z)};var na=$jscomp.global.setTimeout;Y.prototype.asyncExecuteFunction=function(z){na(z,0)};Y.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var z=
this.batch_;this.batch_=[];for(var b=0;b<z.length;++b){var F=z[b];z[b]=null;try{F()}catch(a){this.asyncThrow_(a)}}}this.batch_=null};Y.prototype.asyncThrow_=function(z){this.asyncExecuteFunction(function(){throw z;})};var F=function(z){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{z(b.resolve,b.reject)}catch(Ha){b.reject(Ha)}};F.prototype.createResolveAndReject_=function(){function z(a){return function(c){F||(F=!0,a.call(b,c))}}var b=this,F=
!1;return{resolve:z(this.resolveTo_),reject:z(this.reject_)}};F.prototype.resolveTo_=function(z){if(z===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(z instanceof F)this.settleSameAsPromise_(z);else{a:switch(typeof z){case "object":var b=null!=z;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(z):this.fulfill_(z)}};F.prototype.resolveToNonPromiseObj_=function(z){var b=void 0;try{b=z.then}catch(Ha){this.reject_(Ha);return}"function"==
typeof b?this.settleSameAsThenable_(b,z):this.fulfill_(z)};F.prototype.reject_=function(z){this.settle_(2,z)};F.prototype.fulfill_=function(z){this.settle_(1,z)};F.prototype.settle_=function(z,b){if(0!=this.state_)throw Error("Cannot settle("+z+", "+b+"): Promise already settled in state"+this.state_);this.state_=z;this.result_=b;this.executeOnSettledCallbacks_()};F.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var z=0;z<this.onSettledCallbacks_.length;++z)za.asyncExecute(this.onSettledCallbacks_[z]);
this.onSettledCallbacks_=null}};var za=new Y;F.prototype.settleSameAsPromise_=function(z){var b=this.createResolveAndReject_();z.callWhenSettled_(b.resolve,b.reject)};F.prototype.settleSameAsThenable_=function(z,b){var F=this.createResolveAndReject_();try{z.call(b,F.resolve,F.reject)}catch(a){F.reject(a)}};F.prototype.then=function(z,b){function Y(b,e){return"function"==typeof b?function(e){try{a(b(e))}catch(h){c(h)}}:e}var a,c,e=new F(function(b,e){a=b;c=e});this.callWhenSettled_(Y(z,a),Y(b,c));
return e};F.prototype.catch=function(z){return this.then(void 0,z)};F.prototype.callWhenSettled_=function(z,b){function F(){switch(a.state_){case 1:z(a.result_);break;case 2:b(a.result_);break;default:throw Error("Unexpected state: "+a.state_);}}var a=this;null==this.onSettledCallbacks_?za.asyncExecute(F):this.onSettledCallbacks_.push(F)};F.resolve=I;F.reject=function(z){return new F(function(b,F){F(z)})};F.race=function(z){return new F(function(b,F){for(var a=$jscomp.makeIterator(z),c=a.next();!c.done;c=
a.next())I(c.value).callWhenSettled_(b,F)})};F.all=function(z){var b=$jscomp.makeIterator(z),Y=b.next();return Y.done?I([]):new F(function(a,c){function e(b){return function(c){n[b]=c;t--;0==t&&a(n)}}var n=[],t=0;do n.push(void 0),t++,I(Y.value).callWhenSettled_(e(n.length-1),c),Y=b.next();while(!Y.done)})};return F},"es6","es3");$jscomp.owns=function(z,Y){return Object.prototype.hasOwnProperty.call(z,Y)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(z,Y){for(var I=1;I<arguments.length;I++){var na=arguments[I];if(na)for(var F in na)$jscomp.owns(na,F)&&(z[F]=na[F])}return z};$jscomp.polyfill("Object.assign",function(z){return z||$jscomp.assign},"es6","es3");
$jscomp.polyfill("String.prototype.repeat",function(z){return z?z:function(z){var Y=$jscomp.checkStringArgs(this,null,"repeat");if(0>z||1342177279<z)throw new RangeError("Invalid count value");z|=0;for(var na="";z;)if(z&1&&(na+=Y),z>>>=1)Y+=Y;return na}},"es6","es3");$jscomp.polyfill("Object.is",function(z){return z?z:function(z,I){return z===I?0!==z||1/z===1/I:z!==z&&I!==I}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(z){return z?z:function(z,I){var Y=this;Y instanceof String&&(Y=String(Y));var F=Y.length;I=I||0;for(0>I&&(I=Math.max(I+F,0));I<F;I++){var za=Y[I];if(za===z||Object.is(za,z))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(z){return z?z:function(z,I){return-1!==$jscomp.checkStringArgs(this,z,"includes").indexOf(z,I||0)}},"es6","es3");
$jscomp.polyfill("Number.isFinite",function(z){return z?z:function(z){return"number"!==typeof z?!1:!isNaN(z)&&Infinity!==z&&-Infinity!==z}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(z){return z?z:function(z){return Number.isFinite(z)?z===Math.floor(z):!1}},"es6","es3");
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+eM2":function(z,Y,I){},EVdn:function(z,Y,I){var na,F;(function(F,I){"object"===typeof z.exports?z.exports=F.document?I(F,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return I(b)}:I(F)})("undefined"!==typeof window?window:this,function(I,Ua){function b(f,a,k){k=k||qa;var D,b=k.createElement("script");b.text=f;if(a)for(D in Na)(f=a[D]||a.getAttribute&&a.getAttribute(D))&&b.setAttribute(D,f);k.head.appendChild(b).parentNode.removeChild(b)}
function Ha(f){return null==f?f+"":"object"===typeof f||"function"===typeof f?Qa[za.call(f)]||"object":typeof f}function a(f){var a=!!f&&"length"in f&&f.length,k=Ha(f);return ma(f)||mb(f)?!1:"array"===k||0===a||"number"===typeof a&&0<a&&a-1 in f}function c(f,a){return f.nodeName&&f.nodeName.toLowerCase()===a.toLowerCase()}function e(f,a,k){return ma(a)?w.grep(f,function(f,D){return!!a.call(f,D,f)!==k}):a.nodeType?w.grep(f,function(f){return f===a!==k}):"string"!==typeof a?w.grep(f,function(f){return-1<
Ya.call(a,f)!==k}):w.filter(a,f,k)}function n(f,a){for(;(f=f[a])&&1!==f.nodeType;);return f}function t(f){var a={};w.each(f.match(cb)||[],function(f,D){a[D]=!0});return a}function m(f){return f}function h(f){throw f;}function r(f,a,k,b){var D;try{f&&ma(D=f.promise)?D.call(f).done(a).fail(k):f&&ma(D=f.then)?D.call(f,a,k):a.apply(void 0,[f].slice(b))}catch(gc){k.apply(void 0,[gc])}}function u(){qa.removeEventListener("DOMContentLoaded",u);I.removeEventListener("load",u);w.ready()}function y(f,a){return a.toUpperCase()}
function x(f){return f.replace(Ia,"ms-").replace(db,y)}function p(){this.expando=w.expando+p.uid++}function d(f,a,k){if(void 0===k&&1===f.nodeType)if(k="data-"+a.replace(Va,"-$&").toLowerCase(),k=f.getAttribute(k),"string"===typeof k){try{var D=k;k="true"===D?!0:"false"===D?!1:"null"===D?null:D===+D+""?+D:da.test(D)?JSON.parse(D):D}catch(rc){}Ja.set(f,a,k)}else k=void 0;return k}function g(f,a,k,b){var D,c=20,ra=b?function(){return b.cur()}:function(){return w.css(f,a,"")},d=ra(),G=k&&k[3]||(w.cssNumber[a]?
"":"px"),l=f.nodeType&&(w.cssNumber[a]||"px"!==G&&+d)&&Ba.exec(w.css(f,a));if(l&&l[3]!==G){d/=2;G=G||l[3];for(l=+d||1;c--;)w.style(f,a,l+G),0>=(1-D)*(1-(D=ra()/d||.5))&&(c=0),l/=D;l*=2;w.style(f,a,l+G);k=k||[]}if(k){l=+l||+d||0;var g=k[1]?l+(k[1]+1)*k[2]:+k[2];b&&(b.unit=G,b.start=l,b.end=g)}return g}function E(f,a){for(var D,k,b=[],c=0,d=f.length;c<d;c++)if(k=f[c],k.style)if(D=k.style.display,a){if("none"===D&&(b[c]=oa.get(k,"display")||null,b[c]||(k.style.display="")),""===k.style.display&&ya(k)){D=
c;var l=k.ownerDocument;k=k.nodeName;var G=jb[k];G||(l=l.body.appendChild(l.createElement(k)),G=w.css(l,"display"),l.parentNode.removeChild(l),"none"===G&&(G="block"),jb[k]=G);l=G;b[D]=l}}else"none"!==D&&(b[c]="none",oa.set(k,"display",D));for(c=0;c<d;c++)null!=b[c]&&(f[c].style.display=b[c]);return f}function l(f,a){var D="undefined"!==typeof f.getElementsByTagName?f.getElementsByTagName(a||"*"):"undefined"!==typeof f.querySelectorAll?f.querySelectorAll(a||"*"):[];return void 0===a||a&&c(f,a)?w.merge([f],
D):D}function L(f,a){for(var D=0,k=f.length;D<k;D++)oa.set(f[D],"globalEval",!a||oa.get(a[D],"globalEval"))}function A(f,a,k,b,c){for(var D,ra,d,G=a.createDocumentFragment(),g=[],e=0,h=f.length;e<h;e++)if((D=f[e])||0===D)if("object"===Ha(D))w.merge(g,D.nodeType?[D]:D);else if(Wb.test(D)){ra=ra||G.appendChild(a.createElement("div"));d=(kb.exec(D)||["",""])[1].toLowerCase();d=nb[d]||nb._default;ra.innerHTML=d[1]+w.htmlPrefilter(D)+d[2];for(d=d[0];d--;)ra=ra.lastChild;w.merge(g,ra.childNodes);ra=G.firstChild;
ra.textContent=""}else g.push(a.createTextNode(D));G.textContent="";for(e=0;D=g[e++];)if(b&&-1<w.inArray(D,b))c&&c.push(D);else if(f=gb(D),ra=l(G.appendChild(D),"script"),f&&L(ra),k)for(d=0;D=ra[d++];)Ra.test(D.type||"")&&k.push(D);return G}function B(){return!0}function S(){return!1}function C(f,a){a:{try{var D=qa.activeElement;break a}catch($b){}D=void 0}return f===D===("focus"===a)}function U(f,a,k,b,c,d){var D;if("object"===typeof a){"string"!==typeof k&&(b=b||k,k=void 0);for(D in a)U(f,D,k,b,
a[D],d);return f}null==b&&null==c?(c=k,b=k=void 0):null==c&&("string"===typeof k?(c=b,b=void 0):(c=b,b=k,k=void 0));if(!1===c)c=S;else if(!c)return f;if(1===d){var ra=c;c=function(f){w().off(f);return ra.apply(this,arguments)};c.guid=ra.guid||(ra.guid=w.guid++)}return f.each(function(){w.event.add(this,a,c,b,k)})}function q(f,a,k){k?(oa.set(f,a,!1),w.event.add(f,a,{namespace:!1,handler:function(f){var D=oa.get(this,a);if(f.isTrigger&1&&this[a])if(D.length)(w.event.special[a]||{}).delegateType&&f.stopPropagation();
else{D=xa.call(arguments);oa.set(this,a,D);var b=k(this,a);this[a]();var c=oa.get(this,a);D!==c||b?oa.set(this,a,!1):c={};if(D!==c)return f.stopImmediatePropagation(),f.preventDefault(),c.value}else D.length&&(oa.set(this,a,{value:w.event.trigger(w.extend(D[0],w.Event.prototype),D.slice(1),this)}),f.stopImmediatePropagation())}})):void 0===oa.get(f,a)&&w.event.add(f,a,B)}function M(f,a){return c(f,"table")&&c(11!==a.nodeType?a:a.firstChild,"tr")?w(f).children("tbody")[0]||f:f}function ia(f){f.type=
(null!==f.getAttribute("type"))+"/"+f.type;return f}function X(f){"true/"===(f.type||"").slice(0,5)?f.type=f.type.slice(5):f.removeAttribute("type");return f}function K(f,a){var D,k;if(1===a.nodeType){if(oa.hasData(f)){var b=oa.access(f);var c=oa.set(a,b);if(b=b.events)for(k in delete c.handle,c.events={},b)for(c=0,D=b[k].length;c<D;c++)w.event.add(a,k,b[k][c])}Ja.hasData(f)&&(f=Ja.access(f),f=w.extend({},f),Ja.set(a,f))}}function N(f,a,k,c){a=ac.apply([],a);var D,d=0,ra=f.length,G=ra-1,g=a[0],e=
ma(g);if(e||1<ra&&"string"===typeof g&&!Aa.checkClone&&Jb.test(g))return f.each(function(D){var b=f.eq(D);e&&(a[0]=g.call(this,D,b.html()));N(b,a,k,c)});if(ra){var h=A(a,f[0].ownerDocument,!1,f,c);var p=h.firstChild;1===h.childNodes.length&&(h=p);if(p||c){p=w.map(l(h,"script"),ia);for(D=p.length;d<ra;d++){var J=h;d!==G&&(J=w.clone(J,!0,!0),D&&w.merge(p,l(J,"script")));k.call(f[d],J,d)}if(D)for(h=p[p.length-1].ownerDocument,w.map(p,X),d=0;d<D;d++)J=p[d],Ra.test(J.type||"")&&!oa.access(J,"globalEval")&&
w.contains(h,J)&&(J.src&&"module"!==(J.type||"").toLowerCase()?w._evalUrl&&!J.noModule&&w._evalUrl(J.src,{nonce:J.nonce||J.getAttribute("nonce")}):b(J.textContent.replace(Sa,""),J,h))}}return f}function H(f,a,k){for(var D=a?w.filter(a,f):f,b=0;null!=(a=D[b]);b++)k||1!==a.nodeType||w.cleanData(l(a)),a.parentNode&&(k&&gb(a)&&L(l(a,"script")),a.parentNode.removeChild(a));return f}function ta(f,a,k){var D=f.style;if(k=k||sb(f)){var b=k.getPropertyValue(a)||k[a];""!==b||gb(f)||(b=w.style(f,a));if(!Aa.pixelBoxStyles()&&
xb.test(b)&&sa.test(a)){f=D.width;a=D.minWidth;var c=D.maxWidth;D.minWidth=D.maxWidth=D.width=b;b=k.width;D.width=f;D.minWidth=a;D.maxWidth=c}}return void 0!==b?b+"":b}function Fa(f,a){return{get:function(){if(f())delete this.get;else return(this.get=a).apply(this,arguments)}}}function O(f){var a=w.cssProps[f]||Qb[f];if(a)return a;if(f in Oa)return f;a:{a=f;for(var k=a[0].toUpperCase()+a.slice(1),b=oc.length;b--;)if(a=oc[b]+k,a in Oa)break a;a=void 0}return Qb[f]=a||f}function W(f,a,k){return(f=Ba.exec(a))?
Math.max(0,f[2]-(k||0))+(f[3]||"px"):a}function V(f,a,k,b,c,d){var D="width"===a?1:0,G=0,l=0;if(k===(b?"border":"content"))return 0;for(;4>D;D+=2)"margin"===k&&(l+=w.css(f,k+Ma[D],!0,c)),b?("content"===k&&(l-=w.css(f,"padding"+Ma[D],!0,c)),"margin"!==k&&(l-=w.css(f,"border"+Ma[D]+"Width",!0,c))):(l+=w.css(f,"padding"+Ma[D],!0,c),"padding"!==k?l+=w.css(f,"border"+Ma[D]+"Width",!0,c):G+=w.css(f,"border"+Ma[D]+"Width",!0,c));!b&&0<=d&&(l+=Math.max(0,Math.ceil(f["offset"+a[0].toUpperCase()+a.slice(1)]-
d-l-G-.5))||0);return l}function P(f,a,k){var D=sb(f),b=(!Aa.boxSizingReliable()||k)&&"border-box"===w.css(f,"boxSizing",!1,D),c=b,d=ta(f,a,D),l="offset"+a[0].toUpperCase()+a.slice(1);if(xb.test(d)){if(!k)return d;d="auto"}(!Aa.boxSizingReliable()&&b||"auto"===d||!parseFloat(d)&&"inline"===w.css(f,"display",!1,D))&&f.getClientRects().length&&(b="border-box"===w.css(f,"boxSizing",!1,D),(c=l in f)&&(d=f[l]));d=parseFloat(d)||0;return d+V(f,a,k||(b?"border":"content"),c,D,d)+"px"}function J(f,a,k,b,
c){return new J.prototype.init(f,a,k,b,c)}function Q(){Ta&&(!1===qa.hidden&&I.requestAnimationFrame?I.requestAnimationFrame(Q):I.setTimeout(Q,w.fx.interval),w.fx.tick())}function R(){I.setTimeout(function(){ob=void 0});return ob=Date.now()}function T(f,a){var k=0,D={height:f};for(a=a?1:0;4>k;k+=2-a){var b=Ma[k];D["margin"+b]=D["padding"+b]=f}a&&(D.opacity=D.width=f);return D}function ea(f,a,k){for(var D,b=(ja.tweeners[a]||[]).concat(ja.tweeners["*"]),c=0,d=b.length;c<d;c++)if(D=b[c].call(k,a,f))return D}
function la(f,a){var k,D;for(k in f){var b=x(k);var c=a[b];var d=f[k];Array.isArray(d)&&(c=d[1],d=f[k]=d[0]);k!==b&&(f[b]=d,delete f[k]);if((D=w.cssHooks[b])&&"expand"in D)for(k in d=D.expand(d),delete f[b],d)k in f||(f[k]=d[k],a[k]=c);else a[b]=c}}function ja(f,a,k){var b,D=0,c=ja.prefilters.length,d=w.Deferred().always(function(){delete l.elem}),l=function(){if(b)return!1;var a=ob||R();a=Math.max(0,G.startTime+G.duration-a);for(var k=1-(a/G.duration||0),D=0,c=G.tweens.length;D<c;D++)G.tweens[D].run(k);
d.notifyWith(f,[G,k,a]);if(1>k&&c)return a;c||d.notifyWith(f,[G,1,0]);d.resolveWith(f,[G]);return!1},G=d.promise({elem:f,props:w.extend({},a),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},k),originalProperties:a,originalOptions:k,startTime:ob||R(),duration:k.duration,tweens:[],createTween:function(a,k){a=w.Tween(f,G.opts,a,k,G.opts.specialEasing[a]||G.opts.easing);G.tweens.push(a);return a},stop:function(a){var k=0,D=a?G.tweens.length:0;if(b)return this;for(b=!0;k<D;k++)G.tweens[k].run(1);
a?(d.notifyWith(f,[G,1,0]),d.resolveWith(f,[G,a])):d.rejectWith(f,[G,a]);return this}});k=G.props;for(la(k,G.opts.specialEasing);D<c;D++)if(a=ja.prefilters[D].call(G,f,k,G.opts))return ma(a.stop)&&(w._queueHooks(G.elem,G.opts.queue).stop=a.stop.bind(a)),a;w.map(k,ea,G);ma(G.opts.start)&&G.opts.start.call(f,G);G.progress(G.opts.progress).done(G.opts.done,G.opts.complete).fail(G.opts.fail).always(G.opts.always);w.fx.timer(w.extend(l,{elem:f,anim:G,queue:G.opts.queue}));return G}function fa(f){return(f.match(cb)||
[]).join(" ")}function ha(f){return f.getAttribute&&f.getAttribute("class")||""}function Z(f){return Array.isArray(f)?f:"string"===typeof f?f.match(cb)||[]:[]}function ba(f,a,k,b){var D;if(Array.isArray(a))w.each(a,function(a,D){k||Da.test(f)?b(f,D):ba(f+"["+("object"===typeof D&&null!=D?a:"")+"]",D,k,b)});else if(k||"object"!==Ha(a))b(f,a);else for(D in a)ba(f+"["+D+"]",a[D],k,b)}function ua(f){return function(a,k){"string"!==typeof a&&(k=a,a="*");var b=0,D=a.toLowerCase().match(cb)||[];if(ma(k))for(;a=
D[b++];)"+"===a[0]?(a=a.slice(1)||"*",(f[a]=f[a]||[]).unshift(k)):(f[a]=f[a]||[]).push(k)}}function ca(f,a,k,b){function D(G){var l;c[G]=!0;w.each(f[G]||[],function(f,G){f=G(a,k,b);if("string"===typeof f&&!d&&!c[f])return a.dataTypes.unshift(f),D(f),!1;if(d)return!(l=f)});return l}var c={},d=f===Hb;return D(a.dataTypes[0])||!c["*"]&&D("*")}function aa(f,a){var k,b,D=w.ajaxSettings.flatOptions||{};for(k in a)void 0!==a[k]&&((D[k]?f:b||(b={}))[k]=a[k]);b&&w.extend(!0,f,b);return f}var pa=[],qa=I.document,
mc=Object.getPrototypeOf,xa=pa.slice,ac=pa.concat,Za=pa.push,Ya=pa.indexOf,Qa={},za=Qa.toString,va=Qa.hasOwnProperty,v=va.toString,Nb=v.call(Object),Aa={},ma=function(f){return"function"===typeof f&&"number"!==typeof f.nodeType},mb=function(f){return null!=f&&f===f.window},Na={type:!0,src:!0,nonce:!0,noModule:!0},w=function(f,a){return new w.fn.init(f,a)},hb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:"3.4.1",constructor:w,length:0,toArray:function(){return xa.call(this)},get:function(f){return null==
f?xa.call(this):0>f?this[f+this.length]:this[f]},pushStack:function(f){f=w.merge(this.constructor(),f);f.prevObject=this;return f},each:function(f){return w.each(this,f)},map:function(f){return this.pushStack(w.map(this,function(a,k){return f.call(a,k,a)}))},slice:function(){return this.pushStack(xa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(f){var a=this.length;f=+f+(0>f?a:0);return this.pushStack(0<=f&&f<a?[this[f]]:[])},end:function(){return this.prevObject||
this.constructor()},push:Za,sort:pa.sort,splice:pa.splice};w.extend=w.fn.extend=function(){var f,a,k,b=arguments[0]||{},c=1,d=arguments.length,G=!1;"boolean"===typeof b&&(G=b,b=arguments[c]||{},c++);"object"===typeof b||ma(b)||(b={});c===d&&(b=this,c--);for(;c<d;c++)if(null!=(f=arguments[c]))for(a in f){var l=f[a];if("__proto__"!==a&&b!==l)if(G&&l&&(w.isPlainObject(l)||(k=Array.isArray(l)))){var g=b[a];g=k&&!Array.isArray(g)?[]:k||w.isPlainObject(g)?g:{};k=!1;b[a]=w.extend(G,g,l)}else void 0!==l&&
(b[a]=l)}return b};w.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw Error(f);},noop:function(){},isPlainObject:function(f){if(!f||"[object Object]"!==za.call(f))return!1;f=mc(f);if(!f)return!0;f=va.call(f,"constructor")&&f.constructor;return"function"===typeof f&&v.call(f)===Nb},isEmptyObject:function(f){for(var a in f)return!1;return!0},globalEval:function(f,a){b(f,{nonce:a&&a.nonce})},each:function(f,k){var b,D=0;if(a(f))for(b=f.length;D<b&&
!1!==k.call(f[D],D,f[D]);D++);else for(D in f)if(!1===k.call(f[D],D,f[D]))break;return f},trim:function(f){return null==f?"":(f+"").replace(hb,"")},makeArray:function(f,k){k=k||[];null!=f&&(a(Object(f))?w.merge(k,"string"===typeof f?[f]:f):Za.call(k,f));return k},inArray:function(f,a,k){return null==a?-1:Ya.call(a,f,k)},merge:function(f,a){for(var k=+a.length,b=0,D=f.length;b<k;b++)f[D++]=a[b];f.length=D;return f},grep:function(f,a,k){for(var b=[],D=0,c=f.length,d=!k;D<c;D++)k=!a(f[D],D),k!==d&&b.push(f[D]);
return b},map:function(f,k,b){var D,c=0,d=[];if(a(f))for(D=f.length;c<D;c++){var G=k(f[c],c,b);null!=G&&d.push(G)}else for(c in f)G=k(f[c],c,b),null!=G&&d.push(G);return ac.apply([],d)},guid:1,support:Aa});$jscomp.initSymbol();"function"===typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),w.fn[Symbol.iterator]=pa[Symbol.iterator]);w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,a){Qa["[object "+
a+"]"]=a.toLowerCase()});var Ka=function(f){function a(f,a,k,b){var D,c,d,G;var l=a&&a.ownerDocument;var g=a?a.nodeType:9;k=k||[];if("string"!==typeof f||!f||1!==g&&9!==g&&11!==g)return k;if(!b&&((a?a.ownerDocument||a:S)!==t&&bc(a),a=a||t,L)){if(11!==g&&(G=ha.exec(f)))if(D=G[1])if(9===g)if(c=a.getElementById(D)){if(c.id===D)return k.push(c),k}else return k;else{if(l&&(c=l.getElementById(D))&&A(a,c)&&c.id===D)return k.push(c),k}else{if(G[2])return ea.apply(k,a.getElementsByTagName(f)),k;if((D=G[3])&&
wa.getElementsByClassName&&a.getElementsByClassName)return ea.apply(k,a.getElementsByClassName(D)),k}if(!(!wa.qsa||y[f+" "]||W&&W.test(f)||1===g&&"object"===a.nodeName.toLowerCase())){D=f;l=a;if(1===g&&ta.test(f)){(d=a.getAttribute("id"))?d=d.replace(ua,Ka):a.setAttribute("id",d=v);g=cc(f);for(l=g.length;l--;)g[l]="#"+d+" "+m(g[l]);D=g.join(",");l=Ma.test(f)&&p(a.parentNode)||a}try{return ea.apply(k,l.querySelectorAll(D)),k}catch(Ec){y(f,!0)}finally{d===v&&a.removeAttribute("id")}}}return pa(f.replace(la,
"$1"),a,k,b)}function k(){function f(k,b){a.push(k+" ")>Ca.cacheLength&&delete f[a.shift()];return f[k+" "]=b}var a=[];return f}function b(f){f[v]=!0;return f}function c(f){var a=t.createElement("fieldset");try{return!!f(a)}catch(Bc){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}function d(f,a){f=f.split("|");for(var k=f.length;k--;)Ca.attrHandle[f[k]]=a}function G(f,a){var k=a&&f,b=k&&1===f.nodeType&&1===a.nodeType&&f.sourceIndex-a.sourceIndex;if(b)return b;if(k)for(;k=k.nextSibling;)if(k===
a)return-1;return f?1:-1}function l(f){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===f}}function g(f){return function(a){var k=a.nodeName.toLowerCase();return("input"===k||"button"===k)&&a.type===f}}function e(f){return function(a){return"form"in a?a.parentNode&&!1===a.disabled?"label"in a?"label"in a.parentNode?a.parentNode.disabled===f:a.disabled===f:a.isDisabled===f||a.isDisabled!==!f&&gb(a)===f:a.disabled===f:"label"in a?a.disabled===f:!1}}function h(f){return b(function(a){a=
+a;return b(function(k,b){for(var D,c=f([],k.length,a),d=c.length;d--;)k[D=c[d]]&&(k[D]=!(b[D]=k[D]))})})}function p(f){return f&&"undefined"!==typeof f.getElementsByTagName&&f}function J(){}function m(f){for(var a=0,k=f.length,b="";a<k;a++)b+=f[a].value;return b}function q(f,a,k){var b=a.dir,D=a.next,c=D||b,d=k&&"parentNode"===c,G=x++;return a.first?function(a,k,D){for(;a=a[b];)if(1===a.nodeType||d)return f(a,k,D);return!1}:function(a,k,l){var g,h=[R,G];if(l)for(;a=a[b];){if((1===a.nodeType||d)&&
f(a,k,l))return!0}else for(;a=a[b];)if(1===a.nodeType||d){var e=a[v]||(a[v]={});e=e[a.uniqueID]||(e[a.uniqueID]={});if(D&&D===a.nodeName.toLowerCase())a=a[b]||a;else{if((g=e[c])&&g[0]===R&&g[1]===G)return h[2]=g[2];e[c]=h;if(h[2]=f(a,k,l))return!0}}return!1}}function C(f){return 1<f.length?function(a,k,b){for(var D=f.length;D--;)if(!f[D](a,k,b))return!1;return!0}:f[0]}function r(f,a,k,b,D){for(var c,d=[],G=0,l=f.length,g=null!=a;G<l;G++)if(c=f[G])if(!k||k(c,b,D))d.push(c),g&&a.push(G);return d}function w(f,
k,D,c,d,G){c&&!c[v]&&(c=w(c));d&&!d[v]&&(d=w(d,G));return b(function(b,G,l,g){var e,h=[],p=[],J=G.length,ra;if(!(ra=b)){ra=k||"*";for(var m=l.nodeType?[l]:l,q=[],C=0,w=m.length;C<w;C++)a(ra,m[C],q);ra=q}ra=!f||!b&&k?ra:r(ra,h,f,l,g);m=D?d||(b?f:J||c)?[]:G:ra;D&&D(ra,m,l,g);if(c){var O=r(m,p);c(O,[],l,g);for(l=O.length;l--;)if(e=O[l])m[p[l]]=!(ra[p[l]]=e)}if(b){if(d||f){if(d){O=[];for(l=m.length;l--;)(e=m[l])&&O.push(ra[l]=e);d(null,m=[],O,g)}for(l=m.length;l--;)(e=m[l])&&-1<(O=d?H(b,e):h[l])&&(b[O]=
!(G[O]=e))}}else m=r(m===G?m.splice(J,m.length):m),d?d(null,G,m,g):ea.apply(G,m)})}function O(f){var a,k,b=f.length,D=Ca.relative[f[0].type];var c=D||Ca.relative[" "];for(var d=D?1:0,G=q(function(f){return f===a},c,!0),l=q(function(f){return-1<H(a,f)},c,!0),g=[function(f,k,b){f=!D&&(b||k!==Q)||((a=k).nodeType?G(f,k,b):l(f,k,b));a=null;return f}];d<b;d++)if(c=Ca.relative[f[d].type])g=[q(C(g),c)];else{c=Ca.filter[f[d].type].apply(null,f[d].matches);if(c[v]){for(k=++d;k<b&&!Ca.relative[f[k].type];k++);
return w(1<d&&C(g),1<d&&m(f.slice(0,d-1).concat({value:" "===f[d-2].type?"*":""})).replace(la,"$1"),c,d<k&&O(f.slice(d,k)),k<b&&O(f=f.slice(k)),k<b&&m(f))}g.push(c)}return C(g)}function P(f,k){var D=0<k.length,c=0<f.length,d=function(b,d,G,l,g){var e,h,p=0,J="0",ra=b&&[],m=[],q=Q,C=b||c&&Ca.find.TAG("*",g),O=R+=null==q?1:Math.random()||.1,w=C.length;for(g&&(Q=d===t||d||g);J!==w&&null!=(e=C[J]);J++){if(c&&e){var P=0;d||e.ownerDocument===t||(bc(e),G=!L);for(;h=f[P++];)if(h(e,d||t,G)){l.push(e);break}g&&
(R=O)}D&&((e=!h&&e)&&p--,b&&ra.push(e))}p+=J;if(D&&J!==p){for(P=0;h=k[P++];)h(ra,m,d,G);if(b){if(0<p)for(;J--;)ra[J]||m[J]||(m[J]=Va.call(l));m=r(m)}ea.apply(l,m);g&&!b&&0<m.length&&1<p+k.length&&a.uniqueSort(l)}g&&(R=O,Q=q);return ra};return D?b(d):d}var n,Q,da,B,t,E,L,W,u,Gb,A,v="sizzle"+1*new Date,S=f.document,R=0,x=0,V=k(),U=k(),T=k(),y=k(),K=function(f,a){f===a&&(B=!0);return 0},fc={}.hasOwnProperty,M=[],Va=M.pop,ia=M.push,ea=M.push,X=M.slice,H=function(f,a){for(var k=0,b=f.length;k<b;k++)if(f[k]===
a)return k;return-1},N=/[\x20\t\r\n\f]+/g,la=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,fa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ja=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ta=/[\x20\t\r\n\f]|>/,Kb=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
Ba=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Z={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Na=/HTML$/i,ba=/^(?:input|select|textarea|button)$/i,Fa=
/^h\d$/i,z=/^[^{]+\{\s*\[native \w/,ha=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ma=/[+~]/,ca=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,aa=function(f,a,k){f="0x"+a-65536;return f!==f||k?a:0>f?String.fromCharCode(f+65536):String.fromCharCode(f>>10|55296,f&1023|56320)},ua=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ka=function(f,a){return a?"\x00"===f?"\ufffd":f.slice(0,-1)+"\\"+f.charCodeAt(f.length-1).toString(16)+" ":"\\"+f},F=function(){bc()},gb=q(function(f){return!0===f.disabled&&
"fieldset"===f.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{ea.apply(M=X.call(S.childNodes),S.childNodes),M[S.childNodes.length].nodeType}catch(Ac){ea={apply:M.length?function(f,a){ia.apply(f,X.call(a))}:function(f,a){for(var k=f.length,b=0;f[k++]=a[b++];);f.length=k-1}}}var wa=a.support={};var vc=a.isXML=function(f){var a=(f.ownerDocument||f).documentElement;return!Na.test(f.namespaceURI||a&&a.nodeName||"HTML")};var bc=a.setDocument=function(f){var a;f=f?f.ownerDocument||f:S;if(f===
t||9!==f.nodeType||!f.documentElement)return t;t=f;E=t.documentElement;L=!vc(t);S!==t&&(a=t.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",F,!1):a.attachEvent&&a.attachEvent("onunload",F));wa.attributes=c(function(f){f.className="i";return!f.getAttribute("className")});wa.getElementsByTagName=c(function(f){f.appendChild(t.createComment(""));return!f.getElementsByTagName("*").length});wa.getElementsByClassName=z.test(t.getElementsByClassName);wa.getById=c(function(f){E.appendChild(f).id=
v;return!t.getElementsByName||!t.getElementsByName(v).length});wa.getById?(Ca.filter.ID=function(f){var a=f.replace(ca,aa);return function(f){return f.getAttribute("id")===a}},Ca.find.ID=function(f,a){if("undefined"!==typeof a.getElementById&&L)return(f=a.getElementById(f))?[f]:[]}):(Ca.filter.ID=function(f){var a=f.replace(ca,aa);return function(f){return(f="undefined"!==typeof f.getAttributeNode&&f.getAttributeNode("id"))&&f.value===a}},Ca.find.ID=function(f,a){if("undefined"!==typeof a.getElementById&&
L){var k,b=a.getElementById(f);if(b){if((k=b.getAttributeNode("id"))&&k.value===f)return[b];var D=a.getElementsByName(f);for(a=0;b=D[a++];)if((k=b.getAttributeNode("id"))&&k.value===f)return[b]}return[]}});Ca.find.TAG=wa.getElementsByTagName?function(f,a){if("undefined"!==typeof a.getElementsByTagName)return a.getElementsByTagName(f);if(wa.qsa)return a.querySelectorAll(f)}:function(f,a){var k=[],b=0;a=a.getElementsByTagName(f);if("*"===f){for(;f=a[b++];)1===f.nodeType&&k.push(f);return k}return a};
Ca.find.CLASS=wa.getElementsByClassName&&function(f,a){if("undefined"!==typeof a.getElementsByClassName&&L)return a.getElementsByClassName(f)};u=[];W=[];if(wa.qsa=z.test(t.querySelectorAll))c(function(f){E.appendChild(f).innerHTML="<a id='"+v+"'></a><select id='"+v+"-\r\\' msallowcapture=''><option selected=''></option></select>";f.querySelectorAll("[msallowcapture^='']").length&&W.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");f.querySelectorAll("[selected]").length||W.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
f.querySelectorAll("[id~="+v+"-]").length||W.push("~=");f.querySelectorAll(":checked").length||W.push(":checked");f.querySelectorAll("a#"+v+"+*").length||W.push(".#.+[+~]")}),c(function(f){f.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var a=t.createElement("input");a.setAttribute("type","hidden");f.appendChild(a).setAttribute("name","D");f.querySelectorAll("[name=d]").length&&W.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==f.querySelectorAll(":enabled").length&&
W.push(":enabled",":disabled");E.appendChild(f).disabled=!0;2!==f.querySelectorAll(":disabled").length&&W.push(":enabled",":disabled");f.querySelectorAll("*,:x");W.push(",.*:")});(wa.matchesSelector=z.test(Gb=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&c(function(f){wa.disconnectedMatch=Gb.call(f,"*");Gb.call(f,"[s!='']:x");u.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
W=W.length&&new RegExp(W.join("|"));u=u.length&&new RegExp(u.join("|"));A=(a=z.test(E.compareDocumentPosition))||z.test(E.contains)?function(f,a){var k=9===f.nodeType?f.documentElement:f;a=a&&a.parentNode;return f===a||!!(a&&1===a.nodeType&&(k.contains?k.contains(a):f.compareDocumentPosition&&f.compareDocumentPosition(a)&16))}:function(f,a){if(a)for(;a=a.parentNode;)if(a===f)return!0;return!1};K=a?function(f,a){if(f===a)return B=!0,0;var k=!f.compareDocumentPosition-!a.compareDocumentPosition;if(k)return k;
k=(f.ownerDocument||f)===(a.ownerDocument||a)?f.compareDocumentPosition(a):1;return k&1||!wa.sortDetached&&a.compareDocumentPosition(f)===k?f===t||f.ownerDocument===S&&A(S,f)?-1:a===t||a.ownerDocument===S&&A(S,a)?1:da?H(da,f)-H(da,a):0:k&4?-1:1}:function(f,a){if(f===a)return B=!0,0;var k=0,b=f.parentNode,D=a.parentNode,c=[f],d=[a];if(!b||!D)return f===t?-1:a===t?1:b?-1:D?1:da?H(da,f)-H(da,a):0;if(b===D)return G(f,a);for(;f=f.parentNode;)c.unshift(f);for(f=a;f=f.parentNode;)d.unshift(f);for(;c[k]===
d[k];)k++;return k?G(c[k],d[k]):c[k]===S?-1:d[k]===S?1:0};return t};a.matches=function(f,k){return a(f,null,null,k)};a.matchesSelector=function(f,k){(f.ownerDocument||f)!==t&&bc(f);if(!(!wa.matchesSelector||!L||y[k+" "]||u&&u.test(k)||W&&W.test(k)))try{var b=Gb.call(f,k);if(b||wa.disconnectedMatch||f.document&&11!==f.document.nodeType)return b}catch(Cc){y(k,!0)}return 0<a(k,t,null,[f]).length};a.contains=function(f,a){(f.ownerDocument||f)!==t&&bc(f);return A(f,a)};a.attr=function(f,a){(f.ownerDocument||
f)!==t&&bc(f);var k=Ca.attrHandle[a.toLowerCase()];k=k&&fc.call(Ca.attrHandle,a.toLowerCase())?k(f,a,!L):void 0;return void 0!==k?k:wa.attributes||!L?f.getAttribute(a):(k=f.getAttributeNode(a))&&k.specified?k.value:null};a.escape=function(f){return(f+"").replace(ua,Ka)};a.error=function(f){throw Error("Syntax error, unrecognized expression: "+f);};a.uniqueSort=function(f){var a,k=[],b=0,D=0;B=!wa.detectDuplicates;da=!wa.sortStable&&f.slice(0);f.sort(K);if(B){for(;a=f[D++];)a===f[D]&&(b=k.push(D));
for(;b--;)f.splice(k[b],1)}da=null;return f};var pc=a.getText=function(f){var a="",k=0;var b=f.nodeType;if(!b)for(;b=f[k++];)a+=pc(b);else if(1===b||9===b||11===b){if("string"===typeof f.textContent)return f.textContent;for(f=f.firstChild;f;f=f.nextSibling)a+=pc(f)}else if(3===b||4===b)return f.nodeValue;return a};var Ca=a.selectors={cacheLength:50,createPseudo:b,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(f){f[1]=f[1].replace(ca,aa);f[3]=(f[3]||f[4]||f[5]||"").replace(ca,aa);"~="===f[2]&&(f[3]=" "+f[3]+" ");return f.slice(0,4)},CHILD:function(f){f[1]=f[1].toLowerCase();"nth"===f[1].slice(0,3)?(f[3]||a.error(f[0]),f[4]=+(f[4]?f[5]+(f[6]||1):2*("even"===f[3]||"odd"===f[3])),f[5]=+(f[7]+f[8]||"odd"===f[3])):f[3]&&a.error(f[0]);return f},PSEUDO:function(f){var a,k=!f[6]&&f[2];if(Z.CHILD.test(f[0]))return null;f[3]?f[2]=f[4]||f[5]||"":k&&Kb.test(k)&&(a=cc(k,!0))&&(a=k.indexOf(")",
k.length-a)-k.length)&&(f[0]=f[0].slice(0,a),f[2]=k.slice(0,a));return f.slice(0,3)}},filter:{TAG:function(f){var a=f.replace(ca,aa).toLowerCase();return"*"===f?function(){return!0}:function(f){return f.nodeName&&f.nodeName.toLowerCase()===a}},CLASS:function(f){var a=V[f+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+f+"([\\x20\\t\\r\\n\\f]|$)"),V(f,function(f){return a.test("string"===typeof f.className&&f.className||"undefined"!==typeof f.getAttribute&&f.getAttribute("class")||"")}))},ATTR:function(f,
k,b){return function(D){D=a.attr(D,f);if(null==D)return"!="===k;if(!k)return!0;D+="";return"="===k?D===b:"!="===k?D!==b:"^="===k?b&&0===D.indexOf(b):"*="===k?b&&-1<D.indexOf(b):"$="===k?b&&D.slice(-b.length)===b:"~="===k?-1<(" "+D.replace(N," ")+" ").indexOf(b):"|="===k?D===b||D.slice(0,b.length+1)===b+"-":!1}},CHILD:function(f,a,k,b,D){var c="nth"!==f.slice(0,3),d="last"!==f.slice(-4),G="of-type"===a;return 1===b&&0===D?function(f){return!!f.parentNode}:function(a,k,l){var g,e;k=c!==d?"nextSibling":
"previousSibling";var h=a.parentNode,J=G&&a.nodeName.toLowerCase();l=!l&&!G;var p=!1;if(h){if(c){for(;k;){for(g=a;g=g[k];)if(G?g.nodeName.toLowerCase()===J:1===g.nodeType)return!1;var ra=k="only"===f&&!ra&&"nextSibling"}return!0}ra=[d?h.firstChild:h.lastChild];if(d&&l){g=h;var m=g[v]||(g[v]={});m=m[g.uniqueID]||(m[g.uniqueID]={});p=m[f]||[];p=(e=p[0]===R&&p[1])&&p[2];for(g=e&&h.childNodes[e];g=++e&&g&&g[k]||(p=e=0)||ra.pop();)if(1===g.nodeType&&++p&&g===a){m[f]=[R,e,p];break}}else if(l&&(g=a,m=g[v]||
(g[v]={}),m=m[g.uniqueID]||(m[g.uniqueID]={}),p=m[f]||[],p=e=p[0]===R&&p[1]),!1===p)for(;(g=++e&&g&&g[k]||(p=e=0)||ra.pop())&&((G?g.nodeName.toLowerCase()!==J:1!==g.nodeType)||!++p||(l&&(m=g[v]||(g[v]={}),m=m[g.uniqueID]||(m[g.uniqueID]={}),m[f]=[R,p]),g!==a)););p-=D;return p===b||0===p%b&&0<=p/b}}},PSEUDO:function(f,k){var D=Ca.pseudos[f]||Ca.setFilters[f.toLowerCase()]||a.error("unsupported pseudo: "+f);if(D[v])return D(k);if(1<D.length){var c=[f,f,"",k];return Ca.setFilters.hasOwnProperty(f.toLowerCase())?
b(function(f,a){for(var b,c=D(f,k),d=c.length;d--;)b=H(f,c[d]),f[b]=!(a[b]=c[d])}):function(f){return D(f,0,c)}}return D}},pseudos:{not:b(function(f){var a=[],k=[],D=I(f.replace(la,"$1"));return D[v]?b(function(f,a,k,b){b=D(f,null,b,[]);for(var c=f.length;c--;)if(k=b[c])f[c]=!(a[c]=k)}):function(f,b,c){a[0]=f;D(a,null,c,k);a[0]=null;return!k.pop()}}),has:b(function(f){return function(k){return 0<a(f,k).length}}),contains:b(function(f){f=f.replace(ca,aa);return function(a){return-1<(a.textContent||
pc(a)).indexOf(f)}}),lang:b(function(f){Ba.test(f||"")||a.error("unsupported lang: "+f);f=f.replace(ca,aa).toLowerCase();return function(a){var k;do if(k=L?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang"))return k=k.toLowerCase(),k===f||0===k.indexOf(f+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var k=f.location&&f.location.hash;return k&&k.slice(1)===a.id},root:function(f){return f===E},focus:function(f){return f===t.activeElement&&(!t.hasFocus||t.hasFocus())&&
!!(f.type||f.href||~f.tabIndex)},enabled:e(!1),disabled:e(!0),checked:function(f){var a=f.nodeName.toLowerCase();return"input"===a&&!!f.checked||"option"===a&&!!f.selected},selected:function(f){f.parentNode&&f.parentNode.selectedIndex;return!0===f.selected},empty:function(f){for(f=f.firstChild;f;f=f.nextSibling)if(6>f.nodeType)return!1;return!0},parent:function(f){return!Ca.pseudos.empty(f)},header:function(f){return Fa.test(f.nodeName)},input:function(f){return ba.test(f.nodeName)},button:function(f){var a=
f.nodeName.toLowerCase();return"input"===a&&"button"===f.type||"button"===a},text:function(f){var a;return"input"===f.nodeName.toLowerCase()&&"text"===f.type&&(null==(a=f.getAttribute("type"))||"text"===a.toLowerCase())},first:h(function(){return[0]}),last:h(function(f,a){return[a-1]}),eq:h(function(f,a,k){return[0>k?k+a:k]}),even:h(function(f,a){for(var k=0;k<a;k+=2)f.push(k);return f}),odd:h(function(f,a){for(var k=1;k<a;k+=2)f.push(k);return f}),lt:h(function(f,a,k){for(a=0>k?k+a:k>a?a:k;0<=--a;)f.push(a);
return f}),gt:h(function(f,a,k){for(k=0>k?k+a:k;++k<a;)f.push(k);return f})}};Ca.pseudos.nth=Ca.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ca.pseudos[n]=l(n);for(n in{submit:!0,reset:!0})Ca.pseudos[n]=g(n);J.prototype=Ca.filters=Ca.pseudos;Ca.setFilters=new J;var cc=a.tokenize=function(f,k){var b,D,c,d,G;if(d=U[f+" "])return k?0:d.slice(0);d=f;var l=[];for(G=Ca.preFilter;d;){if(!g||(b=fa.exec(d)))b&&(d=d.slice(b[0].length)||d),l.push(D=[]);var g=!1;if(b=ja.exec(d))g=b.shift(),
D.push({value:g,type:b[0].replace(la," ")}),d=d.slice(g.length);for(c in Ca.filter)!(b=Z[c].exec(d))||G[c]&&!(b=G[c](b))||(g=b.shift(),D.push({value:g,type:c,matches:b}),d=d.slice(g.length));if(!g)break}return k?d.length:d?a.error(f):U(f,l).slice(0)};var I=a.compile=function(f,a){var k,b=[],D=[],c=T[f+" "];if(!c){a||(a=cc(f));for(k=a.length;k--;)c=O(a[k]),c[v]?b.push(c):D.push(c);c=T(f,P(D,b));c.selector=f}return c};var pa=a.select=function(f,a,k,b){var D,c,d,G="function"===typeof f&&f,l=!b&&cc(f=
G.selector||f);k=k||[];if(1===l.length){var g=l[0]=l[0].slice(0);if(2<g.length&&"ID"===(c=g[0]).type&&9===a.nodeType&&L&&Ca.relative[g[1].type]){a=(Ca.find.ID(c.matches[0].replace(ca,aa),a)||[])[0];if(!a)return k;G&&(a=a.parentNode);f=f.slice(g.shift().value.length)}for(D=Z.needsContext.test(f)?0:g.length;D--;){c=g[D];if(Ca.relative[d=c.type])break;if(d=Ca.find[d])if(b=d(c.matches[0].replace(ca,aa),Ma.test(g[0].type)&&p(a.parentNode)||a)){g.splice(D,1);f=b.length&&m(g);if(!f)return ea.apply(k,b),
k;break}}}(G||I(f,l))(b,a,!L,k,!a||Ma.test(f)&&p(a.parentNode)||a);return k};wa.sortStable=v.split("").sort(K).join("")===v;wa.detectDuplicates=!!B;bc();wa.sortDetached=c(function(f){return f.compareDocumentPosition(t.createElement("fieldset"))&1});c(function(f){f.innerHTML="<a href='#'></a>";return"#"===f.firstChild.getAttribute("href")})||d("type|href|height|width",function(f,a,k){if(!k)return f.getAttribute(a,"type"===a.toLowerCase()?1:2)});wa.attributes&&c(function(f){f.innerHTML="<input/>";f.firstChild.setAttribute("value",
"");return""===f.firstChild.getAttribute("value")})||d("value",function(f,a,k){if(!k&&"input"===f.nodeName.toLowerCase())return f.defaultValue});c(function(f){return null==f.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(f,a,k){var b;if(!k)return!0===f[a]?a.toLowerCase():(b=f.getAttributeNode(a))&&b.specified?b.value:null});return a}(I);w.find=Ka;w.expr=Ka.selectors;w.expr[":"]=w.expr.pseudos;
w.uniqueSort=w.unique=Ka.uniqueSort;w.text=Ka.getText;w.isXMLDoc=Ka.isXML;w.contains=Ka.contains;w.escapeSelector=Ka.escape;var eb=function(f,a,k){for(var b=[],D=void 0!==k;(f=f[a])&&9!==f.nodeType;)if(1===f.nodeType){if(D&&w(f).is(k))break;b.push(f)}return b},Rb=function(f,a){for(var k=[];f;f=f.nextSibling)1===f.nodeType&&f!==a&&k.push(f);return k},bb=w.expr.match.needsContext,pb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;w.filter=function(f,a,k){var b=a[0];k&&(f=":not("+f+
")");return 1===a.length&&1===b.nodeType?w.find.matchesSelector(b,f)?[b]:[]:w.find.matches(f,w.grep(a,function(f){return 1===f.nodeType}))};w.fn.extend({find:function(f){var a,k=this.length,b=this;if("string"!==typeof f)return this.pushStack(w(f).filter(function(){for(a=0;a<k;a++)if(w.contains(b[a],this))return!0}));var c=this.pushStack([]);for(a=0;a<k;a++)w.find(f,b[a],c);return 1<k?w.uniqueSort(c):c},filter:function(f){return this.pushStack(e(this,f||[],!1))},not:function(f){return this.pushStack(e(this,
f||[],!0))},is:function(f){return!!e(this,"string"===typeof f&&bb.test(f)?w(f):f||[],!1).length}});var Ga=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(f,a,k){if(!f)return this;k=k||nc;if("string"===typeof f){var b="<"===f[0]&&">"===f[f.length-1]&&3<=f.length?[null,f,null]:Ga.exec(f);if(!b||!b[1]&&a)return!a||a.jquery?(a||k).find(f):this.constructor(a).find(f);if(b[1]){if(a=a instanceof w?a[0]:a,w.merge(this,w.parseHTML(b[1],a&&a.nodeType?a.ownerDocument||a:qa,!0)),pb.test(b[1])&&w.isPlainObject(a))for(b in a)if(ma(this[b]))this[b](a[b]);
else this.attr(b,a[b])}else if(f=qa.getElementById(b[2]))this[0]=f,this.length=1;return this}return f.nodeType?(this[0]=f,this.length=1,this):ma(f)?void 0!==k.ready?k.ready(f):f(w):w.makeArray(f,this)}).prototype=w.fn;var nc=w(qa);var ib=/^(?:parents|prev(?:Until|All))/,ic={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(f){var a=w(f,this),k=a.length;return this.filter(function(){for(var f=0;f<k;f++)if(w.contains(this,a[f]))return!0})},closest:function(f,a){var k,b=0,c=this.length,
D=[],d="string"!==typeof f&&w(f);if(!bb.test(f))for(;b<c;b++)for(k=this[b];k&&k!==a;k=k.parentNode)if(11>k.nodeType&&(d?-1<d.index(k):1===k.nodeType&&w.find.matchesSelector(k,f))){D.push(k);break}return this.pushStack(1<D.length?w.uniqueSort(D):D)},index:function(f){return f?"string"===typeof f?Ya.call(w(f),this[0]):Ya.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,a){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(f,a))))},addBack:function(f){return this.add(null==
f?this.prevObject:this.prevObject.filter(f))}});w.each({parent:function(f){return(f=f.parentNode)&&11!==f.nodeType?f:null},parents:function(f){return eb(f,"parentNode")},parentsUntil:function(f,a,k){return eb(f,"parentNode",k)},next:function(f){return n(f,"nextSibling")},prev:function(f){return n(f,"previousSibling")},nextAll:function(f){return eb(f,"nextSibling")},prevAll:function(f){return eb(f,"previousSibling")},nextUntil:function(f,a,k){return eb(f,"nextSibling",k)},prevUntil:function(f,a,k){return eb(f,
"previousSibling",k)},siblings:function(f){return Rb((f.parentNode||{}).firstChild,f)},children:function(f){return Rb(f.firstChild)},contents:function(f){if("undefined"!==typeof f.contentDocument)return f.contentDocument;c(f,"template")&&(f=f.content||f);return w.merge([],f.childNodes)}},function(f,a){w.fn[f]=function(k,b){var c=w.map(this,a,k);"Until"!==f.slice(-5)&&(b=k);b&&"string"===typeof b&&(c=w.filter(b,c));1<this.length&&(ic[f]||w.uniqueSort(c),ib.test(f)&&c.reverse());return this.pushStack(c)}});
var cb=/[^\x20\t\r\n\f]+/g;w.Callbacks=function(f){f="string"===typeof f?t(f):w.extend({},f);var a,k,b,c,d=[],G=[],g=-1,l=function(){c=c||f.once;for(b=a=!0;G.length;g=-1)for(k=G.shift();++g<d.length;)!1===d[g].apply(k[0],k[1])&&f.stopOnFalse&&(g=d.length,k=!1);f.memory||(k=!1);a=!1;c&&(d=k?[]:"")},e={add:function(){d&&(k&&!a&&(g=d.length-1,G.push(k)),function zc(a){w.each(a,function(a,k){ma(k)?f.unique&&e.has(k)||d.push(k):k&&k.length&&"string"!==Ha(k)&&zc(k)})}(arguments),k&&!a&&l());return this},
remove:function(){w.each(arguments,function(f,a){for(var k;-1<(k=w.inArray(a,d,k));)d.splice(k,1),k<=g&&g--});return this},has:function(f){return f?-1<w.inArray(f,d):0<d.length},empty:function(){d&&(d=[]);return this},disable:function(){c=G=[];d=k="";return this},disabled:function(){return!d},lock:function(){c=G=[];k||a||(d=k="");return this},locked:function(){return!!c},fireWith:function(f,k){c||(k=k||[],k=[f,k.slice?k.slice():k],G.push(k),a||l());return this},fire:function(){e.fireWith(this,arguments);
return this},fired:function(){return!!b}};return e};w.extend({Deferred:function(f){var a=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],k="pending",b={state:function(){return k},always:function(){c.done(arguments).fail(arguments);return this},"catch":function(f){return b.then(null,f)},pipe:function(){var f=
arguments;return w.Deferred(function(k){w.each(a,function(a,b){var D=ma(f[b[4]])&&f[b[4]];c[b[1]](function(){var f=D&&D.apply(this,arguments);if(f&&ma(f.promise))f.promise().progress(k.notify).done(k.resolve).fail(k.reject);else k[b[0]+"With"](this,D?[f]:arguments)})});f=null}).promise()},then:function(f,k,b){function c(f,a,k,b){return function(){var d=this,G=arguments,g=function(){if(!(f<D)){var g=k.apply(d,G);if(g===a.promise())throw new TypeError("Thenable self-resolution");var l=g&&("object"===
typeof g||"function"===typeof g)&&g.then;ma(l)?b?l.call(g,c(D,a,m,b),c(D,a,h,b)):(D++,l.call(g,c(D,a,m,b),c(D,a,h,b),c(D,a,m,a.notifyWith))):(k!==m&&(d=void 0,G=[g]),(b||a.resolveWith)(d,G))}},l=b?g:function(){try{g()}catch(hc){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(hc,l.stackTrace),f+1>=D&&(k!==h&&(d=void 0,G=[hc]),a.rejectWith(d,G))}};f?l():(w.Deferred.getStackHook&&(l.stackTrace=w.Deferred.getStackHook()),I.setTimeout(l))}}var D=0;return w.Deferred(function(D){a[0][3].add(c(0,D,ma(b)?
b:m,D.notifyWith));a[1][3].add(c(0,D,ma(f)?f:m));a[2][3].add(c(0,D,ma(k)?k:h))}).promise()},promise:function(f){return null!=f?w.extend(f,b):b}},c={};w.each(a,function(f,D){var d=D[2],G=D[5];b[D[1]]=d.add;G&&d.add(function(){k=G},a[3-f][2].disable,a[3-f][3].disable,a[0][2].lock,a[0][3].lock);d.add(D[3].fire);c[D[0]]=function(){c[D[0]+"With"](this===c?void 0:this,arguments);return this};c[D[0]+"With"]=d.fireWith});b.promise(c);f&&f.call(c,c);return c},when:function(f){var a=arguments.length,k=a,b=
Array(k),c=xa.call(arguments),d=w.Deferred(),G=function(f){return function(k){b[f]=this;c[f]=1<arguments.length?xa.call(arguments):k;--a||d.resolveWith(b,c)}};if(1>=a&&(r(f,d.done(G(k)).resolve,d.reject,!a),"pending"===d.state()||ma(c[k]&&c[k].then)))return d.then();for(;k--;)r(c[k],G(k),d.reject);return d.promise()}});var La=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(f,a){I.console&&I.console.warn&&f&&La.test(f.name)&&I.console.warn("jQuery.Deferred exception: "+
f.message,f.stack,a)};w.readyException=function(f){I.setTimeout(function(){throw f;})};var Ea=w.Deferred();w.fn.ready=function(f){Ea.then(f).catch(function(f){w.readyException(f)});return this};w.extend({isReady:!1,readyWait:1,ready:function(f){(!0===f?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==f&&0<--w.readyWait||Ea.resolveWith(qa,[w]))}});w.ready.then=Ea.then;"complete"===qa.readyState||"loading"!==qa.readyState&&!qa.documentElement.doScroll?I.setTimeout(w.ready):(qa.addEventListener("DOMContentLoaded",
u),I.addEventListener("load",u));var ka=function(f,a,k,b,c,d,G){var D=0,g=f.length,l=null==k;if("object"===Ha(k))for(D in c=!0,k)ka(f,a,D,k[D],!0,d,G);else if(void 0!==b&&(c=!0,ma(b)||(G=!0),l&&(G?(a.call(f,b),a=null):(l=a,a=function(f,a,k){return l.call(w(f),k)})),a))for(;D<g;D++)a(f[D],k,G?b:b.call(f[D],D,a(f[D],k)));return c?f:l?a.call(f):g?a(f[0],k):d},Ia=/^-ms-/,db=/-([a-z])/g,fb=function(f){return 1===f.nodeType||9===f.nodeType||!+f.nodeType};p.uid=1;p.prototype={cache:function(f){var a=f[this.expando];
a||(a={},fb(f)&&(f.nodeType?f[this.expando]=a:Object.defineProperty(f,this.expando,{value:a,configurable:!0})));return a},set:function(f,a,k){var b;f=this.cache(f);if("string"===typeof a)f[x(a)]=k;else for(b in a)f[x(b)]=a[b];return f},get:function(f,a){return void 0===a?this.cache(f):f[this.expando]&&f[this.expando][x(a)]},access:function(f,a,k){if(void 0===a||a&&"string"===typeof a&&void 0===k)return this.get(f,a);this.set(f,a,k);return void 0!==k?k:a},remove:function(f,a){var k,b=f[this.expando];
if(void 0!==b){if(void 0!==a)for(Array.isArray(a)?a=a.map(x):(a=x(a),a=a in b?[a]:a.match(cb)||[]),k=a.length;k--;)delete b[a[k]];if(void 0===a||w.isEmptyObject(b))f.nodeType?f[this.expando]=void 0:delete f[this.expando]}},hasData:function(f){f=f[this.expando];return void 0!==f&&!w.isEmptyObject(f)}};var oa=new p,Ja=new p,da=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Va=/[A-Z]/g;w.extend({hasData:function(f){return Ja.hasData(f)||oa.hasData(f)},data:function(f,a,k){return Ja.access(f,a,k)},removeData:function(f,
a){Ja.remove(f,a)},_data:function(f,a,k){return oa.access(f,a,k)},_removeData:function(f,a){oa.remove(f,a)}});w.fn.extend({data:function(f,a){var k,b=this[0],c=b&&b.attributes;if(void 0===f){if(this.length){var D=Ja.get(b);if(1===b.nodeType&&!oa.get(b,"hasDataAttrs")){for(k=c.length;k--;)if(c[k]){var G=c[k].name;0===G.indexOf("data-")&&(G=x(G.slice(5)),d(b,G,D[G]))}oa.set(b,"hasDataAttrs",!0)}}return D}return"object"===typeof f?this.each(function(){Ja.set(this,f)}):ka(this,function(a){if(b&&void 0===
a){var k=Ja.get(b,f);if(void 0!==k)return k;k=d(b,f);if(void 0!==k)return k}else this.each(function(){Ja.set(this,f,a)})},null,a,1<arguments.length,null,!0)},removeData:function(f){return this.each(function(){Ja.remove(this,f)})}});w.extend({queue:function(f,a,k){if(f){a=(a||"fx")+"queue";var b=oa.get(f,a);k&&(!b||Array.isArray(k)?b=oa.access(f,a,w.makeArray(k)):b.push(k));return b||[]}},dequeue:function(f,a){a=a||"fx";var k=w.queue(f,a),b=k.length,c=k.shift(),D=w._queueHooks(f,a),d=function(){w.dequeue(f,
a)};"inprogress"===c&&(c=k.shift(),b--);c&&("fx"===a&&k.unshift("inprogress"),delete D.stop,c.call(f,d,D));!b&&D&&D.empty.fire()},_queueHooks:function(f,a){var k=a+"queueHooks";return oa.get(f,k)||oa.access(f,k,{empty:w.Callbacks("once memory").add(function(){oa.remove(f,[a+"queue",k])})})}});w.fn.extend({queue:function(f,a){var k=2;"string"!==typeof f&&(a=f,f="fx",k--);return arguments.length<k?w.queue(this[0],f):void 0===a?this:this.each(function(){var k=w.queue(this,f,a);w._queueHooks(this,f);
"fx"===f&&"inprogress"!==k[0]&&w.dequeue(this,f)})},dequeue:function(f){return this.each(function(){w.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,a){var k,b=1,c=w.Deferred(),D=this,d=this.length,G=function(){--b||c.resolveWith(D,[D])};"string"!==typeof f&&(a=f,f=void 0);for(f=f||"fx";d--;)(k=oa.get(D[d],f+"queueHooks"))&&k.empty&&(b++,k.empty.add(G));G();return c.promise(a)}});var Kb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ba=new RegExp("^(?:([+-])=|)("+
Kb+")([a-z%]*)$","i"),Ma=["Top","Right","Bottom","Left"],wa=qa.documentElement,gb=function(f){return w.contains(f.ownerDocument,f)},Wa={composed:!0};wa.getRootNode&&(gb=function(f){return w.contains(f.ownerDocument,f)||f.getRootNode(Wa)===f.ownerDocument});var ya=function(f,a){f=a||f;return"none"===f.style.display||""===f.style.display&&gb(f)&&"none"===w.css(f,"display")},Cb=function(f,a,k,b){var c,D={};for(c in a)D[c]=f.style[c],f.style[c]=a[c];k=k.apply(f,b||[]);for(c in a)f.style[c]=D[c];return k},
jb={};w.fn.extend({show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(f){return"boolean"===typeof f?f?this.show():this.hide():this.each(function(){ya(this)?w(this).show():w(this).hide()})}});var qb=/^(?:checkbox|radio)$/i,kb=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ra=/^$|^module$|\/(?:java|ecma)script/i,nb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};nb.optgroup=nb.option;nb.tbody=nb.tfoot=nb.colgroup=nb.caption=nb.thead;nb.th=nb.td;var Wb=/<|&#?\w+;/;(function(){var f=qa.createDocumentFragment().appendChild(qa.createElement("div")),a=qa.createElement("input");a.setAttribute("type","radio");a.setAttribute("checked","checked");a.setAttribute("name","t");f.appendChild(a);Aa.checkClone=f.cloneNode(!0).cloneNode(!0).lastChild.checked;f.innerHTML="<textarea>x</textarea>";Aa.noCloneChecked=
!!f.cloneNode(!0).lastChild.defaultValue})();var Xb=/^key/,jc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tb=/^([^.]*)(?:\.(.+)|)/;w.event={global:{},add:function(f,a,k,b,c){var D,d,G,g,l;if(G=oa.get(f)){if(k.handler){var e=k;k=e.handler;c=e.selector}c&&w.find.matchesSelector(wa,c);k.guid||(k.guid=w.guid++);(d=G.events)||(d=G.events={});(D=G.handle)||(D=G.handle=function(a){return"undefined"!==typeof w&&w.event.triggered!==a.type?w.event.dispatch.apply(f,arguments):void 0});a=(a||"").match(cb)||
[""];for(G=a.length;G--;){var h=Tb.exec(a[G])||[];var p=g=h[1];var J=(h[2]||"").split(".").sort();p&&(h=w.event.special[p]||{},p=(c?h.delegateType:h.bindType)||p,h=w.event.special[p]||{},g=w.extend({type:p,origType:g,data:b,handler:k,guid:k.guid,selector:c,needsContext:c&&w.expr.match.needsContext.test(c),namespace:J.join(".")},e),(l=d[p])||(l=d[p]=[],l.delegateCount=0,h.setup&&!1!==h.setup.call(f,b,J,D)||f.addEventListener&&f.addEventListener(p,D)),h.add&&(h.add.call(f,g),g.handler.guid||(g.handler.guid=
k.guid)),c?l.splice(l.delegateCount++,0,g):l.push(g),w.event.global[p]=!0)}}},remove:function(f,a,k,b,c){var D,d,G,g,l,e=oa.hasData(f)&&oa.get(f);if(e&&(G=e.events)){a=(a||"").match(cb)||[""];for(g=a.length;g--;){var h=Tb.exec(a[g])||[];var p=l=h[1];var J=(h[2]||"").split(".").sort();if(p){var m=w.event.special[p]||{};p=(b?m.delegateType:m.bindType)||p;var q=G[p]||[];h=h[2]&&new RegExp("(^|\\.)"+J.join("\\.(?:.*\\.|)")+"(\\.|$)");for(d=D=q.length;D--;){var C=q[D];!c&&l!==C.origType||k&&k.guid!==C.guid||
h&&!h.test(C.namespace)||b&&b!==C.selector&&("**"!==b||!C.selector)||(q.splice(D,1),C.selector&&q.delegateCount--,m.remove&&m.remove.call(f,C))}d&&!q.length&&(m.teardown&&!1!==m.teardown.call(f,J,e.handle)||w.removeEvent(f,p,e.handle),delete G[p])}else for(p in G)w.event.remove(f,p+a[g],k,b,!0)}w.isEmptyObject(G)&&oa.remove(f,"handle events")}},dispatch:function(f){var a=w.event.fix(f),k,b,c,d=Array(arguments.length);var G=(oa.get(this,"events")||{})[a.type]||[];var g=w.event.special[a.type]||{};
d[0]=a;for(k=1;k<arguments.length;k++)d[k]=arguments[k];a.delegateTarget=this;if(!g.preDispatch||!1!==g.preDispatch.call(this,a)){var l=w.event.handlers.call(this,a,G);for(k=0;(c=l[k++])&&!a.isPropagationStopped();)for(a.currentTarget=c.elem,G=0;(b=c.handlers[G++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||!1===b.namespace||a.rnamespace.test(b.namespace))a.handleObj=b,a.data=b.data,b=((w.event.special[b.origType]||{}).handle||b.handler).apply(c.elem,d),void 0!==b&&!1===(a.result=b)&&
(a.preventDefault(),a.stopPropagation());g.postDispatch&&g.postDispatch.call(this,a);return a.result}},handlers:function(f,a){var k,b=[],c=a.delegateCount,D=f.target;if(c&&D.nodeType&&!("click"===f.type&&1<=f.button))for(;D!==this;D=D.parentNode||this)if(1===D.nodeType&&("click"!==f.type||!0!==D.disabled)){var d=[];var G={};for(k=0;k<c;k++){var g=a[k];var l=g.selector+" ";void 0===G[l]&&(G[l]=g.needsContext?-1<w(l,this).index(D):w.find(l,this,null,[D]).length);G[l]&&d.push(g)}d.length&&b.push({elem:D,
handlers:d})}c<a.length&&b.push({elem:this,handlers:a.slice(c)});return b},addProp:function(f,a){Object.defineProperty(w.Event.prototype,f,{enumerable:!0,configurable:!0,get:ma(a)?function(){if(this.originalEvent)return a(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(a){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},fix:function(f){return f[w.expando]?f:new w.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){f=
this||f;qb.test(f.type)&&f.click&&c(f,"input")&&q(f,"click",B);return!1},trigger:function(f){f=this||f;qb.test(f.type)&&f.click&&c(f,"input")&&q(f,"click");return!0},_default:function(f){f=f.target;return qb.test(f.type)&&f.click&&c(f,"input")&&oa.get(f,"click")||c(f,"a")}},beforeunload:{postDispatch:function(f){void 0!==f.result&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};w.removeEvent=function(f,a,k){f.removeEventListener&&f.removeEventListener(a,k)};w.Event=function(f,a){if(!(this instanceof
w.Event))return new w.Event(f,a);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||void 0===f.defaultPrevented&&!1===f.returnValue?B:S,this.target=f.target&&3===f.target.nodeType?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f;a&&w.extend(this,a);this.timeStamp=f&&f.timeStamp||Date.now();this[w.expando]=!0};w.Event.prototype={constructor:w.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,
isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=B;f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=B;f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=B;f&&!this.isSimulated&&f.stopImmediatePropagation();this.stopPropagation()}};w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,
detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(f){var a=f.button;return null==f.which&&Xb.test(f.type)?null!=f.charCode?f.charCode:f.keyCode:!f.which&&void 0!==a&&jc.test(f.type)?a&1?1:a&2?3:a&4?2:0:f.which}},w.event.addProp);w.each({focus:"focusin",blur:"focusout"},
function(f,a){w.event.special[f]={setup:function(){q(this,f,C);return!1},trigger:function(){q(this,f);return!0},delegateType:a}});w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,a){w.event.special[f]={delegateType:a,bindType:a,handle:function(f){var k=f.relatedTarget,b=f.handleObj;if(!k||k!==this&&!w.contains(this,k)){f.type=b.origType;var c=b.handler.apply(this,arguments);f.type=a}return c}}});w.fn.extend({on:function(f,a,k,b){return U(this,
f,a,k,b)},one:function(f,a,k,b){return U(this,f,a,k,b,1)},off:function(f,a,k){if(f&&f.preventDefault&&f.handleObj){var b=f.handleObj;w(f.delegateTarget).off(b.namespace?b.origType+"."+b.namespace:b.origType,b.selector,b.handler);return this}if("object"===typeof f){for(b in f)this.off(b,a,f[b]);return this}if(!1===a||"function"===typeof a)k=a,a=void 0;!1===k&&(k=S);return this.each(function(){w.event.remove(this,f,k,a)})}});var Yb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
ub=/<script|<style|<link/i,Jb=/checked\s*(?:[^=]|=\s*.checked.)/i,Sa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;w.extend({htmlPrefilter:function(f){return f.replace(Yb,"<$1></$2>")},clone:function(f,a,k){var b,c=f.cloneNode(!0),D=gb(f);if(!(Aa.noCloneChecked||1!==f.nodeType&&11!==f.nodeType||w.isXMLDoc(f))){var d=l(c);var G=l(f);var g=0;for(b=G.length;g<b;g++){var e=G[g],h=d[g],p=h.nodeName.toLowerCase();if("input"===p&&qb.test(e.type))h.checked=e.checked;else if("input"===p||"textarea"===p)h.defaultValue=
e.defaultValue}}if(a)if(k)for(G=G||l(f),d=d||l(c),g=0,b=G.length;g<b;g++)K(G[g],d[g]);else K(f,c);d=l(c,"script");0<d.length&&L(d,!D&&l(f,"script"));return c},cleanData:function(f){for(var a,k,b,c=w.event.special,d=0;void 0!==(k=f[d]);d++)if(fb(k)){if(a=k[oa.expando]){if(a.events)for(b in a.events)c[b]?w.event.remove(k,b):w.removeEvent(k,b,a.handle);k[oa.expando]=void 0}k[Ja.expando]&&(k[Ja.expando]=void 0)}}});w.fn.extend({detach:function(f){return H(this,f,!0)},remove:function(f){return H(this,
f)},text:function(f){return ka(this,function(f){return void 0===f?w.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=f})},null,f,arguments.length)},append:function(){return N(this,arguments,function(f){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||M(this,f).appendChild(f)})},prepend:function(){return N(this,arguments,function(f){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=M(this,f);a.insertBefore(f,
a.firstChild)}})},before:function(){return N(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return N(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,a=0;null!=(f=this[a]);a++)1===f.nodeType&&(w.cleanData(l(f,!1)),f.textContent="");return this},clone:function(f,a){f=null==f?!1:f;a=null==a?f:a;return this.map(function(){return w.clone(this,f,a)})},html:function(f){return ka(this,
function(f){var a=this[0]||{},k=0,b=this.length;if(void 0===f&&1===a.nodeType)return a.innerHTML;if("string"===typeof f&&!ub.test(f)&&!nb[(kb.exec(f)||["",""])[1].toLowerCase()]){f=w.htmlPrefilter(f);try{for(;k<b;k++)a=this[k]||{},1===a.nodeType&&(w.cleanData(l(a,!1)),a.innerHTML=f);a=0}catch(gc){}}a&&this.empty().append(f)},null,f,arguments.length)},replaceWith:function(){var f=[];return N(this,arguments,function(a){var k=this.parentNode;0>w.inArray(this,f)&&(w.cleanData(l(this)),k&&k.replaceChild(a,
this))},f)}});w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,a){w.fn[f]=function(f){for(var k=[],b=w(f),c=b.length-1,d=0;d<=c;d++)f=d===c?this:this.clone(!0),w(b[d])[a](f),Za.apply(k,f.get());return this.pushStack(k)}});var xb=new RegExp("^("+Kb+")(?!px)[a-z%]+$","i"),sb=function(f){var a=f.ownerDocument.defaultView;a&&a.opener||(a=I);return a.getComputedStyle(f)},sa=new RegExp(Ma.join("|"),"i");(function(){function f(){if(g){G.style.cssText=
"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";g.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";wa.appendChild(G).appendChild(g);var f=I.getComputedStyle(g);a="1%"!==f.top;d=12===Math.round(parseFloat(f.marginLeft));g.style.right="60%";c=36===Math.round(parseFloat(f.right));k=36===Math.round(parseFloat(f.width));g.style.position="absolute";b=12===Math.round(parseFloat(g.offsetWidth/
3));wa.removeChild(G);g=null}}var a,k,b,c,d,G=qa.createElement("div"),g=qa.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Aa.clearCloneStyle="content-box"===g.style.backgroundClip,w.extend(Aa,{boxSizingReliable:function(){f();return k},pixelBoxStyles:function(){f();return c},pixelPosition:function(){f();return a},reliableMarginLeft:function(){f();return d},scrollboxSize:function(){f();return b}}))})();var oc=["Webkit","Moz","ms"],Oa=qa.createElement("div").style,
Qb={},Db=/^(none|table(?!-c[ea]).+)/,$a=/^--/,kc={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"};w.extend({cssHooks:{opacity:{get:function(f,a){if(a)return f=ta(f,"opacity"),""===f?"1":f}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,
zIndex:!0,zoom:!0},cssProps:{},style:function(f,a,k,b){if(f&&3!==f.nodeType&&8!==f.nodeType&&f.style){var c,d=x(a),D=$a.test(a),G=f.style;D||(a=O(d));var l=w.cssHooks[a]||w.cssHooks[d];if(void 0!==k){var e=typeof k;"string"===e&&(c=Ba.exec(k))&&c[1]&&(k=g(f,a,c),e="number");null!=k&&k===k&&("number"!==e||D||(k+=c&&c[3]||(w.cssNumber[d]?"":"px")),Aa.clearCloneStyle||""!==k||0!==a.indexOf("background")||(G[a]="inherit"),l&&"set"in l&&void 0===(k=l.set(f,k,b))||(D?G.setProperty(a,k):G[a]=k))}else return l&&
"get"in l&&void 0!==(c=l.get(f,!1,b))?c:G[a]}},css:function(f,a,k,b){var c;var d=x(a);$a.test(a)||(a=O(d));(d=w.cssHooks[a]||w.cssHooks[d])&&"get"in d&&(c=d.get(f,!0,k));void 0===c&&(c=ta(f,a,b));"normal"===c&&a in Sb&&(c=Sb[a]);return""===k||k?(f=parseFloat(c),!0===k||isFinite(f)?f||0:c):c}});w.each(["height","width"],function(f,a){w.cssHooks[a]={get:function(f,k,b){if(k)return!Db.test(w.css(f,"display"))||f.getClientRects().length&&f.getBoundingClientRect().width?P(f,a,b):Cb(f,kc,function(){return P(f,
a,b)})},set:function(f,k,b){var c,d=sb(f),D=!Aa.scrollboxSize()&&"absolute"===d.position,G=(D||b)&&"border-box"===w.css(f,"boxSizing",!1,d);b=b?V(f,a,b,G,d):0;G&&D&&(b-=Math.ceil(f["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(d[a])-V(f,a,"border",!1,d)-.5));b&&(c=Ba.exec(k))&&"px"!==(c[3]||"px")&&(f.style[a]=k,k=w.css(f,a));return W(f,k,b)}}});w.cssHooks.marginLeft=Fa(Aa.reliableMarginLeft,function(f,a){if(a)return(parseFloat(ta(f,"marginLeft"))||f.getBoundingClientRect().left-Cb(f,{marginLeft:0},
function(){return f.getBoundingClientRect().left}))+"px"});w.each({margin:"",padding:"",border:"Width"},function(f,a){w.cssHooks[f+a]={expand:function(k){var b=0,c={};for(k="string"===typeof k?k.split(" "):[k];4>b;b++)c[f+Ma[b]+a]=k[b]||k[b-2]||k[0];return c}};"margin"!==f&&(w.cssHooks[f+a].set=W)});w.fn.extend({css:function(f,a){return ka(this,function(f,a,k){var b,c={},d=0;if(Array.isArray(a)){k=sb(f);for(b=a.length;d<b;d++)c[a[d]]=w.css(f,a[d],!1,k);return c}return void 0!==k?w.style(f,a,k):w.css(f,
a)},f,a,1<arguments.length)}});w.Tween=J;J.prototype={constructor:J,init:function(f,a,k,b,c,d){this.elem=f;this.prop=k;this.easing=c||w.easing._default;this.options=a;this.start=this.now=this.cur();this.end=b;this.unit=d||(w.cssNumber[k]?"":"px")},cur:function(){var f=J.propHooks[this.prop];return f&&f.get?f.get(this):J.propHooks._default.get(this)},run:function(f){var a,k=J.propHooks[this.prop];this.pos=this.options.duration?a=w.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):
a=f;this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);k&&k.set?k.set(this):J.propHooks._default.set(this);return this}};J.prototype.init.prototype=J.prototype;J.propHooks={_default:{get:function(f){return 1!==f.elem.nodeType||null!=f.elem[f.prop]&&null==f.elem.style[f.prop]?f.elem[f.prop]:(f=w.css(f.elem,f.prop,""))&&"auto"!==f?f:0},set:function(f){if(w.fx.step[f.prop])w.fx.step[f.prop](f);else 1!==f.elem.nodeType||!w.cssHooks[f.prop]&&
null==f.elem.style[O(f.prop)]?f.elem[f.prop]=f.now:w.style(f.elem,f.prop,f.now+f.unit)}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}};w.easing={linear:function(f){return f},swing:function(f){return.5-Math.cos(f*Math.PI)/2},_default:"swing"};w.fx=J.prototype.init;w.fx.step={};var ob,Ta,ab=/^(?:toggle|show|hide)$/,Pa=/queueHooks$/;w.Animation=w.extend(ja,{tweeners:{"*":[function(f,a){var k=this.createTween(f,a);g(k.elem,
f,Ba.exec(a),k);return k}]},tweener:function(f,a){ma(f)?(a=f,f=["*"]):f=f.match(cb);for(var k,b=0,c=f.length;b<c;b++)k=f[b],ja.tweeners[k]=ja.tweeners[k]||[],ja.tweeners[k].unshift(a)},prefilters:[function(f,a,k){var b;var c="width"in a||"height"in a;var d=this,G={},D=f.style,g=f.nodeType&&ya(f),l=oa.get(f,"fxshow");if(!k.queue){var e=w._queueHooks(f,"fx");if(null==e.unqueued){e.unqueued=0;var h=e.empty.fire;e.empty.fire=function(){e.unqueued||h()}}e.unqueued++;d.always(function(){d.always(function(){e.unqueued--;
w.queue(f,"fx").length||e.empty.fire()})})}for(b in a){var p=a[b];if(ab.test(p)){delete a[b];var J=J||"toggle"===p;if(p===(g?"hide":"show"))if("show"===p&&l&&void 0!==l[b])g=!0;else continue;G[b]=l&&l[b]||w.style(f,b)}}if((a=!w.isEmptyObject(a))||!w.isEmptyObject(G)){if(c&&1===f.nodeType){k.overflow=[D.overflow,D.overflowX,D.overflowY];var m=l&&l.display;null==m&&(m=oa.get(f,"display"));c=w.css(f,"display");"none"===c&&(m?c=m:(E([f],!0),m=f.style.display||m,c=w.css(f,"display"),E([f])));("inline"===
c||"inline-block"===c&&null!=m)&&"none"===w.css(f,"float")&&(a||(d.done(function(){D.display=m}),null==m&&(c=D.display,m="none"===c?"":c)),D.display="inline-block")}k.overflow&&(D.overflow="hidden",d.always(function(){D.overflow=k.overflow[0];D.overflowX=k.overflow[1];D.overflowY=k.overflow[2]}));a=!1;for(b in G)a||(l?"hidden"in l&&(g=l.hidden):l=oa.access(f,"fxshow",{display:m}),J&&(l.hidden=!g),g&&E([f],!0),d.done(function(){g||E([f]);oa.remove(f,"fxshow");for(b in G)w.style(f,b,G[b])})),a=ea(g?
l[b]:0,b,d),b in l||(l[b]=a.start,g&&(a.end=a.start,a.start=0))}}],prefilter:function(f,a){a?ja.prefilters.unshift(f):ja.prefilters.push(f)}});w.speed=function(f,a,k){var b=f&&"object"===typeof f?w.extend({},f):{complete:k||!k&&a||ma(f)&&f,duration:f,easing:k&&a||a&&!ma(a)&&a};w.fx.off?b.duration=0:"number"!==typeof b.duration&&(b.duration=b.duration in w.fx.speeds?w.fx.speeds[b.duration]:w.fx.speeds._default);if(null==b.queue||!0===b.queue)b.queue="fx";b.old=b.complete;b.complete=function(){ma(b.old)&&
b.old.call(this);b.queue&&w.dequeue(this,b.queue)};return b};w.fn.extend({fadeTo:function(f,a,k,b){return this.filter(ya).css("opacity",0).show().end().animate({opacity:a},f,k,b)},animate:function(f,a,k,b){var c=w.isEmptyObject(f),d=w.speed(a,k,b);a=function(){var a=ja(this,w.extend({},f),d);(c||oa.get(this,"finish"))&&a.stop(!0)};a.finish=a;return c||!1===d.queue?this.each(a):this.queue(d.queue,a)},stop:function(f,a,k){var b=function(f){var a=f.stop;delete f.stop;a(k)};"string"!==typeof f&&(k=a,
a=f,f=void 0);a&&!1!==f&&this.queue(f||"fx",[]);return this.each(function(){var a=!0,c=null!=f&&f+"queueHooks",d=w.timers,G=oa.get(this);if(c)G[c]&&G[c].stop&&b(G[c]);else for(c in G)G[c]&&G[c].stop&&Pa.test(c)&&b(G[c]);for(c=d.length;c--;)d[c].elem!==this||null!=f&&d[c].queue!==f||(d[c].anim.stop(k),a=!1,d.splice(c,1));!a&&k||w.dequeue(this,f)})},finish:function(f){!1!==f&&(f=f||"fx");return this.each(function(){var a=oa.get(this),k=a[f+"queue"];var b=a[f+"queueHooks"];var c=w.timers,d=k?k.length:
0;a.finish=!0;w.queue(this,f,[]);b&&b.stop&&b.stop.call(this,!0);for(b=c.length;b--;)c[b].elem===this&&c[b].queue===f&&(c[b].anim.stop(!0),c.splice(b,1));for(b=0;b<d;b++)k[b]&&k[b].finish&&k[b].finish.call(this);delete a.finish})}});w.each(["toggle","show","hide"],function(f,a){var k=w.fn[a];w.fn[a]=function(f,b,c){return null==f||"boolean"===typeof f?k.apply(this,arguments):this.animate(T(a,!0),f,b,c)}});w.each({slideDown:T("show"),slideUp:T("hide"),slideToggle:T("toggle"),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,a){w.fn[f]=function(f,k,b){return this.animate(a,f,k,b)}});w.timers=[];w.fx.tick=function(){var f=0,a=w.timers;for(ob=Date.now();f<a.length;f++){var k=a[f];k()||a[f]!==k||a.splice(f--,1)}a.length||w.fx.stop();ob=void 0};w.fx.timer=function(f){w.timers.push(f);w.fx.start()};w.fx.interval=13;w.fx.start=function(){Ta||(Ta=!0,Q())};w.fx.stop=function(){Ta=null};w.fx.speeds={slow:600,fast:200,_default:400};w.fn.delay=function(f,a){f=w.fx?
w.fx.speeds[f]||f:f;return this.queue(a||"fx",function(a,k){var b=I.setTimeout(a,f);k.stop=function(){I.clearTimeout(b)}})};(function(){var f=qa.createElement("input"),a=qa.createElement("select").appendChild(qa.createElement("option"));f.type="checkbox";Aa.checkOn=""!==f.value;Aa.optSelected=a.selected;f=qa.createElement("input");f.value="t";f.type="radio";Aa.radioValue="t"===f.value})();var Ob=w.expr.attrHandle;w.fn.extend({attr:function(f,a){return ka(this,w.attr,f,a,1<arguments.length)},removeAttr:function(f){return this.each(function(){w.removeAttr(this,
f)})}});w.extend({attr:function(f,a,k){var b,c,d=f.nodeType;if(3!==d&&8!==d&&2!==d){if("undefined"===typeof f.getAttribute)return w.prop(f,a,k);1===d&&w.isXMLDoc(f)||(c=w.attrHooks[a.toLowerCase()]||(w.expr.match.bool.test(a)?yb:void 0));if(void 0!==k){if(null===k){w.removeAttr(f,a);return}if(c&&"set"in c&&void 0!==(b=c.set(f,k,a)))return b;f.setAttribute(a,k+"");return k}if(c&&"get"in c&&null!==(b=c.get(f,a)))return b;b=w.find.attr(f,a);return null==b?void 0:b}},attrHooks:{type:{set:function(f,a){if(!Aa.radioValue&&
"radio"===a&&c(f,"input")){var k=f.value;f.setAttribute("type",a);k&&(f.value=k);return a}}}},removeAttr:function(f,a){var k=0,b=a&&a.match(cb);if(b&&1===f.nodeType)for(;a=b[k++];)f.removeAttribute(a)}});var yb={set:function(a,k,b){!1===k?w.removeAttr(a,b):a.setAttribute(b,b);return b}};w.each(w.expr.match.bool.source.match(/\w+/g),function(a,k){var f=Ob[k]||w.find.attr;Ob[k]=function(a,k,b){var c=k.toLowerCase();if(!b){var d=Ob[c];Ob[c]=G;var G=null!=f(a,k,b)?c:null;Ob[c]=d}return G}});var Xa=/^(?:input|select|textarea|button)$/i,
tb=/^(?:a|area)$/i;w.fn.extend({prop:function(a,k){return ka(this,w.prop,a,k,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[w.propFix[a]||a]})}});w.extend({prop:function(a,k,b){var f,c=a.nodeType;if(3!==c&&8!==c&&2!==c){if(1!==c||!w.isXMLDoc(a)){k=w.propFix[k]||k;var d=w.propHooks[k]}return void 0!==b?d&&"set"in d&&void 0!==(f=d.set(a,b,k))?f:a[k]=b:d&&"get"in d&&null!==(f=d.get(a,k))?f:a[k]}},propHooks:{tabIndex:{get:function(a){var f=w.find.attr(a,"tabindex");
return f?parseInt(f,10):Xa.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Aa.optSelected||(w.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});w.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){w.propFix[this.toLowerCase()]=
this});w.fn.extend({addClass:function(a){var f,k,b,c,d=0;if(ma(a))return this.each(function(f){w(this).addClass(a.call(this,f,ha(this)))});var G=Z(a);if(G.length)for(;f=this[d++];){var g=ha(f);if(k=1===f.nodeType&&" "+fa(g)+" "){for(c=0;b=G[c++];)0>k.indexOf(" "+b+" ")&&(k+=b+" ");k=fa(k);g!==k&&f.setAttribute("class",k)}}return this},removeClass:function(a){var f,k,b,c,d=0;if(ma(a))return this.each(function(f){w(this).removeClass(a.call(this,f,ha(this)))});if(!arguments.length)return this.attr("class",
"");var G=Z(a);if(G.length)for(;f=this[d++];){var g=ha(f);if(k=1===f.nodeType&&" "+fa(g)+" "){for(c=0;b=G[c++];)for(;-1<k.indexOf(" "+b+" ");)k=k.replace(" "+b+" "," ");k=fa(k);g!==k&&f.setAttribute("class",k)}}return this},toggleClass:function(a,k){var f=typeof a,b="string"===f||Array.isArray(a);return"boolean"===typeof k&&b?k?this.addClass(a):this.removeClass(a):ma(a)?this.each(function(f){w(this).toggleClass(a.call(this,f,ha(this),k),k)}):this.each(function(){var k,c;if(b){var d=0;var G=w(this);
for(c=Z(a);k=c[d++];)G.hasClass(k)?G.removeClass(k):G.addClass(k)}else if(void 0===a||"boolean"===f)(k=ha(this))&&oa.set(this,"__className__",k),this.setAttribute&&this.setAttribute("class",k||!1===a?"":oa.get(this,"__className__")||"")})},hasClass:function(a){var f,k=0;for(a=" "+a+" ";f=this[k++];)if(1===f.nodeType&&-1<(" "+fa(ha(f))+" ").indexOf(a))return!0;return!1}});var dc=/\r/g;w.fn.extend({val:function(a){var f,k,b=this[0];if(arguments.length){var c=ma(a);return this.each(function(k){1===this.nodeType&&
(k=c?a.call(this,k,w(this).val()):a,null==k?k="":"number"===typeof k?k+="":Array.isArray(k)&&(k=w.map(k,function(a){return null==a?"":a+""})),f=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()],f&&"set"in f&&void 0!==f.set(this,k,"value")||(this.value=k))})}if(b){if((f=w.valHooks[b.type]||w.valHooks[b.nodeName.toLowerCase()])&&"get"in f&&void 0!==(k=f.get(b,"value")))return k;k=b.value;return"string"===typeof k?k.replace(dc,""):null==k?"":k}}});w.extend({valHooks:{option:{get:function(a){var f=
w.find.attr(a,"value");return null!=f?f:fa(w.text(a))}},select:{get:function(a){var f=a.options,k=a.selectedIndex,b="select-one"===a.type,d=b?null:[],G=b?k+1:f.length;for(a=0>k?G:b?k:0;a<G;a++){var g=f[a];if(!(!g.selected&&a!==k||g.disabled||g.parentNode.disabled&&c(g.parentNode,"optgroup"))){g=w(g).val();if(b)return g;d.push(g)}}return d},set:function(a,k){for(var f,b=a.options,c=w.makeArray(k),d=b.length;d--;)if(k=b[d],k.selected=-1<w.inArray(w.valHooks.option.get(k),c))f=!0;f||(a.selectedIndex=
-1);return c}}}});w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(a,k){if(Array.isArray(k))return a.checked=-1<w.inArray(w(a).val(),k)}};Aa.checkOn||(w.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});Aa.focusin="onfocusin"in I;var qc=/^(?:focusinfocus|focusoutblur)$/,ec=function(a){a.stopPropagation()};w.extend(w.event,{trigger:function(a,k,b,c){var f,d,G,g=[b||qa],l=va.call(a,"type")?a.type:a;var D=va.call(a,"namespace")?a.namespace.split("."):
[];var e=G=f=b=b||qa;if(3!==b.nodeType&&8!==b.nodeType&&!qc.test(l+w.event.triggered)){-1<l.indexOf(".")&&(D=l.split("."),l=D.shift(),D.sort());var h=0>l.indexOf(":")&&"on"+l;a=a[w.expando]?a:new w.Event(l,"object"===typeof a&&a);a.isTrigger=c?2:3;a.namespace=D.join(".");a.rnamespace=a.namespace?new RegExp("(^|\\.)"+D.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;a.result=void 0;a.target||(a.target=b);k=null==k?[a]:w.makeArray(k,[a]);D=w.event.special[l]||{};if(c||!D.trigger||!1!==D.trigger.apply(b,k)){if(!c&&
!D.noBubble&&!mb(b)){var p=D.delegateType||l;qc.test(p+l)||(e=e.parentNode);for(;e;e=e.parentNode)g.push(e),f=e;f===(b.ownerDocument||qa)&&g.push(f.defaultView||f.parentWindow||I)}for(f=0;(e=g[f++])&&!a.isPropagationStopped();)G=e,a.type=1<f?p:D.bindType||l,(d=(oa.get(e,"events")||{})[a.type]&&oa.get(e,"handle"))&&d.apply(e,k),(d=h&&e[h])&&d.apply&&fb(e)&&(a.result=d.apply(e,k),!1===a.result&&a.preventDefault());a.type=l;c||a.isDefaultPrevented()||D._default&&!1!==D._default.apply(g.pop(),k)||!fb(b)||
!h||!ma(b[l])||mb(b)||((f=b[h])&&(b[h]=null),w.event.triggered=l,a.isPropagationStopped()&&G.addEventListener(l,ec),b[l](),a.isPropagationStopped()&&G.removeEventListener(l,ec),w.event.triggered=void 0,f&&(b[h]=f));return a.result}}},simulate:function(a,k,b){a=w.extend(new w.Event,b,{type:a,isSimulated:!0});w.event.trigger(a,null,k)}});w.fn.extend({trigger:function(a,k){return this.each(function(){w.event.trigger(a,k,this)})},triggerHandler:function(a,k){var f=this[0];if(f)return w.event.trigger(a,
k,f,!0)}});Aa.focusin||w.each({focus:"focusin",blur:"focusout"},function(a,k){var f=function(a){w.event.simulate(k,a.target,w.event.fix(a))};w.event.special[k]={setup:function(){var b=this.ownerDocument||this,c=oa.access(b,k);c||b.addEventListener(a,f,!0);oa.access(b,k,(c||0)+1)},teardown:function(){var b=this.ownerDocument||this,c=oa.access(b,k)-1;c?oa.access(b,k,c):(b.removeEventListener(a,f,!0),oa.remove(b,k))}}});var Ub=I.location,Eb=Date.now(),zb=/\?/;w.parseXML=function(a){if(!a||"string"!==
typeof a)return null;try{var f=(new I.DOMParser).parseFromString(a,"text/xml")}catch(ra){f=void 0}f&&!f.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+a);return f};var Da=/\[\]$/,lb=/\r?\n/g,rb=/^(?:submit|button|image|reset|file)$/i,vb=/^(?:input|select|textarea|keygen)/i;w.param=function(a,k){var f,b=[],c=function(a,f){f=ma(f)?f():f;b[b.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==f?"":f)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!w.isPlainObject(a))w.each(a,
function(){c(this.name,this.value)});else for(f in a)ba(f,a[f],k,c);return b.join("&")};w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=w.prop(this,"elements");return a?w.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!w(this).is(":disabled")&&vb.test(this.nodeName)&&!rb.test(a)&&(this.checked||!qb.test(a))}).map(function(a,k){a=w(this).val();return null==a?null:Array.isArray(a)?w.map(a,function(a){return{name:k.name,
value:a.replace(lb,"\r\n")}}):{name:k.name,value:a.replace(lb,"\r\n")}}).get()}});var wb=/%20/g,Pb=/#.*$/,Ab=/([?&])_=[^&]*/,Zb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Vb=/^(?:GET|HEAD)$/,lc=/^\/\//,Bb={},Hb={},Lb="*/".concat("*"),Ib=qa.createElement("a");Ib.href=Ub.href;w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ub.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ub.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":Lb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,k){return k?aa(aa(a,w.ajaxSettings),k):aa(w.ajaxSettings,a)},ajaxPrefilter:ua(Bb),ajaxTransport:ua(Hb),
ajax:function(a,k){function f(a,f,k,d){var l=f;if(!n){n=!0;G&&I.clearTimeout(G);b=void 0;c=d||"";r.readyState=0<a?4:0;d=200<=a&&300>a||304===a;if(k){var q=e;for(var C=r,O,t,da,Q,E=q.contents,B=q.dataTypes;"*"===B[0];)B.shift(),void 0===O&&(O=q.mimeType||C.getResponseHeader("Content-Type"));if(O)for(t in E)if(E[t]&&E[t].test(O)){B.unshift(t);break}if(B[0]in k)da=B[0];else{for(t in k){if(!B[0]||q.converters[t+" "+B[0]]){da=t;break}Q||(Q=t)}da=da||Q}da?(da!==B[0]&&B.unshift(da),q=k[da]):q=void 0}a:{k=
e;O=q;t=r;da=d;var L;C={};E=k.dataTypes.slice();if(E[1])for(u in k.converters)C[u.toLowerCase()]=k.converters[u];for(Q=E.shift();Q;){k.responseFields[Q]&&(t[k.responseFields[Q]]=O);!W&&da&&k.dataFilter&&(O=k.dataFilter(O,k.dataType));var W=Q;if(Q=E.shift())if("*"===Q)Q=W;else if("*"!==W&&W!==Q){var u=C[W+" "+Q]||C["* "+Q];if(!u)for(L in C)if(q=L.split(" "),q[1]===Q&&(u=C[W+" "+q[0]]||C["* "+q[0]])){!0===u?u=C[L]:!0!==C[L]&&(Q=q[0],E.unshift(q[1]));break}if(!0!==u)if(u&&k.throws)O=u(O);else try{O=
u(O)}catch(tc){q={state:"parsererror",error:u?tc:"No conversion from "+W+" to "+Q};break a}}}q={state:"success",data:O}}if(d)if(e.ifModified&&((l=r.getResponseHeader("Last-Modified"))&&(w.lastModified[P]=l),(l=r.getResponseHeader("etag"))&&(w.etag[P]=l)),204===a||"HEAD"===e.type)l="nocontent";else if(304===a)l="notmodified";else{l=q.state;var Gb=q.data;var v=q.error;d=!v}else if(v=l,a||!l)l="error",0>a&&(a=0);r.status=a;r.statusText=(f||l)+"";d?p.resolveWith(D,[Gb,l,r]):p.rejectWith(D,[r,l,v]);r.statusCode(m);
m=void 0;g&&h.trigger(d?"ajaxSuccess":"ajaxError",[r,e,d?Gb:v]);J.fireWith(D,[r,l]);g&&(h.trigger("ajaxComplete",[r,e]),--w.active||w.event.trigger("ajaxStop"))}}"object"===typeof a&&(k=a,a=void 0);k=k||{};var b,c,d,G,g,l,e=w.ajaxSetup({},k),D=e.context||e,h=e.context&&(D.nodeType||D.jquery)?w(D):w.event,p=w.Deferred(),J=w.Callbacks("once memory"),m=e.statusCode||{},q={},C={},O="canceled",r={readyState:0,getResponseHeader:function(a){var f;if(n){if(!d)for(d={};f=Zb.exec(c);)d[f[1].toLowerCase()+" "]=
(d[f[1].toLowerCase()+" "]||[]).concat(f[2]);f=d[a.toLowerCase()+" "]}return null==f?null:f.join(", ")},getAllResponseHeaders:function(){return n?c:null},setRequestHeader:function(a,f){null==n&&(a=C[a.toLowerCase()]=C[a.toLowerCase()]||a,q[a]=f);return this},overrideMimeType:function(a){null==n&&(e.mimeType=a);return this},statusCode:function(a){var f;if(a)if(n)r.always(a[r.status]);else for(f in a)m[f]=[m[f],a[f]];return this},abort:function(a){a=a||O;b&&b.abort(a);f(0,a);return this}};p.promise(r);
e.url=((a||e.url||Ub.href)+"").replace(lc,Ub.protocol+"//");e.type=k.method||k.type||e.method||e.type;e.dataTypes=(e.dataType||"*").toLowerCase().match(cb)||[""];if(null==e.crossDomain){a=qa.createElement("a");try{a.href=e.url,a.href=a.href,e.crossDomain=Ib.protocol+"//"+Ib.host!==a.protocol+"//"+a.host}catch(sc){e.crossDomain=!0}}e.data&&e.processData&&"string"!==typeof e.data&&(e.data=w.param(e.data,e.traditional));ca(Bb,e,k,r);if(n)return r;(g=w.event&&e.global)&&0===w.active++&&w.event.trigger("ajaxStart");
e.type=e.type.toUpperCase();e.hasContent=!Vb.test(e.type);var P=e.url.replace(Pb,"");e.hasContent?e.data&&e.processData&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&(e.data=e.data.replace(wb,"+")):(a=e.url.slice(P.length),e.data&&(e.processData||"string"===typeof e.data)&&(P+=(zb.test(P)?"&":"?")+e.data,delete e.data),!1===e.cache&&(P=P.replace(Ab,"$1"),a=(zb.test(P)?"&":"?")+"_="+Eb++ +a),e.url=P+a);e.ifModified&&(w.lastModified[P]&&r.setRequestHeader("If-Modified-Since",
w.lastModified[P]),w.etag[P]&&r.setRequestHeader("If-None-Match",w.etag[P]));(e.data&&e.hasContent&&!1!==e.contentType||k.contentType)&&r.setRequestHeader("Content-Type",e.contentType);r.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", "+Lb+"; q=0.01":""):e.accepts["*"]);for(l in e.headers)r.setRequestHeader(l,e.headers[l]);if(e.beforeSend&&(!1===e.beforeSend.call(D,r,e)||n))return r.abort();O="abort";J.add(e.complete);r.done(e.success);
r.fail(e.error);if(b=ca(Hb,e,k,r)){r.readyState=1;g&&h.trigger("ajaxSend",[r,e]);if(n)return r;e.async&&0<e.timeout&&(G=I.setTimeout(function(){r.abort("timeout")},e.timeout));try{var n=!1;b.send(q,f)}catch(sc){if(n)throw sc;f(-1,sc)}}else f(-1,"No Transport");return r},getJSON:function(a,k,b){return w.get(a,k,b,"json")},getScript:function(a,k){return w.get(a,void 0,k,"script")}});w.each(["get","post"],function(a,k){w[k]=function(a,f,b,c){ma(f)&&(c=c||b,b=f,f=void 0);return w.ajax(w.extend({url:a,
type:k,dataType:c,data:f,success:b},w.isPlainObject(a)&&a))}});w._evalUrl=function(a,k){return w.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){w.globalEval(a,k)}})};w.fn.extend({wrapAll:function(a){this[0]&&(ma(a)&&(a=a.call(this[0])),a=w(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));
return this},wrapInner:function(a){return ma(a)?this.each(function(f){w(this).wrapInner(a.call(this,f))}):this.each(function(){var f=w(this),k=f.contents();k.length?k.wrapAll(a):f.append(a)})},wrap:function(a){var f=ma(a);return this.each(function(k){w(this).wrapAll(f?a.call(this,k):a)})},unwrap:function(a){this.parent(a).not("body").each(function(){w(this).replaceWith(this.childNodes)});return this}});w.expr.pseudos.hidden=function(a){return!w.expr.pseudos.visible(a)};w.expr.pseudos.visible=function(a){return!!(a.offsetWidth||
a.offsetHeight||a.getClientRects().length)};w.ajaxSettings.xhr=function(){try{return new I.XMLHttpRequest}catch(f){}};var Fb={0:200,1223:204},Mb=w.ajaxSettings.xhr();Aa.cors=!!Mb&&"withCredentials"in Mb;Aa.ajax=Mb=!!Mb;w.ajaxTransport(function(a){var f,k;if(Aa.cors||Mb&&!a.crossDomain)return{send:function(b,c){var d,G=a.xhr();G.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(d in a.xhrFields)G[d]=a.xhrFields[d];a.mimeType&&G.overrideMimeType&&G.overrideMimeType(a.mimeType);a.crossDomain||
b["X-Requested-With"]||(b["X-Requested-With"]="XMLHttpRequest");for(d in b)G.setRequestHeader(d,b[d]);f=function(a){return function(){f&&(f=k=G.onload=G.onerror=G.onabort=G.ontimeout=G.onreadystatechange=null,"abort"===a?G.abort():"error"===a?"number"!==typeof G.status?c(0,"error"):c(G.status,G.statusText):c(Fb[G.status]||G.status,G.statusText,"text"!==(G.responseType||"text")||"string"!==typeof G.responseText?{binary:G.response}:{text:G.responseText},G.getAllResponseHeaders()))}};G.onload=f();k=
G.onerror=G.ontimeout=f("error");void 0!==G.onabort?G.onabort=k:G.onreadystatechange=function(){4===G.readyState&&I.setTimeout(function(){f&&k()})};f=f("abort");try{G.send(a.hasContent&&a.data||null)}catch(xc){if(f)throw xc;}},abort:function(){f&&f()}}});w.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){w.globalEval(a);
return a}}});w.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});w.ajaxTransport("script",function(a){if(a.crossDomain||a.scriptAttrs){var f,k;return{send:function(b,c){f=w("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",k=function(a){f.remove();k=null;a&&c("error"===a.type?404:200,a.type)});qa.head.appendChild(f[0])},abort:function(){k&&k()}}}});var k=[],G=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var a=k.pop()||w.expando+"_"+Eb++;this[a]=!0;return a}});w.ajaxPrefilter("json jsonp",function(a,b,c){var f,d=!1!==a.jsonp&&(G.test(a.url)?"url":"string"===typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&G.test(a.data)&&"data");if(d||"jsonp"===a.dataTypes[0]){var g=a.jsonpCallback=ma(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;d?a[d]=a[d].replace(G,"$1"+g):!1!==a.jsonp&&(a.url+=(zb.test(a.url)?"&":"?")+a.jsonp+"="+g);a.converters["script json"]=
function(){f||w.error(g+" was not called");return f[0]};a.dataTypes[0]="json";var l=I[g];I[g]=function(){f=arguments};c.always(function(){void 0===l?w(I).removeProp(g):I[g]=l;a[g]&&(a.jsonpCallback=b.jsonpCallback,k.push(g));f&&ma(l)&&l(f[0]);f=l=void 0});return"script"}});Aa.createHTMLDocument=function(){var a=qa.implementation.createHTMLDocument("").body;a.innerHTML="<form></form><form></form>";return 2===a.childNodes.length}();w.parseHTML=function(a,k,b){if("string"!==typeof a)return[];"boolean"===
typeof k&&(b=k,k=!1);if(!k)if(Aa.createHTMLDocument){k=qa.implementation.createHTMLDocument("");var f=k.createElement("base");f.href=qa.location.href;k.head.appendChild(f)}else k=qa;f=pb.exec(a);b=!b&&[];if(f)return[k.createElement(f[1])];f=A([a],k,b);b&&b.length&&w(b).remove();return w.merge([],f.childNodes)};w.fn.load=function(a,k,b){var f,c,d=this,G=a.indexOf(" ");if(-1<G){var g=fa(a.slice(G));a=a.slice(0,G)}ma(k)?(b=k,k=void 0):k&&"object"===typeof k&&(f="POST");0<d.length&&w.ajax({url:a,type:f||
"GET",dataType:"html",data:k}).done(function(a){c=arguments;d.html(g?w("<div>").append(w.parseHTML(a)).find(g):a)}).always(b&&function(a,f){d.each(function(){b.apply(this,c||[a.responseText,f,a])})});return this};w.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,k){w.fn[k]=function(a){return this.on(k,a)}});w.expr.pseudos.animated=function(a){return w.grep(w.timers,function(f){return a===f.elem}).length};w.offset={setOffset:function(a,k,b){var f=w.css(a,
"position"),c=w(a),d={};"static"===f&&(a.style.position="relative");var G=c.offset();var g=w.css(a,"top");var l=w.css(a,"left");("absolute"===f||"fixed"===f)&&-1<(g+l).indexOf("auto")?(l=c.position(),g=l.top,l=l.left):(g=parseFloat(g)||0,l=parseFloat(l)||0);ma(k)&&(k=k.call(a,b,w.extend({},G)));null!=k.top&&(d.top=k.top-G.top+g);null!=k.left&&(d.left=k.left-G.left+l);"using"in k?k.using.call(a,d):c.css(d)}};w.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(f){w.offset.setOffset(this,
a,f)});var f;if(f=this[0]){if(!f.getClientRects().length)return{top:0,left:0};var k=f.getBoundingClientRect();f=f.ownerDocument.defaultView;return{top:k.top+f.pageYOffset,left:k.left+f.pageXOffset}}},position:function(){if(this[0]){var a,k=this[0],b={top:0,left:0};if("fixed"===w.css(k,"position"))var c=k.getBoundingClientRect();else{c=this.offset();var d=k.ownerDocument;for(a=k.offsetParent||d.documentElement;a&&(a===d.body||a===d.documentElement)&&"static"===w.css(a,"position");)a=a.parentNode;a&&
a!==k&&1===a.nodeType&&(b=w(a).offset(),b.top+=w.css(a,"borderTopWidth",!0),b.left+=w.css(a,"borderLeftWidth",!0))}return{top:c.top-b.top-w.css(k,"marginTop",!0),left:c.left-b.left-w.css(k,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===w.css(a,"position");)a=a.offsetParent;return a||wa})}});w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,k){var f="pageYOffset"===k;w.fn[a]=function(b){return ka(this,function(a,b,
c){if(mb(a))var d=a;else 9===a.nodeType&&(d=a.defaultView);if(void 0===c)return d?d[k]:a[b];d?d.scrollTo(f?d.pageXOffset:c,f?c:d.pageYOffset):a[b]=c},a,b,arguments.length)}});w.each(["top","left"],function(a,k){w.cssHooks[k]=Fa(Aa.pixelPosition,function(a,f){if(f)return f=ta(a,k),xb.test(f)?w(a).position()[k]+"px":f})});w.each({Height:"height",Width:"width"},function(a,k){w.each({padding:"inner"+a,content:k,"":"outer"+a},function(f,b){w.fn[b]=function(c,d){var G=arguments.length&&(f||"boolean"!==
typeof c),g=f||(!0===c||!0===d?"margin":"border");return ka(this,function(f,k,c){return mb(f)?0===b.indexOf("outer")?f["inner"+a]:f.document.documentElement["client"+a]:9===f.nodeType?(k=f.documentElement,Math.max(f.body["scroll"+a],k["scroll"+a],f.body["offset"+a],k["offset"+a],k["client"+a])):void 0===c?w.css(f,k,g):w.style(f,k,c,g)},k,G?c:void 0,G)}})});w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(a,k){w.fn[k]=function(a,f){return 0<arguments.length?this.on(k,null,a,f):this.trigger(k)}});w.fn.extend({hover:function(a,k){return this.mouseenter(a).mouseleave(k||a)}});w.fn.extend({bind:function(a,k,b){return this.on(a,null,k,b)},unbind:function(a,k){return this.off(a,null,k)},delegate:function(a,k,b,c){return this.on(k,a,b,c)},undelegate:function(a,k,b){return 1===arguments.length?this.off(a,"**"):this.off(k,a||"**",b)}});w.proxy=function(a,k){if("string"===typeof k){var f=a[k];k=a;a=
f}if(ma(a)){var b=xa.call(arguments,2);f=function(){return a.apply(k||this,b.concat(xa.call(arguments)))};f.guid=a.guid=a.guid||w.guid++;return f}};w.holdReady=function(a){a?w.readyWait++:w.ready(!0)};w.isArray=Array.isArray;w.parseJSON=JSON.parse;w.nodeName=c;w.isFunction=ma;w.isWindow=mb;w.camelCase=x;w.type=Ha;w.now=Date.now;w.isNumeric=function(a){var f=w.type(a);return("number"===f||"string"===f)&&!isNaN(a-parseFloat(a))};!(na=[],F=function(){return w}.apply(Y,na),void 0!==F&&(z.exports=F));
var Gb=I.jQuery,fc=I.$;w.noConflict=function(a){I.$===w&&(I.$=fc);a&&I.jQuery===w&&(I.jQuery=Gb);return w};Ua||(I.jQuery=I.$=w);return w})},Iab2:function(z,Y,I){(function(I){var F,na,Ua;(function(b,I){!(na=[],F=I,Ua="function"===typeof F?F.apply(Y,na):F,void 0!==Ua&&(z.exports=Ua))})(this,function(){function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?
new Blob(["\ufeff",a],{type:a.type}):a}function F(a,b,c){var e=new XMLHttpRequest;e.open("GET",a);e.responseType="blob";e.onload=function(){n(e.response,b,c)};e.onerror=function(){console.error("could not download file")};e.send()}function a(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(h){}return 200<=b.status&&299>=b.status}function c(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(h){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,
0,80,20,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}}var e="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof I&&I.global===I?I:void 0,n=e.saveAs||("object"!=typeof window||window!==e?function(){}:"download"in HTMLAnchorElement.prototype?function(b,m,h){var r=e.URL||e.webkitURL,n=document.createElement("a");m=m||b.name||"download";n.download=m;n.rel="noopener";"string"==typeof b?(n.href=b,n.origin===location.origin?c(n):a(n.href)?F(b,m,
h):c(n,n.target="_blank")):(n.href=r.createObjectURL(b),setTimeout(function(){r.revokeObjectURL(n.href)},4E4),setTimeout(function(){c(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,m,h){if(m=m||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(b(e,h),m);else if(a(e))F(e,m,h);else{var r=document.createElement("a");r.href=e;r.target="_blank";setTimeout(function(){c(r)})}}:function(a,b,c,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),
"string"==typeof a)return F(a,b,c);b="application/octet-stream"===a.type;c=/constructor/i.test(e.HTMLElement)||e.safari;var h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||b&&c)&&"object"==typeof FileReader){var m=new FileReader;m.onloadend=function(){var a=m.result;a=h?a:a.replace(/^data:[^;]*;/,"data:attachment/file;");r?r.location.href=a:location=a;r=null};m.readAsDataURL(a)}else{var n=e.URL||e.webkitURL,p=n.createObjectURL(a);r?r.location=p:location.href=p;r=null;setTimeout(function(){n.revokeObjectURL(p)},
4E4)}});e.saveAs=n.saveAs=n;z.exports=n})}).call(this,I("yLpj"))},LdiE:function(z,Y,I){},VS3o:function(z,Y,I){(function(I,F){var na,Ua;!function(a,b){"object"==typeof z.exports?z.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a,b){var k=(b=b||ca).createElement("script");k.text=a;b.head.appendChild(k).parentNode.removeChild(k)}function n(a){var k=!!a&&"length"in
a&&a.length,b=v.type(a);return"function"!==b&&!v.isWindow(a)&&("array"===b||0===k||"number"==typeof k&&0<k&&k-1 in a)}function t(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function m(a,b,c){return v.isFunction(b)?v.grep(a,function(a,f){return!!b.call(a,f,a)!==c}):b.nodeType?v.grep(a,function(a){return a===b!==c}):"string"!=typeof b?v.grep(a,function(a){return-1<xa.call(b,a)!==c}):Rb.test(b)?v.filter(b,a,c):(b=v.filter(b,a),v.grep(a,function(a){return-1<xa.call(b,a)!==c&&1===
a.nodeType}))}function h(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function r(a){return a}function u(a){throw a;}function y(a,b,c,d){var f;try{a&&v.isFunction(f=a.promise)?f.call(a).done(b).fail(c):a&&v.isFunction(f=a.then)?f.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(D){c.apply(void 0,[D])}}function x(){ca.removeEventListener("DOMContentLoaded",x);a.removeEventListener("load",x);v.ready()}function p(){this.expando=v.expando+p.uid++}function d(a,b,c){var k;if(void 0===c&&1===a.nodeType)if(k=
"data-"+b.replace(fb,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(k))){try{k=c,c="true"===k||"false"!==k&&("null"===k?null:k===+k+""?+k:db.test(k)?JSON.parse(k):k)}catch(f){}Ia.set(a,b,c)}else c=void 0;return c}function g(a,b,c,d){var f,k=1,G=20,g=d?function(){return d.cur()}:function(){return v.css(a,b,"")},l=g(),e=c&&c[3]||(v.cssNumber[b]?"":"px"),h=(v.cssNumber[b]||"px"!==e&&+l)&&Ja.exec(v.css(a,b));if(h&&h[3]!==e){e=e||h[3];c=c||[];h=+l||1;do h/=k=k||".5",v.style(a,b,h+e);while(k!==
(k=g()/l)&&1!==k&&--G)}return c&&(h=+h||+l||0,f=c[1]?h+(c[1]+1)*c[2]:+c[2],d&&(d.unit=e,d.start=h,d.end=f)),f}function E(a,b){for(var k,c,f=[],d=0,G=a.length;d<G;d++)if((c=a[d]).style)if(k=c.style.display,b){if("none"===k&&(f[d]=ka.get(c,"display")||null,f[d]||(c.style.display="")),""===c.style.display&&Va(c)){k=d;var g=void 0;var l=c.ownerDocument;var e=c.nodeName;l=(c=Ba[e])||(g=l.body.appendChild(l.createElement(e)),c=v.css(g,"display"),g.parentNode.removeChild(g),"none"===c&&(c="block"),Ba[e]=
c,c);f[k]=l}}else"none"!==k&&(f[d]="none",ka.set(c,"display",k));for(d=0;d<G;d++)null!=f[d]&&(a[d].style.display=f[d]);return a}function l(a,b){var k;return k=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&t(a,b)?v.merge([a],k):k}function L(a,b){for(var k=0,c=a.length;k<c;k++)ka.set(a[k],"globalEval",!b||ka.get(b[k],"globalEval"))}function A(a,b,c,d,f){for(var k,g,G,e,h=b.createDocumentFragment(),p=[],J=0,m=a.length;J<
m;J++)if((k=a[J])||0===k)if("object"===v.type(k))v.merge(p,k.nodeType?[k]:k);else if(Cb.test(k)){g=g||h.appendChild(b.createElement("div"));G=(wa.exec(k)||["",""])[1].toLowerCase();G=Wa[G]||Wa._default;g.innerHTML=G[1]+v.htmlPrefilter(k)+G[2];for(G=G[0];G--;)g=g.lastChild;v.merge(p,g.childNodes);(g=h.firstChild).textContent=""}else p.push(b.createTextNode(k));h.textContent="";for(J=0;k=p[J++];)if(d&&-1<v.inArray(k,d))f&&f.push(k);else if(e=v.contains(k.ownerDocument,k),g=l(h.appendChild(k),"script"),
e&&L(g),c)for(G=0;k=g[G++];)gb.test(k.type||"")&&c.push(k);return h}function B(){return!0}function S(){return!1}function C(){try{return ca.activeElement}catch(k){}}function U(a,b,c,d,f,g){var k,G;if("object"==typeof b){for(G in"string"!=typeof c&&(d=d||c,c=void 0),b)U(a,G,c,d,b[G],g);return a}if(null==d&&null==f?(f=c,d=c=void 0):null==f&&("string"==typeof c?(f=d,d=void 0):(f=d,d=c,c=void 0)),!1===f)f=S;else if(!f)return a;return 1===g&&(k=f,(f=function(a){return v().off(a),k.apply(this,arguments)}).guid=
k.guid||(k.guid=v.guid++)),a.each(function(){v.event.add(this,b,f,d,c)})}function q(a,b){return t(a,"table")&&t(11!==b.nodeType?b:b.firstChild,"tr")&&v(">tbody",a)[0]||a}function M(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ia(a){var k=Tb.exec(a.type);return k?a.type=k[1]:a.removeAttribute("type"),a}function X(a,b){var k,c,f,d,g,G;if(1===b.nodeType){if(ka.hasData(a)&&(k=ka.access(a),c=ka.set(b,k),G=k.events))for(f in delete c.handle,c.events={},G)for(k=0,c=G[f].length;k<
c;k++)v.event.add(b,f,G[f][k]);Ia.hasData(a)&&(d=Ia.access(a),g=v.extend({},d),Ia.set(b,g))}}function K(a,b,d,g){b=I.apply([],b);var f,k,G,e=0,h=a.length,p=h-1,J=b[0],m=v.isFunction(J);if(m||1<h&&"string"==typeof J&&!va.checkClone&&jc.test(J))return a.each(function(f){var k=a.eq(f);m&&(b[0]=J.call(this,f,k.html()));K(k,b,d,g)});if(h&&(k=(f=A(b,a[0].ownerDocument,!1,a,g)).firstChild,1===f.childNodes.length&&(f=k),k||g)){for(G=(k=v.map(l(f,"script"),M)).length;e<h;e++){var q=f;e!==p&&(q=v.clone(q,!0,
!0),G&&v.merge(k,l(q,"script")));d.call(a[e],q,e)}if(G)for(f=k[k.length-1].ownerDocument,v.map(k,ia),e=0;e<G;e++)q=k[e],gb.test(q.type||"")&&!ka.access(q,"globalEval")&&v.contains(f,q)&&(q.src?v._evalUrl&&v._evalUrl(q.src):c(q.textContent.replace(Yb,""),f))}return a}function N(a,b,c){for(var k=b?v.filter(b,a):a,f=0;null!=(b=k[f]);f++)c||1!==b.nodeType||v.cleanData(l(b)),b.parentNode&&(c&&v.contains(b.ownerDocument,b)&&L(l(b,"script")),b.parentNode.removeChild(b));return a}function H(a,b,c){var k,
f,d,g,l=a.style;return(c=c||Sa(a))&&(""!==(g=c.getPropertyValue(b)||c[b])||v.contains(a.ownerDocument,a)||(g=v.style(a,b)),!va.pixelMarginRight()&&Jb.test(g)&&ub.test(b)&&(k=l.width,f=l.minWidth,d=l.maxWidth,l.minWidth=l.maxWidth=l.width=g,g=c.width,l.width=k,l.minWidth=f,l.maxWidth=d)),void 0!==g?g+"":g}function ta(a,b){return{get:function(){if(!a())return(this.get=b).apply(this,arguments);delete this.get}}}function Fa(a){var k=v.cssProps[a];if(!k){k=v.cssProps;a:{var b=a;if(!(b in Qb)){for(var c=
b[0].toUpperCase()+b.slice(1),f=Oa.length;f--;)if((b=Oa[f]+c)in Qb)break a;b=void 0}}k=k[a]=b||a}return k}function O(a,b,c){return(a=Ja.exec(b))?Math.max(0,a[2]-(c||0))+(a[3]||"px"):b}function W(a,b,c,d,f){var k=0;for(b=c===(d?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===c&&(k+=v.css(a,c+da[b],!0,f)),d?("content"===c&&(k-=v.css(a,"padding"+da[b],!0,f)),"margin"!==c&&(k-=v.css(a,"border"+da[b]+"Width",!0,f))):(k+=v.css(a,"padding"+da[b],!0,f),"padding"!==c&&(k+=v.css(a,"border"+da[b]+
"Width",!0,f)));return k}function V(a,b,c){var k,f=Sa(a),d=H(a,b,f),g="border-box"===v.css(a,"boxSizing",!1,f);return Jb.test(d)?d:(k=g&&(va.boxSizingReliable()||d===a.style[b]),"auto"===d&&(d=a["offset"+b[0].toUpperCase()+b.slice(1)]),(parseFloat(d)||0)+W(a,b,c||(g?"border":"content"),k,f)+"px")}function P(a,b,c,d,f){return new P.prototype.init(a,b,c,d,f)}function J(){$a&&(!1===ca.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(J):a.setTimeout(J,v.fx.interval),v.fx.tick())}function Q(){return a.setTimeout(function(){Db=
void 0}),Db=v.now()}function R(a,b){var k,c=0,f={height:a};for(b=b?1:0;4>c;c+=2-b)f["margin"+(k=da[c])]=f["padding"+k]=a;return b&&(f.opacity=f.width=a),f}function T(a,b,c){for(var k,f=(ea.tweeners[b]||[]).concat(ea.tweeners["*"]),d=0,g=f.length;d<g;d++)if(k=f[d].call(c,b,a))return k}function ea(a,b,c){var k,f=0,d=ea.prefilters.length,g=v.Deferred().always(function(){delete l.elem}),l=function(){if(k)return!1;var f=Db||Q();f=Math.max(0,e.startTime+e.duration-f);for(var b=1-(f/e.duration||0),c=0,d=
e.tweens.length;c<d;c++)e.tweens[c].run(b);return g.notifyWith(a,[e,b,f]),1>b&&d?f:(d||g.notifyWith(a,[e,1,0]),g.resolveWith(a,[e]),!1)},e=g.promise({elem:a,props:v.extend({},b),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},c),originalProperties:b,originalOptions:c,startTime:Db||Q(),duration:c.duration,tweens:[],createTween:function(f,k){f=v.Tween(a,e.opts,f,k,e.opts.specialEasing[f]||e.opts.easing);return e.tweens.push(f),f},stop:function(f){var b=0,c=f?e.tweens.length:0;if(k)return this;
for(k=!0;b<c;b++)e.tweens[b].run(1);return f?(g.notifyWith(a,[e,1,0]),g.resolveWith(a,[e,f])):g.rejectWith(a,[e,f]),this}});c=e.props;!function(a,f){var k,b,c,d,g;for(k in a)if(c=f[b=v.camelCase(k)],d=a[k],Array.isArray(d)&&(c=d[1],d=a[k]=d[0]),k!==b&&(a[b]=d,delete a[k]),(g=v.cssHooks[b])&&"expand"in g)for(k in d=g.expand(d),delete a[b],d)k in a||(a[k]=d[k],f[k]=c);else f[b]=c}(c,e.opts.specialEasing);for(;f<d;f++)if(b=ea.prefilters[f].call(e,a,c,e.opts))return v.isFunction(b.stop)&&(v._queueHooks(e.elem,
e.opts.queue).stop=v.proxy(b.stop,b)),b;return v.map(c,T,e),v.isFunction(e.opts.start)&&e.opts.start.call(a,e),e.progress(e.opts.progress).done(e.opts.done,e.opts.complete).fail(e.opts.fail).always(e.opts.always),v.fx.timer(v.extend(l,{elem:a,anim:e,queue:e.opts.queue})),e}function la(a){return(a.match(ib)||[]).join(" ")}function ja(a){return a.getAttribute&&a.getAttribute("class")||""}function fa(a,b,c,d){var f;if(Array.isArray(b))v.each(b,function(f,k){c||Ha.test(a)?d(a,k):fa(a+"["+("object"==typeof k&&
null!=k?f:"")+"]",k,c,d)});else if(c||"object"!==v.type(b))d(a,b);else for(f in b)fa(a+"["+f+"]",b[f],c,d)}function ha(a){return function(k,b){"string"!=typeof k&&(b=k,k="*");var c=0,f=k.toLowerCase().match(ib)||[];if(v.isFunction(b))for(;k=f[c++];)"+"===k[0]?(k=k.slice(1)||"*",(a[k]=a[k]||[]).unshift(b)):(a[k]=a[k]||[]).push(b)}}function Z(a,b,c,d){function f(l){var e;return k[l]=!0,v.each(a[l]||[],function(a,l){a=l(b,c,d);return"string"!=typeof a||g||k[a]?g?!(e=a):void 0:(b.dataTypes.unshift(a),
f(a),!1)}),e}var k={},g=a===Ab;return f(b.dataTypes[0])||!k["*"]&&f("*")}function ba(a,b){var k,c,f=v.ajaxSettings.flatOptions||{};for(k in b)void 0!==b[k]&&((f[k]?a:c||(c={}))[k]=b[k]);return c&&v.extend(!0,a,c),a}var ua=[],ca=a.document,aa=Object.getPrototypeOf,F=ua.slice,I=ua.concat,mc=ua.push,xa=ua.indexOf,ac={},Za=ac.toString,Ya=ac.hasOwnProperty,Qa=Ya.toString,wc=Qa.call(Object),va={},v=function(a,b){return new v.fn.init(a,b)},Nb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Aa=/^-ms-/,ma=/-([a-z])/g,
mb=function(a,b){return b.toUpperCase()};$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();v.fn=v.prototype={jquery:"3.2.1",constructor:v,length:0,toArray:function(){return F.call(this)},get:function(a){return null==a?F.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=v.merge(this.constructor(),a);return a.prevObject=this,a},each:function(a){return v.each(this,a)},map:function(a){return this.pushStack(v.map(this,
function(k,b){return a.call(k,b,k)}))},slice:function(){return this.pushStack(F.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var k=this.length;a=+a+(0>a?k:0);return this.pushStack(0<=a&&a<k?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:mc,sort:ua.sort,splice:ua.splice};v.extend=v.fn.extend=function(){var a,b,c,d,f,g=arguments[0]||{},l=1,e=arguments.length,h=!1;"boolean"==typeof g&&(h=g,g=arguments[l]||
{},l++);"object"==typeof g||v.isFunction(g)||(g={});for(l===e&&(g=this,l--);l<e;l++)if(null!=(a=arguments[l]))for(b in a){var p=g[b];g!==(c=a[b])&&(h&&c&&(v.isPlainObject(c)||(d=Array.isArray(c)))?(d?(d=!1,f=p&&Array.isArray(p)?p:[]):f=p&&v.isPlainObject(p)?p:{},g[b]=v.extend(h,f,c)):void 0!==c&&(g[b]=c))}return g};v.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===v.type(a)},
isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var k=v.type(a);return("number"===k||"string"===k)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var k,b;return!(!a||"[object Object]"!==Za.call(a))&&(!(k=aa(a))||"function"==typeof(b=Ya.call(k,"constructor")&&k.constructor)&&Qa.call(b)===wc)},isEmptyObject:function(a){for(var k in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ac[Za.call(a)]||"object":typeof a},globalEval:function(a){c(a)},
camelCase:function(a){return a.replace(Aa,"ms-").replace(ma,mb)},each:function(a,b){var k,c=0;if(n(a))for(k=a.length;c<k&&!1!==b.call(a[c],c,a[c]);c++);else for(c in a)if(!1===b.call(a[c],c,a[c]))break;return a},trim:function(a){return null==a?"":(a+"").replace(Nb,"")},makeArray:function(a,b){b=b||[];return null!=a&&(n(Object(a))?v.merge(b,"string"==typeof a?[a]:a):mc.call(b,a)),b},inArray:function(a,b,c){return null==b?-1:xa.call(b,a,c)},merge:function(a,b){for(var k=+b.length,c=0,f=a.length;c<k;c++)a[f++]=
b[c];return a.length=f,a},grep:function(a,b,c){var k=[],f=0,d=a.length;for(c=!c;f<d;f++)!b(a[f],f)!==c&&k.push(a[f]);return k},map:function(a,b,c){var k,f,d=0,g=[];if(n(a))for(k=a.length;d<k;d++)null!=(f=b(a[d],d,c))&&g.push(f);else for(d in a)null!=(f=b(a[d],d,c))&&g.push(f);return I.apply([],g)},guid:1,proxy:function(a,b){var k,c,f;if("string"==typeof b&&(k=a[b],b=a,a=k),v.isFunction(a))return c=F.call(arguments,2),(f=function(){return a.apply(b||this,c.concat(F.call(arguments)))}).guid=a.guid=
a.guid||v.guid++,f},now:Date.now,support:va});"function"==typeof Symbol&&(v.fn[Symbol.iterator]=ua[Symbol.iterator]);v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ac["[object "+b+"]"]=b.toLowerCase()});var Na=function(a){function k(a,f,k,b){var c,d,g,l,e=f&&f.ownerDocument,h=f?f.nodeType:9;if(k=k||[],"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return k;if(!b&&((f?f.ownerDocument||f:Va)!==R&&S(f),f=f||R,V)){if(11!==h&&(l=gb.exec(a)))if(c=l[1])if(9===
h){if(!(d=f.getElementById(c)))return k;if(d.id===c)return k.push(d),k}else{if(e&&(d=e.getElementById(c))&&K(f,d)&&d.id===c)return k.push(d),k}else{if(l[2])return Ba.apply(k,f.getElementsByTagName(a)),k;if((c=l[3])&&Q.getElementsByClassName&&f.getElementsByClassName)return Ba.apply(k,f.getElementsByClassName(c)),k}if(!(!Q.qsa||N[a+" "]||U&&U.test(a))){if(1!==h){e=f;var G=a}else if("object"!==f.nodeName.toLowerCase()){(g=f.getAttribute("id"))?g=g.replace(hb,Wa):f.setAttribute("id",g=M);for(c=(d=t(a)).length;c--;)d[c]=
"#"+g+" "+q(d[c]);G=d.join(",");e=I.test(a)&&J(f.parentNode)||f}if(G)try{return Ba.apply(k,e.querySelectorAll(G)),k}catch(Dc){}finally{g===M&&f.removeAttribute("id")}}}return W(a.replace(Fa,"$1"),f,k,b)}function b(){var a=[];return function cc(f,k){return a.push(f+" ")>da.cacheLength&&delete cc[a.shift()],cc[f+" "]=k}}function c(a){return a[M]=!0,a}function f(a){var f=R.createElement("fieldset");try{return!!a(f)}catch(pc){return!1}finally{f.parentNode&&f.parentNode.removeChild(f)}}function d(a,f){a=
a.split("|");for(var k=a.length;k--;)da.attrHandle[a[k]]=f}function g(a,f){var k=f&&a,b=k&&1===a.nodeType&&1===f.nodeType&&a.sourceIndex-f.sourceIndex;if(b)return b;if(k)for(;k=k.nextSibling;)if(k===f)return-1;return a?1:-1}function l(a){return function(f){return"input"===f.nodeName.toLowerCase()&&f.type===a}}function e(a){return function(f){var k=f.nodeName.toLowerCase();return("input"===k||"button"===k)&&f.type===a}}function h(a){return function(f){return"form"in f?f.parentNode&&!1===f.disabled?
"label"in f?"label"in f.parentNode?f.parentNode.disabled===a:f.disabled===a:f.isDisabled===a||f.isDisabled!==!a&&eb(f)===a:f.disabled===a:"label"in f&&f.disabled===a}}function p(a){return c(function(f){return f=+f,c(function(k,b){for(var c,d=a([],k.length,f),g=d.length;g--;)k[c=d[g]]&&(k[c]=!(b[c]=k[c]))})})}function J(a){return a&&void 0!==a.getElementsByTagName&&a}function m(){}function q(a){for(var f=0,k=a.length,b="";f<k;f++)b+=a[f].value;return b}function C(a,f,k){var b=f.dir,c=f.next,d=c||b,
g=k&&"parentNode"===d,l=ea++;return f.first?function(f,k,c){for(;f=f[b];)if(1===f.nodeType||g)return a(f,k,c);return!1}:function(f,k,e){var h,G,p,J=[ia,l];if(e)for(;f=f[b];){if((1===f.nodeType||g)&&a(f,k,e))return!0}else for(;f=f[b];)if(1===f.nodeType||g)if(G=(p=f[M]||(f[M]={}))[f.uniqueID]||(p[f.uniqueID]={}),c&&c===f.nodeName.toLowerCase())f=f[b]||f;else{if((h=G[d])&&h[0]===ia&&h[1]===l)return J[2]=h[2];if(G[d]=J,J[2]=a(f,k,e))return!0}return!1}}function r(a){return 1<a.length?function(f,k,b){for(var c=
a.length;c--;)if(!a[c](f,k,b))return!1;return!0}:a[0]}function O(a,f,k,b,c){for(var d,g=[],l=0,e=a.length,h=null!=f;l<e;l++)(d=a[l])&&(k&&!k(d,b,c)||(g.push(d),h&&f.push(l)));return g}function n(a,f,b,d,g,l){return d&&!d[M]&&(d=n(d)),g&&!g[M]&&(g=n(g,l)),c(function(c,l,e,h){var G,p=[],J=[],m=l.length,q;if(!(q=c)){q=f||"*";for(var C=e.nodeType?[e]:e,r=[],n=0,P=C.length;n<P;n++)k(q,C[n],r);q=r}q=!a||!c&&f?q:O(q,p,a,e,h);C=b?g||(c?a:m||d)?[]:l:q;if(b&&b(q,C,e,h),d){var w=O(C,J);d(w,[],e,h);for(e=w.length;e--;)(G=
w[e])&&(C[J[e]]=!(q[J[e]]=G))}if(c){if(g||a){if(g){w=[];for(e=C.length;e--;)(G=C[e])&&w.push(q[e]=G);g(null,C=[],w,h)}for(e=C.length;e--;)(G=C[e])&&-1<(w=g?Na(c,G):p[e])&&(c[w]=!(l[w]=G))}}else C=O(C===l?C.splice(m,C.length):C),g?g(null,l,C,h):Ba.apply(l,C)})}function P(a){var f,k,b=a.length,c=da.relative[a[0].type];var d=c||da.relative[" "];for(var g=c?1:0,l=C(function(a){return a===f},d,!0),e=C(function(a){return-1<Na(f,a)},d,!0),h=[function(a,k,b){a=!c&&(b||k!==u)||((f=k).nodeType?l(a,k,b):e(a,
k,b));return f=null,a}];g<b;g++)if(d=da.relative[a[g].type])h=[C(r(h),d)];else{if((d=da.filter[a[g].type].apply(null,a[g].matches))[M]){for(k=++g;k<b&&!da.relative[a[k].type];k++);return n(1<g&&r(h),1<g&&q(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(Fa,"$1"),d,g<k&&P(a.slice(g,k)),k<b&&P(a=a.slice(k)),k<b&&q(a))}h.push(d)}return r(h)}var w,Q,da,E,B,t,L,W,u,v,A,S,R,x,V,U,T,y,K,M="sizzle"+1*new Date,Va=a.document,ia=0,ea=0,X=b(),H=b(),N=b(),la=function(a,f){return a===f&&(A=!0),
0},fa={}.hasOwnProperty,ja=[],ta=ja.pop,Kb=ja.push,Ba=ja.push,Z=ja.slice,Na=function(a,f){for(var k=0,b=a.length;k<b;k++)if(a[k]===f)return k;return-1},ba=/[\x20\t\r\n\f]+/g,Fa=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,z=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ha=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Ma=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ca=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
aa=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ua={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},wa=/^(?:input|select|textarea|button)$/i,F=/^h\d$/i,Ka=/^[^{]+\{\s*\[native \w/,
gb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,I=/[+~]/,ya=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,pa=function(a,f,k){a="0x"+f-65536;return a!=a||k?f:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},hb=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Wa=function(a,f){return f?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},Cb=function(){S()},eb=C(function(a){return!0===a.disabled&&("form"in a||"label"in a)},{dir:"parentNode",
next:"legend"});try{Ba.apply(ja=Z.call(Va.childNodes),Va.childNodes),ja[Va.childNodes.length].nodeType}catch(vc){Ba={apply:ja.length?function(a,f){Kb.apply(a,Z.call(f))}:function(a,f){for(var k=a.length,b=0;a[k++]=f[b++];);a.length=k-1}}}for(w in Q=k.support={},B=k.isXML=function(a){a=a&&(a.ownerDocument||a).documentElement;return!!a&&"HTML"!==a.nodeName},S=k.setDocument=function(a){var k,b;a=a?a.ownerDocument||a:Va;return a!==R&&9===a.nodeType&&a.documentElement?(x=(R=a).documentElement,V=!B(R),
Va!==R&&(b=R.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",Cb,!1):b.attachEvent&&b.attachEvent("onunload",Cb)),Q.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),Q.getElementsByTagName=f(function(a){return a.appendChild(R.createComment("")),!a.getElementsByTagName("*").length}),Q.getElementsByClassName=Ka.test(R.getElementsByClassName),Q.getById=f(function(a){return x.appendChild(a).id=M,!R.getElementsByName||!R.getElementsByName(M).length}),
Q.getById?(da.filter.ID=function(a){var f=a.replace(ya,pa);return function(a){return a.getAttribute("id")===f}},da.find.ID=function(a,f){if(void 0!==f.getElementById&&V)return(a=f.getElementById(a))?[a]:[]}):(da.filter.ID=function(a){var f=a.replace(ya,pa);return function(a){return(a=void 0!==a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===f}},da.find.ID=function(a,f){if(void 0!==f.getElementById&&V){var k,b=f.getElementById(a);if(b){if((k=b.getAttributeNode("id"))&&k.value===a)return[b];
var c=f.getElementsByName(a);for(f=0;b=c[f++];)if((k=b.getAttributeNode("id"))&&k.value===a)return[b]}return[]}}),da.find.TAG=Q.getElementsByTagName?function(a,f){return void 0!==f.getElementsByTagName?f.getElementsByTagName(a):Q.qsa?f.querySelectorAll(a):void 0}:function(a,f){var k=[],b=0;f=f.getElementsByTagName(a);if("*"===a){for(;a=f[b++];)1===a.nodeType&&k.push(a);return k}return f},da.find.CLASS=Q.getElementsByClassName&&function(a,f){if(void 0!==f.getElementsByClassName&&V)return f.getElementsByClassName(a)},
T=[],U=[],(Q.qsa=Ka.test(R.querySelectorAll))&&(f(function(a){x.appendChild(a).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&U.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||U.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+
M+"-]").length||U.push("~=");a.querySelectorAll(":checked").length||U.push(":checked");a.querySelectorAll("a#"+M+"+*").length||U.push(".#.+[+~]")}),f(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var f=R.createElement("input");f.setAttribute("type","hidden");a.appendChild(f).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&U.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&U.push(":enabled",
":disabled");x.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&U.push(":enabled",":disabled");a.querySelectorAll("*,:x");U.push(",.*:")})),(Q.matchesSelector=Ka.test(y=x.matches||x.webkitMatchesSelector||x.mozMatchesSelector||x.oMatchesSelector||x.msMatchesSelector))&&f(function(a){Q.disconnectedMatch=y.call(a,"*");y.call(a,"[s!='']:x");T.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
U=U.length&&new RegExp(U.join("|")),T=T.length&&new RegExp(T.join("|")),k=Ka.test(x.compareDocumentPosition),K=k||Ka.test(x.contains)?function(a,f){var k=9===a.nodeType?a.documentElement:a;f=f&&f.parentNode;return a===f||!(!f||1!==f.nodeType||!(k.contains?k.contains(f):a.compareDocumentPosition&&16&a.compareDocumentPosition(f)))}:function(a,f){if(f)for(;f=f.parentNode;)if(f===a)return!0;return!1},la=k?function(a,f){if(a===f)return A=!0,0;var k=!a.compareDocumentPosition-!f.compareDocumentPosition;
return k||(1&(k=(a.ownerDocument||a)===(f.ownerDocument||f)?a.compareDocumentPosition(f):1)||!Q.sortDetached&&f.compareDocumentPosition(a)===k?a===R||a.ownerDocument===Va&&K(Va,a)?-1:f===R||f.ownerDocument===Va&&K(Va,f)?1:v?Na(v,a)-Na(v,f):0:4&k?-1:1)}:function(a,f){if(a===f)return A=!0,0;var k=0,b=a.parentNode,c=f.parentNode,d=[a],l=[f];if(!b||!c)return a===R?-1:f===R?1:b?-1:c?1:v?Na(v,a)-Na(v,f):0;if(b===c)return g(a,f);for(;a=a.parentNode;)d.unshift(a);for(a=f;a=a.parentNode;)l.unshift(a);for(;d[k]===
l[k];)k++;return k?g(d[k],l[k]):d[k]===Va?-1:l[k]===Va?1:0},R):R},k.matches=function(a,f){return k(a,null,null,f)},k.matchesSelector=function(a,f){if((a.ownerDocument||a)!==R&&S(a),f=f.replace(Ma,"='$1']"),!(!Q.matchesSelector||!V||N[f+" "]||T&&T.test(f)||U&&U.test(f)))try{var b=y.call(a,f);if(b||Q.disconnectedMatch||a.document&&11!==a.document.nodeType)return b}catch(Ca){}return 0<k(f,R,null,[a]).length},k.contains=function(a,f){return(a.ownerDocument||a)!==R&&S(a),K(a,f)},k.attr=function(a,f){(a.ownerDocument||
a)!==R&&S(a);var k=da.attrHandle[f.toLowerCase()];k=k&&fa.call(da.attrHandle,f.toLowerCase())?k(a,f,!V):void 0;return void 0!==k?k:Q.attributes||!V?a.getAttribute(f):(k=a.getAttributeNode(f))&&k.specified?k.value:null},k.escape=function(a){return(a+"").replace(hb,Wa)},k.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);},k.uniqueSort=function(a){var f,k=[],b=0,c=0;if(A=!Q.detectDuplicates,v=!Q.sortStable&&a.slice(0),a.sort(la),A){for(;f=a[c++];)f===a[c]&&(b=k.push(c));for(;b--;)a.splice(k[b],
1)}return v=null,a},E=k.getText=function(a){var f,k="",b=0;if(f=a.nodeType)if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)k+=E(a)}else{if(3===f||4===f)return a.nodeValue}else for(;f=a[b++];)k+=E(f);return k},(da=k.selectors={cacheLength:50,createPseudo:c,match:ua,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=
a[1].replace(ya,pa),a[3]=(a[3]||a[4]||a[5]||"").replace(ya,pa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||k.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&k.error(a[0]),a},PSEUDO:function(a){var f,k=!a[6]&&a[2];return ua.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":k&&ca.test(k)&&(f=t(k,!0))&&(f=k.indexOf(")",k.length-f)-k.length)&&(a[0]=a[0].slice(0,
f),a[2]=k.slice(0,f)),a.slice(0,3))}},filter:{TAG:function(a){var f=a.replace(ya,pa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===f}},CLASS:function(a){var f=X[a+" "];return f||(f=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),X(a,function(a){return f.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,f,b){return function(c){c=k.attr(c,a);return null==
c?"!="===f:!f||(c+="","="===f?c===b:"!="===f?c!==b:"^="===f?b&&0===c.indexOf(b):"*="===f?b&&-1<c.indexOf(b):"$="===f?b&&c.slice(-b.length)===b:"~="===f?-1<(" "+c.replace(ba," ")+" ").indexOf(b):"|="===f&&(c===b||c.slice(0,b.length+1)===b+"-"))}},CHILD:function(a,f,k,b,c){var d="nth"!==a.slice(0,3),g="last"!==a.slice(-4),l="of-type"===f;return 1===b&&0===c?function(a){return!!a.parentNode}:function(f,k,e){var h,G,p,J;k=d!==g?"nextSibling":"previousSibling";var m=f.parentNode,q=l&&f.nodeName.toLowerCase(),
C=!e&&!l,r=!1;if(m){if(d){for(;k;){for(p=f;p=p[k];)if(l?p.nodeName.toLowerCase()===q:1===p.nodeType)return!1;var O=k="only"===a&&!O&&"nextSibling"}return!0}if(O=[g?m.firstChild:m.lastChild],g&&C)for(r=(J=(h=(e=(G=(p=m)[M]||(p[M]={}))[p.uniqueID]||(G[p.uniqueID]={}))[a]||[])[0]===ia&&h[1])&&h[2],p=J&&m.childNodes[J];p=++J&&p&&p[k]||(r=J=0)||O.pop();){if(1===p.nodeType&&++r&&p===f){e[a]=[ia,J,r];break}}else if(C&&(r=J=(h=((G=(p=f)[M]||(p[M]={}))[p.uniqueID]||(G[p.uniqueID]={}))[a]||[])[0]===ia&&h[1]),
!1===r)for(;(p=++J&&p&&p[k]||(r=J=0)||O.pop())&&((l?p.nodeName.toLowerCase()!==q:1!==p.nodeType)||!++r||(C&&((e=(G=p[M]||(p[M]={}))[p.uniqueID]||(G[p.uniqueID]={}))[a]=[ia,r]),p!==f)););return(r-=c)===b||0==r%b&&0<=r/b}}},PSEUDO:function(a,f){var b,d=da.pseudos[a]||da.setFilters[a.toLowerCase()]||k.error("unsupported pseudo: "+a);return d[M]?d(f):1<d.length?(b=[a,a,"",f],da.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,k){for(var b,c=d(a,f),g=c.length;g--;)a[b=Na(a,c[g])]=!(k[b]=c[g])}):
function(a){return d(a,0,b)}):d}},pseudos:{not:c(function(a){var f=[],k=[],b=L(a.replace(Fa,"$1"));return b[M]?c(function(a,f,k,c){var d;k=b(a,null,c,[]);for(c=a.length;c--;)(d=k[c])&&(a[c]=!(f[c]=d))}):function(a,c,d){return f[0]=a,b(f,null,d,k),f[0]=null,!k.pop()}}),has:c(function(a){return function(f){return 0<k(a,f).length}}),contains:c(function(a){return a=a.replace(ya,pa),function(f){return-1<(f.textContent||f.innerText||E(f)).indexOf(a)}}),lang:c(function(a){return aa.test(a||"")||k.error("unsupported lang: "+
a),a=a.replace(ya,pa).toLowerCase(),function(f){var k;do if(k=V?f.lang:f.getAttribute("xml:lang")||f.getAttribute("lang"))return(k=k.toLowerCase())===a||0===k.indexOf(a+"-");while((f=f.parentNode)&&1===f.nodeType);return!1}}),target:function(f){var k=a.location&&a.location.hash;return k&&k.slice(1)===f.id},root:function(a){return a===x},focus:function(a){return a===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:h(!1),disabled:h(!0),checked:function(a){var f=
a.nodeName.toLowerCase();return"input"===f&&!!a.checked||"option"===f&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!da.pseudos.empty(a)},header:function(a){return F.test(a.nodeName)},input:function(a){return wa.test(a.nodeName)},button:function(a){var f=a.nodeName.toLowerCase();return"input"===f&&"button"===a.type||"button"===f},
text:function(a){var f;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(f=a.getAttribute("type"))||"text"===f.toLowerCase())},first:p(function(){return[0]}),last:p(function(a,f){return[f-1]}),eq:p(function(a,f,k){return[0>k?k+f:k]}),even:p(function(a,f){for(var k=0;k<f;k+=2)a.push(k);return a}),odd:p(function(a,f){for(var k=1;k<f;k+=2)a.push(k);return a}),lt:p(function(a,f,k){for(f=0>k?k+f:k;0<=--f;)a.push(f);return a}),gt:p(function(a,f,k){for(k=0>k?k+f:k;++k<f;)a.push(k);return a})}}).pseudos.nth=
da.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})da.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})da.pseudos[w]=e(w);return m.prototype=da.filters=da.pseudos,da.setFilters=new m,t=k.tokenize=function(a,f){var b,c,d,g,l,e;if(l=H[a+" "])return f?0:l.slice(0);l=a;var h=[];for(e=da.preFilter;l;){for(g in b&&!(c=z.exec(l))||(c&&(l=l.slice(c[0].length)||l),h.push(d=[])),b=!1,(c=ha.exec(l))&&(b=c.shift(),d.push({value:b,type:c[0].replace(Fa," ")}),l=l.slice(b.length)),da.filter)!(c=ua[g].exec(l))||
e[g]&&!(c=e[g](c))||(b=c.shift(),d.push({value:b,type:g,matches:c}),l=l.slice(b.length));if(!b)break}return f?l.length:l?k.error(a):H(a,h).slice(0)},L=k.compile=function(a,f){var b,d=[],g=[],l=N[a+" "];if(!l){f||(f=t(a));for(b=f.length;b--;)(l=P(f[b]))[M]?d.push(l):g.push(l);(l=N(a,function(a,f){var b=0<f.length,d=0<a.length,g=function(c,g,l,e,h){var p,G,J=0,m="0",q=c&&[],C=[],r=u,n=c||d&&da.find.TAG("*",h),w=ia+=null==r?1:Math.random()||.1,P=n.length;for(h&&(u=g===R||g||h);m!==P&&null!=(p=n[m]);m++){if(d&&
p){var Q=0;for(g||p.ownerDocument===R||(S(p),l=!V);G=a[Q++];)if(G(p,g||R,l)){e.push(p);break}h&&(ia=w)}b&&((p=!G&&p)&&J--,c&&q.push(p))}if(J+=m,b&&m!==J){for(Q=0;G=f[Q++];)G(q,C,g,l);if(c){if(0<J)for(;m--;)q[m]||C[m]||(C[m]=ta.call(e));C=O(C)}Ba.apply(e,C);h&&!c&&0<C.length&&1<J+f.length&&k.uniqueSort(e)}return h&&(ia=w,u=r),q};return b?c(g):g}(g,d))).selector=a}return l},W=k.select=function(a,f,k,b){var c,d,g,l,e,h="function"==typeof a&&a,p=!b&&t(a=h.selector||a);if(k=k||[],1===p.length){if(2<(d=
p[0]=p[0].slice(0)).length&&"ID"===(g=d[0]).type&&9===f.nodeType&&V&&da.relative[d[1].type]){if(!(f=(da.find.ID(g.matches[0].replace(ya,pa),f)||[])[0]))return k;h&&(f=f.parentNode);a=a.slice(d.shift().value.length)}for(c=ua.needsContext.test(a)?0:d.length;c--&&(g=d[c],!da.relative[l=g.type]);)if((e=da.find[l])&&(b=e(g.matches[0].replace(ya,pa),I.test(d[0].type)&&J(f.parentNode)||f))){if(d.splice(c,1),!(a=b.length&&q(d)))return Ba.apply(k,b),k;break}}return(h||L(a,p))(b,f,!V,k,!f||I.test(a)&&J(f.parentNode)||
f),k},Q.sortStable=M.split("").sort(la).join("")===M,Q.detectDuplicates=!!A,S(),Q.sortDetached=f(function(a){return 1&a.compareDocumentPosition(R.createElement("fieldset"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||d("type|href|height|width",function(a,f,k){if(!k)return a.getAttribute(f,"type"===f.toLowerCase()?1:2)}),Q.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||
d("value",function(a,f,k){if(!k&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,f,k){var b;if(!k)return!0===a[f]?f.toLowerCase():(b=a.getAttributeNode(f))&&b.specified?b.value:null}),k}(a);v.find=Na;v.expr=Na.selectors;v.expr[":"]=v.expr.pseudos;v.uniqueSort=v.unique=Na.uniqueSort;v.text=Na.getText;
v.isXMLDoc=Na.isXML;v.contains=Na.contains;v.escapeSelector=Na.escape;var w=function(a,b,c){for(var k=[],f=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(f&&v(a).is(c))break;k.push(a)}return k},hb=function(a,b){for(var k=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&k.push(a);return k},Ka=v.expr.match.needsContext,eb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Rb=/^.[^:#\[\.,]*$/;v.filter=function(a,b,c){var k=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===k.nodeType?
v.find.matchesSelector(k,a)?[k]:[]:v.find.matches(a,v.grep(b,function(a){return 1===a.nodeType}))};v.fn.extend({find:function(a){var k,b=this.length,c=this;if("string"!=typeof a)return this.pushStack(v(a).filter(function(){for(k=0;k<b;k++)if(v.contains(c[k],this))return!0}));var f=this.pushStack([]);for(k=0;k<b;k++)v.find(a,c[k],f);return 1<b?v.uniqueSort(f):f},filter:function(a){return this.pushStack(m(this,a||[],!1))},not:function(a){return this.pushStack(m(this,a||[],!0))},is:function(a){return!!m(this,
"string"==typeof a&&Ka.test(a)?v(a):a||[],!1).length}});var bb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(v.fn.init=function(a,b,c){var k,f;if(!a)return this;if(c=c||pb,"string"==typeof a){if(!(k="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:bb.exec(a))||!k[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(k[1]){if(b=b instanceof v?b[0]:b,v.merge(this,v.parseHTML(k[1],b&&b.nodeType?b.ownerDocument||b:ca,!0)),eb.test(k[1])&&v.isPlainObject(b))for(k in b)v.isFunction(this[k])?
this[k](b[k]):this.attr(k,b[k]);return this}return(f=ca.getElementById(k[2]))&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):v.isFunction(a)?void 0!==c.ready?c.ready(a):a(v):v.makeArray(a,this)}).prototype=v.fn;var pb=v(ca);var Ga=/^(?:parents|prev(?:Until|All))/,nc={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(a){var k=v(a,this),b=k.length;return this.filter(function(){for(var a=0;a<b;a++)if(v.contains(this,k[a]))return!0})},closest:function(a,
b){var k,c=0,f=this.length,d=[],g="string"!=typeof a&&v(a);if(!Ka.test(a))for(;c<f;c++)for(k=this[c];k&&k!==b;k=k.parentNode)if(11>k.nodeType&&(g?-1<g.index(k):1===k.nodeType&&v.find.matchesSelector(k,a))){d.push(k);break}return this.pushStack(1<d.length?v.uniqueSort(d):d)},index:function(a){return a?"string"==typeof a?xa.call(v(a),this[0]):xa.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(v.uniqueSort(v.merge(this.get(),
v(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});v.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return w(a,"parentNode")},parentsUntil:function(a,b,c){return w(a,"parentNode",c)},next:function(a){return h(a,"nextSibling")},prev:function(a){return h(a,"previousSibling")},nextAll:function(a){return w(a,"nextSibling")},prevAll:function(a){return w(a,"previousSibling")},nextUntil:function(a,b,c){return w(a,
"nextSibling",c)},prevUntil:function(a,b,c){return w(a,"previousSibling",c)},siblings:function(a){return hb((a.parentNode||{}).firstChild,a)},children:function(a){return hb(a.firstChild)},contents:function(a){return t(a,"iframe")?a.contentDocument:(t(a,"template")&&(a=a.content||a),v.merge([],a.childNodes))}},function(a,b){v.fn[a]=function(k,c){var f=v.map(this,b,k);return"Until"!==a.slice(-5)&&(c=k),c&&"string"==typeof c&&(f=v.filter(c,f)),1<this.length&&(nc[a]||v.uniqueSort(f),Ga.test(a)&&f.reverse()),
this.pushStack(f)}});var ib=/[^\x20\t\r\n\f]+/g;v.Callbacks=function(a){a="string"==typeof a?function(a){var f={};return v.each(a.match(ib)||[],function(a,k){f[k]=!0}),f}(a):v.extend({},a);var b,k,c,f,d=[],g=[],l=-1,e=function(){f=f||a.once;for(c=b=!0;g.length;l=-1)for(k=g.shift();++l<d.length;)!1===d[l].apply(k[0],k[1])&&a.stopOnFalse&&(l=d.length,k=!1);a.memory||(k=!1);b=!1;f&&(d=k?[]:"")},h={add:function(){return d&&(k&&!b&&(l=d.length-1,g.push(k)),function yc(f){v.each(f,function(f,k){v.isFunction(k)?
a.unique&&h.has(k)||d.push(k):k&&k.length&&"string"!==v.type(k)&&yc(k)})}(arguments),k&&!b&&e()),this},remove:function(){return v.each(arguments,function(a,f){for(var k;-1<(k=v.inArray(f,d,k));)d.splice(k,1),k<=l&&l--}),this},has:function(a){return a?-1<v.inArray(a,d):0<d.length},empty:function(){return d&&(d=[]),this},disable:function(){return f=g=[],d=k="",this},disabled:function(){return!d},lock:function(){return f=g=[],k||b||(d=k=""),this},locked:function(){return!!f},fireWith:function(a,k){return f||
(k=[a,(k=k||[]).slice?k.slice():k],g.push(k),b||e()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};v.extend({Deferred:function(k){var b=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],c="pending",d={state:function(){return c},always:function(){return f.done(arguments).fail(arguments),
this},catch:function(a){return d.then(null,a)},pipe:function(){var a=arguments;return v.Deferred(function(k){v.each(b,function(b,c){var d=v.isFunction(a[c[4]])&&a[c[4]];f[c[1]](function(){var a=d&&d.apply(this,arguments);a&&v.isFunction(a.promise)?a.promise().progress(k.notify).done(k.resolve).fail(k.reject):k[c[0]+"With"](this,d?[a]:arguments)})});a=null}).promise()},then:function(f,k,c){function d(f,k,b,c){return function(){var l=this,e=arguments,h=function(){var a;if(!(f<g)){if((a=b.apply(l,e))===
k.promise())throw new TypeError("Thenable self-resolution");var h=a&&("object"==typeof a||"function"==typeof a)&&a.then;v.isFunction(h)?c?h.call(a,d(g,k,r,c),d(g,k,u,c)):(g++,h.call(a,d(g,k,r,c),d(g,k,u,c),d(g,k,r,k.notifyWith))):(b!==r&&(l=void 0,e=[a]),(c||k.resolveWith)(l,e))}},p=c?h:function(){try{h()}catch(uc){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(uc,p.stackTrace),f+1>=g&&(b!==u&&(l=void 0,e=[uc]),k.rejectWith(l,e))}};f?p():(v.Deferred.getStackHook&&(p.stackTrace=v.Deferred.getStackHook()),
a.setTimeout(p))}}var g=0;return v.Deferred(function(a){b[0][3].add(d(0,a,v.isFunction(c)?c:r,a.notifyWith));b[1][3].add(d(0,a,v.isFunction(f)?f:r));b[2][3].add(d(0,a,v.isFunction(k)?k:u))}).promise()},promise:function(a){return null!=a?v.extend(a,d):d}},f={};return v.each(b,function(a,k){var g=k[2],l=k[5];d[k[1]]=g.add;l&&g.add(function(){c=l},b[3-a][2].disable,b[0][2].lock);g.add(k[3].fire);f[k[0]]=function(){return f[k[0]+"With"](this===f?void 0:this,arguments),this};f[k[0]+"With"]=g.fireWith}),
d.promise(f),k&&k.call(f,f),f},when:function(a){var k=arguments.length,b=k,c=Array(b),f=F.call(arguments),d=v.Deferred(),g=function(a){return function(b){c[a]=this;f[a]=1<arguments.length?F.call(arguments):b;--k||d.resolveWith(c,f)}};if(1>=k&&(y(a,d.done(g(b)).resolve,d.reject,!k),"pending"===d.state()||v.isFunction(f[b]&&f[b].then)))return d.then();for(;b--;)y(f[b],g(b),d.reject);return d.promise()}});var ic=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(k,
b){a.console&&a.console.warn&&k&&ic.test(k.name)&&a.console.warn("jQuery.Deferred exception: "+k.message,k.stack,b)};v.readyException=function(k){a.setTimeout(function(){throw k;})};var cb=v.Deferred();v.fn.ready=function(a){return cb.then(a).catch(function(a){v.readyException(a)}),this};v.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==a&&0<--v.readyWait||cb.resolveWith(ca,[v]))}});v.ready.then=cb.then;"complete"===ca.readyState||"loading"!==
ca.readyState&&!ca.documentElement.doScroll?a.setTimeout(v.ready):(ca.addEventListener("DOMContentLoaded",x),a.addEventListener("load",x));var La=function(a,b,c,d,f,g,l){var k=0,e=a.length,h=null==c;if("object"===v.type(c))for(k in f=!0,c)La(a,b,k,c[k],!0,g,l);else if(void 0!==d&&(f=!0,v.isFunction(d)||(l=!0),h&&(l?(b.call(a,d),b=null):(h=b,b=function(a,f,k){return h.call(v(a),k)})),b))for(;k<e;k++)b(a[k],c,l?d:d.call(a[k],k,b(a[k],c)));return f?a:h?b.call(a):e?b(a[0],c):g},Ea=function(a){return 1===
a.nodeType||9===a.nodeType||!+a.nodeType};p.uid=1;p.prototype={cache:function(a){var k=a[this.expando];return k||(k={},Ea(a)&&(a.nodeType?a[this.expando]=k:Object.defineProperty(a,this.expando,{value:k,configurable:!0}))),k},set:function(a,b,c){var k;a=this.cache(a);if("string"==typeof b)a[v.camelCase(b)]=c;else for(k in b)a[v.camelCase(k)]=b[k];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][v.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&
"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var k=a[this.expando];if(void 0!==k){if(void 0!==b){var c=(b=Array.isArray(b)?b.map(v.camelCase):(b=v.camelCase(b))in k?[b]:b.match(ib)||[]).length;for(;c--;)delete k[b[c]]}(void 0===b||v.isEmptyObject(k))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!v.isEmptyObject(a)}};var ka=new p,Ia=new p,db=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
fb=/[A-Z]/g;v.extend({hasData:function(a){return Ia.hasData(a)||ka.hasData(a)},data:function(a,b,c){return Ia.access(a,b,c)},removeData:function(a,b){Ia.remove(a,b)},_data:function(a,b,c){return ka.access(a,b,c)},_removeData:function(a,b){ka.remove(a,b)}});v.fn.extend({data:function(a,b){var k,c,f,g=this[0],l=g&&g.attributes;if(void 0===a){if(this.length&&(f=Ia.get(g),1===g.nodeType&&!ka.get(g,"hasDataAttrs"))){for(k=l.length;k--;)l[k]&&0===(c=l[k].name).indexOf("data-")&&(c=v.camelCase(c.slice(5)),
d(g,c,f[c]));ka.set(g,"hasDataAttrs",!0)}return f}return"object"==typeof a?this.each(function(){Ia.set(this,a)}):La(this,function(f){var b;if(g&&void 0===f)return void 0!==(b=Ia.get(g,a))?b:void 0!==(b=d(g,a))?b:void 0;this.each(function(){Ia.set(this,a,f)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){Ia.remove(this,a)})}});v.extend({queue:function(a,b,c){var k;if(a)return b=(b||"fx")+"queue",k=ka.get(a,b),c&&(!k||Array.isArray(c)?k=ka.access(a,b,v.makeArray(c)):
k.push(c)),k||[]},dequeue:function(a,b){b=b||"fx";var k=v.queue(a,b),c=k.length,f=k.shift(),d=v._queueHooks(a,b);"inprogress"===f&&(f=k.shift(),c--);f&&("fx"===b&&k.unshift("inprogress"),delete d.stop,f.call(a,function(){v.dequeue(a,b)},d));!c&&d&&d.empty.fire()},_queueHooks:function(a,b){var k=b+"queueHooks";return ka.get(a,k)||ka.access(a,k,{empty:v.Callbacks("once memory").add(function(){ka.remove(a,[b+"queue",k])})})}});v.fn.extend({queue:function(a,b){var k=2;return"string"!=typeof a&&(b=a,a=
"fx",k--),arguments.length<k?v.queue(this[0],a):void 0===b?this:this.each(function(){var k=v.queue(this,a,b);v._queueHooks(this,a);"fx"===a&&"inprogress"!==k[0]&&v.dequeue(this,a)})},dequeue:function(a){return this.each(function(){v.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var k,c=1,f=v.Deferred(),d=this,g=this.length,l=function(){--c||f.resolveWith(d,[d])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";g--;)(k=ka.get(d[g],a+"queueHooks"))&&
k.empty&&(c++,k.empty.add(l));return l(),f.promise(b)}});var oa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ja=new RegExp("^(?:([+-])=|)("+oa+")([a-z%]*)$","i"),da=["Top","Right","Bottom","Left"],Va=function(a,b){return"none"===(a=b||a).style.display||""===a.style.display&&v.contains(a.ownerDocument,a)&&"none"===v.css(a,"display")},Kb=function(a,b,c,d){var f,k={};for(f in b)k[f]=a.style[f],a.style[f]=b[f];for(f in c=c.apply(a,d||[]),b)a.style[f]=k[f];return c},Ba={};v.fn.extend({show:function(){return E(this,
!0)},hide:function(){return E(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Va(this)?v(this).show():v(this).hide()})}});var Ma=/^(?:checkbox|radio)$/i,wa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,gb=/^$|\/(?:java|ecma)script/i,Wa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],
_default:[0,"",""]};Wa.optgroup=Wa.option;Wa.tbody=Wa.tfoot=Wa.colgroup=Wa.caption=Wa.thead;Wa.th=Wa.td;var ya,Cb=/<|&#?\w+;/;var jb=ca.createDocumentFragment().appendChild(ca.createElement("div"));(ya=ca.createElement("input")).setAttribute("type","radio");ya.setAttribute("checked","checked");ya.setAttribute("name","t");jb.appendChild(ya);va.checkClone=jb.cloneNode(!0).cloneNode(!0).lastChild.checked;jb.innerHTML="<textarea>x</textarea>";va.noCloneChecked=!!jb.cloneNode(!0).lastChild.defaultValue;
var qb=ca.documentElement,kb=/^key/,Ra=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nb=/^([^.]*)(?:\.(.+)|)/;v.event={global:{},add:function(a,b,c,d,f){var k,g,l,e,h,p,J,m,q;if(h=ka.get(a))for(c.handler&&(c=(k=c).handler,f=k.selector),f&&v.find.matchesSelector(qb,f),c.guid||(c.guid=v.guid++),(e=h.events)||(e=h.events={}),(g=h.handle)||(g=h.handle=function(f){return void 0!==v&&v.event.triggered!==f.type?v.event.dispatch.apply(a,arguments):void 0}),h=(b=(b||"").match(ib)||[""]).length;h--;){var C=
q=(l=nb.exec(b[h])||[])[1];l=(l[2]||"").split(".").sort();C&&(J=v.event.special[C]||{},C=(f?J.delegateType:J.bindType)||C,J=v.event.special[C]||{},p=v.extend({type:C,origType:q,data:d,handler:c,guid:c.guid,selector:f,needsContext:f&&v.expr.match.needsContext.test(f),namespace:l.join(".")},k),(m=e[C])||((m=e[C]=[]).delegateCount=0,J.setup&&!1!==J.setup.call(a,d,l,g)||a.addEventListener&&a.addEventListener(C,g)),J.add&&(J.add.call(a,p),p.handler.guid||(p.handler.guid=c.guid)),f?m.splice(m.delegateCount++,
0,p):m.push(p),v.event.global[C]=!0)}},remove:function(a,b,c,d,f){var k,g,l,e,h,p,J,m,q=ka.hasData(a)&&ka.get(a);if(q&&(e=q.events)){for(h=(b=(b||"").match(ib)||[""]).length;h--;)if(p=m=(l=nb.exec(b[h])||[])[1],J=(l[2]||"").split(".").sort(),p){var C=v.event.special[p]||{};var r=e[p=(d?C.delegateType:C.bindType)||p]||[];l=l[2]&&new RegExp("(^|\\.)"+J.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=k=r.length;k--;){var O=r[k];!f&&m!==O.origType||c&&c.guid!==O.guid||l&&!l.test(O.namespace)||d&&d!==O.selector&&
("**"!==d||!O.selector)||(r.splice(k,1),O.selector&&r.delegateCount--,C.remove&&C.remove.call(a,O))}g&&!r.length&&(C.teardown&&!1!==C.teardown.call(a,J,q.handle)||v.removeEvent(a,p,q.handle),delete e[p])}else for(p in e)v.event.remove(a,p+b[h],c,d,!0);v.isEmptyObject(e)&&ka.remove(a,"handle events")}},dispatch:function(a){var b,k,c,f,d=v.event.fix(a),g=Array(arguments.length);var l=(ka.get(this,"events")||{})[d.type]||[];var e=v.event.special[d.type]||{};g[0]=d;for(b=1;b<arguments.length;b++)g[b]=
arguments[b];if(d.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,d)){var h=v.event.handlers.call(this,d,l);for(b=0;(c=h[b++])&&!d.isPropagationStopped();)for(d.currentTarget=c.elem,l=0;(f=c.handlers[l++])&&!d.isImmediatePropagationStopped();)d.rnamespace&&!d.rnamespace.test(f.namespace)||(d.handleObj=f,d.data=f.data,void 0!==(k=((v.event.special[f.origType]||{}).handle||f.handler).apply(c.elem,g))&&!1===(d.result=k)&&(d.preventDefault(),d.stopPropagation()));return e.postDispatch&&
e.postDispatch.call(this,d),d.result}},handlers:function(a,b){var k,c,f,d=[],g=b.delegateCount,l=a.target;if(g&&l.nodeType&&!("click"===a.type&&1<=a.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==a.type||!0!==l.disabled)){var e=[];var h={};for(k=0;k<g;k++)void 0===h[f=(c=b[k]).selector+" "]&&(h[f]=c.needsContext?-1<v(f,this).index(l):v.find(f,this,null,[l]).length),h[f]&&e.push(c);e.length&&d.push({elem:l,handlers:e})}return l=this,g<b.length&&d.push({elem:l,handlers:b.slice(g)}),
d},addProp:function(a,b){Object.defineProperty(v.Event.prototype,a,{enumerable:!0,configurable:!0,get:v.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[v.expando]?a:new v.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},
delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&t(this,"input"))return this.click(),!1},_default:function(a){return t(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};v.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};v.Event=function(a,b){if(!(this instanceof
v.Event))return new v.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?B:S,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a;b&&v.extend(this,b);this.timeStamp=a&&a.timeStamp||v.now();this[v.expando]=!0};v.Event.prototype={constructor:v.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,
isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=B;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=B;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=B;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,
detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&kb.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Ra.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},v.event.addProp);v.each({mouseenter:"mouseover",mouseleave:"mouseout",
pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){v.event.special[a]={delegateType:b,bindType:b,handle:function(a){var k,f=a.relatedTarget,c=a.handleObj;return f&&(f===this||v.contains(this,f))||(a.type=c.origType,k=c.handler.apply(this,arguments),a.type=b),k}}});v.fn.extend({on:function(a,b,c,d){return U(this,a,b,c,d)},one:function(a,b,c,d){return U(this,a,b,c,d,1)},off:function(a,b,c){var k,f;if(a&&a.preventDefault&&a.handleObj)return k=a.handleObj,v(a.delegateTarget).off(k.namespace?
k.origType+"."+k.namespace:k.origType,k.selector,k.handler),this;if("object"==typeof a){for(f in a)this.off(f,b,a[f]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=S),this.each(function(){v.event.remove(this,a,c,b)})}});var Wb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Xb=/<script|<style|<link/i,jc=/checked\s*(?:[^=]|=\s*.checked.)/i,Tb=/^true\/(.*)/,Yb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;v.extend({htmlPrefilter:function(a){return a.replace(Wb,
"<$1></$2>")},clone:function(a,b,c){var k,f,d=a.cloneNode(!0),g=v.contains(a.ownerDocument,a);if(!(va.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||v.isXMLDoc(a))){var e=l(d);var h=0;for(k=(f=l(a)).length;h<k;h++){var p=f[h],J=e[h],m=J.nodeName.toLowerCase();"input"===m&&Ma.test(p.type)?J.checked=p.checked:"input"!==m&&"textarea"!==m||(J.defaultValue=p.defaultValue)}}if(b)if(c)for(f=f||l(a),e=e||l(d),h=0,k=f.length;h<k;h++)X(f[h],e[h]);else X(a,d);return 0<(e=l(d,"script")).length&&L(e,!g&&l(a,
"script")),d},cleanData:function(a){for(var b,k,c,f=v.event.special,d=0;void 0!==(k=a[d]);d++)if(Ea(k)){if(b=k[ka.expando]){if(b.events)for(c in b.events)f[c]?v.event.remove(k,c):v.removeEvent(k,c,b.handle);k[ka.expando]=void 0}k[Ia.expando]&&(k[Ia.expando]=void 0)}}});v.fn.extend({detach:function(a){return N(this,a,!0)},remove:function(a){return N(this,a)},text:function(a){return La(this,function(a){return void 0===a?v.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&
9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return K(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||q(this,a).appendChild(a)})},prepend:function(){return K(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=q(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return K(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return K(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(v.cleanData(l(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return v.clone(this,a,b)})},html:function(a){return La(this,function(a){var b=this[0]||{},k=0,f=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Xb.test(a)&&!Wa[(wa.exec(a)||["",
""])[1].toLowerCase()]){a=v.htmlPrefilter(a);try{for(;k<f;k++)1===(b=this[k]||{}).nodeType&&(v.cleanData(l(b,!1)),b.innerHTML=a);b=0}catch(D){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return K(this,arguments,function(b){var k=this.parentNode;0>v.inArray(this,a)&&(v.cleanData(l(this)),k&&k.replaceChild(b,this))},a)}});v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){v.fn[a]=function(a){for(var k=
[],f=v(a),c=f.length-1,d=0;d<=c;d++)a=d===c?this:this.clone(!0),v(f[d])[b](a),mc.apply(k,a.get());return this.pushStack(k)}});var ub=/^margin/,Jb=new RegExp("^("+oa+")(?!px)[a-z%]+$","i"),Sa=function(b){var k=b.ownerDocument.defaultView;return k&&k.opener||(k=a),k.getComputedStyle(b)};!function(){function b(){if(e){e.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";e.innerHTML="";qb.appendChild(l);var b=a.getComputedStyle(e);
c="1%"!==b.top;f="2px"===b.marginLeft;d="4px"===b.width;e.style.marginRight="50%";g="4px"===b.marginRight;qb.removeChild(l);e=null}}var c,d,g,f,l=ca.createElement("div"),e=ca.createElement("div");e.style&&(e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",va.clearCloneStyle="content-box"===e.style.backgroundClip,l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.appendChild(e),v.extend(va,{pixelPosition:function(){return b(),
c},boxSizingReliable:function(){return b(),d},pixelMarginRight:function(){return b(),g},reliableMarginLeft:function(){return b(),f}}))}();var xb=/^(none|table(?!-c[ea]).+)/,sb=/^--/,sa={position:"absolute",visibility:"hidden",display:"block"},za={letterSpacing:"0",fontWeight:"400"},Oa=["Webkit","Moz","ms"],Qb=ca.createElement("div").style;v.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=H(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,
flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,k,l,e=v.camelCase(b),h=sb.test(b),p=a.style;if(h||(b=Fa(e)),l=v.cssHooks[b]||v.cssHooks[e],void 0===c)return l&&"get"in l&&void 0!==(f=l.get(a,!1,d))?f:p[b];"string"===(k=typeof c)&&(f=Ja.exec(c))&&f[1]&&(c=g(a,b,f),k="number");null!=c&&c==c&&("number"===k&&(c+=f&&f[3]||(v.cssNumber[e]?
"":"px")),va.clearCloneStyle||""!==c||0!==b.indexOf("background")||(p[b]="inherit"),l&&"set"in l&&void 0===(c=l.set(a,c,d))||(h?p.setProperty(b,c):p[b]=c))}},css:function(a,b,c,d){var f,k,g,l=v.camelCase(b);return sb.test(b)||(b=Fa(l)),(g=v.cssHooks[b]||v.cssHooks[l])&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=H(a,b,d)),"normal"===f&&b in za&&(f=za[b]),""===c||c?(k=parseFloat(f),!0===c||isFinite(k)?k||0:f):f}});v.each(["height","width"],function(a,b){v.cssHooks[b]={get:function(a,k,f){if(k)return!xb.test(v.css(a,
"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?V(a,b,f):Kb(a,sa,function(){return V(a,b,f)})},set:function(a,k,f){var c,d=f&&Sa(a);f=f&&W(a,b,f,"border-box"===v.css(a,"boxSizing",!1,d),d);return f&&(c=Ja.exec(k))&&"px"!==(c[3]||"px")&&(a.style[b]=k,k=v.css(a,b)),O(0,k,f)}}});v.cssHooks.marginLeft=ta(va.reliableMarginLeft,function(a,b){if(b)return(parseFloat(H(a,"marginLeft"))||a.getBoundingClientRect().left-Kb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+
"px"});v.each({margin:"",padding:"",border:"Width"},function(a,b){v.cssHooks[a+b]={expand:function(k){var c=0,f={};for(k="string"==typeof k?k.split(" "):[k];4>c;c++)f[a+da[c]+b]=k[c]||k[c-2]||k[0];return f}};ub.test(a)||(v.cssHooks[a+b].set=O)});v.fn.extend({css:function(a,b){return La(this,function(a,b,f){var k,c={},d=0;if(Array.isArray(b)){f=Sa(a);for(k=b.length;d<k;d++)c[b[d]]=v.css(a,b[d],!1,f);return c}return void 0!==f?v.style(a,b,f):v.css(a,b)},a,b,1<arguments.length)}});v.Tween=P;P.prototype=
{constructor:P,init:function(a,b,c,d,f,g){this.elem=a;this.prop=c;this.easing=f||v.easing._default;this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=g||(v.cssNumber[c]?"":"px")},cur:function(){var a=P.propHooks[this.prop];return a&&a.get?a.get(this):P.propHooks._default.get(this)},run:function(a){var b,k=P.propHooks[this.prop];return this.options.duration?this.pos=b=v.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*
b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),k&&k.set?k.set(this):P.propHooks._default.set(this),this}};P.prototype.init.prototype=P.prototype;P.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=v.css(a.elem,a.prop,""))&&"auto"!==b?b:0},set:function(a){v.fx.step[a.prop]?v.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[v.cssProps[a.prop]]&&!v.cssHooks[a.prop]?a.elem[a.prop]=
a.now:v.style(a.elem,a.prop,a.now+a.unit)}}};P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};v.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};v.fx=P.prototype.init;v.fx.step={};var Db,$a,kc=/^(?:toggle|show|hide)$/,Sb=/queueHooks$/;v.Animation=v.extend(ea,{tweeners:{"*":[function(a,b){var k=this.createTween(a,b);return g(k.elem,a,Ja.exec(b),k),k}]},tweener:function(a,
b){v.isFunction(a)?(b=a,a=["*"]):a=a.match(ib);for(var k,c=0,f=a.length;c<f;c++)k=a[c],ea.tweeners[k]=ea.tweeners[k]||[],ea.tweeners[k].unshift(b)},prefilters:[function(a,b,c){var k,f,d,g,l,e,h,p="width"in b||"height"in b,J=this,m={},q=a.style,C=a.nodeType&&Va(a),r=ka.get(a,"fxshow");for(k in c.queue||(null==(g=v._queueHooks(a,"fx")).unqueued&&(g.unqueued=0,l=g.empty.fire,g.empty.fire=function(){g.unqueued||l()}),g.unqueued++,J.always(function(){J.always(function(){g.unqueued--;v.queue(a,"fx").length||
g.empty.fire()})})),b)if(f=b[k],kc.test(f)){if(delete b[k],d=d||"toggle"===f,f===(C?"hide":"show")){if("show"!==f||!r||void 0===r[k])continue;C=!0}m[k]=r&&r[k]||v.style(a,k)}if((b=!v.isEmptyObject(b))||!v.isEmptyObject(m))for(k in p&&1===a.nodeType&&(c.overflow=[q.overflow,q.overflowX,q.overflowY],null==(e=r&&r.display)&&(e=ka.get(a,"display")),"none"===(h=v.css(a,"display"))&&(e?h=e:(E([a],!0),e=a.style.display||e,h=v.css(a,"display"),E([a]))),("inline"===h||"inline-block"===h&&null!=e)&&"none"===
v.css(a,"float")&&(b||(J.done(function(){q.display=e}),null==e&&(h=q.display,e="none"===h?"":h)),q.display="inline-block")),c.overflow&&(q.overflow="hidden",J.always(function(){q.overflow=c.overflow[0];q.overflowX=c.overflow[1];q.overflowY=c.overflow[2]})),b=!1,m)b||(r?"hidden"in r&&(C=r.hidden):r=ka.access(a,"fxshow",{display:e}),d&&(r.hidden=!C),C&&E([a],!0),J.done(function(){for(k in C||E([a]),ka.remove(a,"fxshow"),m)v.style(a,k,m[k])})),b=T(C?r[k]:0,k,J),k in r||(r[k]=b.start,C&&(b.end=b.start,
b.start=0))}],prefilter:function(a,b){b?ea.prefilters.unshift(a):ea.prefilters.push(a)}});v.speed=function(a,b,c){var k=a&&"object"==typeof a?v.extend({},a):{complete:c||!c&&b||v.isFunction(a)&&a,duration:a,easing:c&&b||b&&!v.isFunction(b)&&b};return v.fx.off?k.duration=0:"number"!=typeof k.duration&&(k.duration in v.fx.speeds?k.duration=v.fx.speeds[k.duration]:k.duration=v.fx.speeds._default),null!=k.queue&&!0!==k.queue||(k.queue="fx"),k.old=k.complete,k.complete=function(){v.isFunction(k.old)&&
k.old.call(this);k.queue&&v.dequeue(this,k.queue)},k};v.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Va).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var f=v.isEmptyObject(a),k=v.speed(b,c,d);b=function(){var b=ea(this,v.extend({},a),k);(f||ka.get(this,"finish"))&&b.stop(!0)};return b.finish=b,f||!1===k.queue?this.each(b):this.queue(k.queue,b)},stop:function(a,b,c){var k=function(a){var f=a.stop;delete a.stop;f(c)};return"string"!=typeof a&&(c=b,b=
a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var f=!0,b=null!=a&&a+"queueHooks",d=v.timers,g=ka.get(this);if(b)g[b]&&g[b].stop&&k(g[b]);else for(b in g)g[b]&&g[b].stop&&Sb.test(b)&&k(g[b]);for(b=d.length;b--;)d[b].elem!==this||null!=a&&d[b].queue!==a||(d[b].anim.stop(c),f=!1,d.splice(b,1));!f&&c||v.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b=ka.get(this),k=b[a+"queue"];var c=b[a+"queueHooks"];var f=v.timers,d=k?k.length:0;b.finish=
!0;v.queue(this,a,[]);c&&c.stop&&c.stop.call(this,!0);for(c=f.length;c--;)f[c].elem===this&&f[c].queue===a&&(f[c].anim.stop(!0),f.splice(c,1));for(c=0;c<d;c++)k[c]&&k[c].finish&&k[c].finish.call(this);delete b.finish})}});v.each(["toggle","show","hide"],function(a,b){var k=v.fn[b];v.fn[b]=function(a,f,c){return null==a||"boolean"==typeof a?k.apply(this,arguments):this.animate(R(b,!0),a,f,c)}});v.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,b){v.fn[a]=function(a,k,f){return this.animate(b,a,k,f)}});v.timers=[];v.fx.tick=function(){var a,b=0,c=v.timers;for(Db=v.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||v.fx.stop();Db=void 0};v.fx.timer=function(a){v.timers.push(a);v.fx.start()};v.fx.interval=13;v.fx.start=function(){$a||($a=!0,J())};v.fx.stop=function(){$a=null};v.fx.speeds={slow:600,fast:200,_default:400};v.fn.delay=function(b,c){return b=v.fx&&v.fx.speeds[b]||b,c=
c||"fx",this.queue(c,function(k,c){var f=a.setTimeout(k,b);c.stop=function(){a.clearTimeout(f)}})};(function(){var a=ca.createElement("input"),b=ca.createElement("select").appendChild(ca.createElement("option"));a.type="checkbox";va.checkOn=""!==a.value;va.optSelected=b.selected;(a=ca.createElement("input")).value="t";a.type="radio";va.radioValue="t"===a.value})();var ob=v.expr.attrHandle;v.fn.extend({attr:function(a,b){return La(this,v.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){v.removeAttr(this,
a)})}});v.extend({attr:function(a,b,c){var k,f,d=a.nodeType;if(3!==d&&8!==d&&2!==d)return void 0===a.getAttribute?v.prop(a,b,c):(1===d&&v.isXMLDoc(a)||(f=v.attrHooks[b.toLowerCase()]||(v.expr.match.bool.test(b)?Ta:void 0)),void 0!==c?null===c?void v.removeAttr(a,b):f&&"set"in f&&void 0!==(k=f.set(a,c,b))?k:(a.setAttribute(b,c+""),c):f&&"get"in f&&null!==(k=f.get(a,b))?k:null==(k=v.find.attr(a,b))?void 0:k)},attrHooks:{type:{set:function(a,b){if(!va.radioValue&&"radio"===b&&t(a,"input")){var k=a.value;
return a.setAttribute("type",b),k&&(a.value=k),b}}}},removeAttr:function(a,b){var k=0,c=b&&b.match(ib);if(c&&1===a.nodeType)for(;b=c[k++];)a.removeAttribute(b)}});var Ta={set:function(a,b,c){return!1===b?v.removeAttr(a,c):a.setAttribute(c,c),c}};v.each(v.expr.match.bool.source.match(/\w+/g),function(a,b){var k=ob[b]||v.find.attr;ob[b]=function(a,b,c){var f,d,g=b.toLowerCase();return c||(d=ob[g],ob[g]=f,f=null!=k(a,b,c)?g:null,ob[g]=d),f}});var ab=/^(?:input|select|textarea|button)$/i,Pa=/^(?:a|area)$/i;
v.fn.extend({prop:function(a,b){return La(this,v.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[v.propFix[a]||a]})}});v.extend({prop:function(a,b,c){var k,f,d=a.nodeType;if(3!==d&&8!==d&&2!==d)return 1===d&&v.isXMLDoc(a)||(b=v.propFix[b]||b,f=v.propHooks[b]),void 0!==c?f&&"set"in f&&void 0!==(k=f.set(a,c,b))?k:a[b]=c:f&&"get"in f&&null!==(k=f.get(a,b))?k:a[b]},propHooks:{tabIndex:{get:function(a){var b=v.find.attr(a,"tabindex");return b?parseInt(b,10):
ab.test(a.nodeName)||Pa.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}});va.optSelected||(v.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});v.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){v.propFix[this.toLowerCase()]=this});v.fn.extend({addClass:function(a){var b,
c,k,f,d,g,l,e=0;if(v.isFunction(a))return this.each(function(b){v(this).addClass(a.call(this,b,ja(this)))});if("string"==typeof a&&a)for(b=a.match(ib)||[];c=this[e++];)if(f=ja(c),k=1===c.nodeType&&" "+la(f)+" "){for(g=0;d=b[g++];)0>k.indexOf(" "+d+" ")&&(k+=d+" ");f!==(l=la(k))&&c.setAttribute("class",l)}return this},removeClass:function(a){var b,c,k,f,d,g,l,e=0;if(v.isFunction(a))return this.each(function(b){v(this).removeClass(a.call(this,b,ja(this)))});if(!arguments.length)return this.attr("class",
"");if("string"==typeof a&&a)for(b=a.match(ib)||[];c=this[e++];)if(f=ja(c),k=1===c.nodeType&&" "+la(f)+" "){for(g=0;d=b[g++];)for(;-1<k.indexOf(" "+d+" ");)k=k.replace(" "+d+" "," ");f!==(l=la(k))&&c.setAttribute("class",l)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):v.isFunction(a)?this.each(function(c){v(this).toggleClass(a.call(this,c,ja(this),b),b)}):this.each(function(){var b,f;if("string"===c){var k=0;var d=
v(this);for(f=a.match(ib)||[];b=f[k++];)d.hasClass(b)?d.removeClass(b):d.addClass(b)}else void 0!==a&&"boolean"!==c||((b=ja(this))&&ka.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":ka.get(this,"__className__")||""))})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+la(ja(b))+" ").indexOf(a))return!0;return!1}});var Ob=/\r/g;v.fn.extend({val:function(a){var b,c,k,f=this[0];return arguments.length?(k=v.isFunction(a),this.each(function(f){var c;
1===this.nodeType&&(null==(c=k?a.call(this,f,v(this).val()):a)?c="":"number"==typeof c?c+="":Array.isArray(c)&&(c=v.map(c,function(a){return null==a?"":a+""})),(b=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))})):f?(b=v.valHooks[f.type]||v.valHooks[f.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(f,"value"))?c:"string"==typeof(c=f.value)?c.replace(Ob,""):null==c?"":c:void 0}});v.extend({valHooks:{option:{get:function(a){var b=
v.find.attr(a,"value");return null!=b?b:la(v.text(a))}},select:{get:function(a){var b,c,k=a.options,f=a.selectedIndex,d="select-one"===a.type,g=d?null:[],l=d?f+1:k.length;for(c=0>f?l:d?f:0;c<l;c++)if(!(!(b=k[c]).selected&&c!==f||b.disabled||b.parentNode.disabled&&t(b.parentNode,"optgroup"))){if(a=v(b).val(),d)return a;g.push(a)}return g},set:function(a,b){var c,k,f=a.options;b=v.makeArray(b);for(var d=f.length;d--;)((k=f[d]).selected=-1<v.inArray(v.valHooks.option.get(k),b))&&(c=!0);return c||(a.selectedIndex=
-1),b}}}});v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=-1<v.inArray(v(a).val(),b)}};va.checkOn||(v.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var yb=/^(?:focusinfocus|focusoutblur)$/;v.extend(v.event,{trigger:function(b,c,d,g){var f,k,l,e,h,p=[d||ca],J=Ya.call(b,"type")?b.type:b;var m=Ya.call(b,"namespace")?b.namespace.split("."):[];if(f=k=d=d||ca,3!==d.nodeType&&8!==d.nodeType&&!yb.test(J+
v.event.triggered)&&(-1<J.indexOf(".")&&(m=J.split("."),J=m.shift(),m.sort()),l=0>J.indexOf(":")&&"on"+J,(b=b[v.expando]?b:new v.Event(J,"object"==typeof b&&b)).isTrigger=g?2:3,b.namespace=m.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:v.makeArray(c,[b]),h=v.event.special[J]||{},g||!h.trigger||!1!==h.trigger.apply(d,c))){if(!g&&!h.noBubble&&!v.isWindow(d)){var q=h.delegateType||J;for(yb.test(q+
J)||(f=f.parentNode);f;f=f.parentNode)p.push(f),k=f;k===(d.ownerDocument||ca)&&p.push(k.defaultView||k.parentWindow||a)}for(m=0;(f=p[m++])&&!b.isPropagationStopped();)b.type=1<m?q:h.bindType||J,(e=(ka.get(f,"events")||{})[b.type]&&ka.get(f,"handle"))&&e.apply(f,c),(e=l&&f[l])&&e.apply&&Ea(f)&&(b.result=e.apply(f,c),!1===b.result&&b.preventDefault());return b.type=J,g||b.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),c)||!Ea(d)||l&&v.isFunction(d[J])&&!v.isWindow(d)&&((k=d[l])&&(d[l]=
null),v.event.triggered=J,d[J](),v.event.triggered=void 0,k&&(d[l]=k)),b.result}},simulate:function(a,b,c){a=v.extend(new v.Event,c,{type:a,isSimulated:!0});v.event.trigger(a,null,b)}});v.fn.extend({trigger:function(a,b){return this.each(function(){v.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return v.event.trigger(a,b,c,!0)}});v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(a,b){v.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});v.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});va.focusin="onfocusin"in a;va.focusin||v.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){v.event.simulate(b,a.target,v.event.fix(a))};v.event.special[b]={setup:function(){var k=this.ownerDocument||this,f=ka.access(k,b);f||k.addEventListener(a,c,!0);ka.access(k,b,(f||0)+1)},teardown:function(){var k=
this.ownerDocument||this,f=ka.access(k,b)-1;f?ka.access(k,b,f):(k.removeEventListener(a,c,!0),ka.remove(k,b))}}});var Xa=a.location,tb=v.now(),dc=/\?/;v.parseXML=function(b){if(!b||"string"!=typeof b)return null;try{var c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(Gb){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+b),c};var Ha=/\[\]$/,ec=/\r?\n/g,Ub=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;v.param=function(a,
b){var c,k=[],f=function(a,b){b=v.isFunction(b)?b():b;k[k.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==b?"":b)};if(Array.isArray(a)||a.jquery&&!v.isPlainObject(a))v.each(a,function(){f(this.name,this.value)});else for(c in a)fa(c,a[c],b,f);return k.join("&")};v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=v.prop(this,"elements");return a?v.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&
!v(this).is(":disabled")&&Eb.test(this.nodeName)&&!Ub.test(a)&&(this.checked||!Ma.test(a))}).map(function(a,b){a=v(this).val();return null==a?null:Array.isArray(a)?v.map(a,function(a){return{name:b.name,value:a.replace(ec,"\r\n")}}):{name:b.name,value:a.replace(ec,"\r\n")}}).get()}});var zb=/%20/g,Da=/#.*$/,lb=/([?&])_=[^&]*/,rb=/^(.*?):[ \t]*([^\r\n]*)$/gm,vb=/^(?:GET|HEAD)$/,wb=/^\/\//,Pb={},Ab={},Zb="*/".concat("*"),Vb=ca.createElement("a");Vb.href=Xa.href;v.extend({active:0,lastModified:{},etag:{},
ajaxSettings:{url:Xa.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Xa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ba(ba(a,v.ajaxSettings),b):ba(v.ajaxSettings,a)},ajaxPrefilter:ha(Pb),ajaxTransport:ha(Ab),ajax:function(b,c){function k(b,c,k,l){var p,J,w,P,Q,B=c;E||(E=!0,e&&a.clearTimeout(e),d=void 0,g=l||"",da.readyState=0<b?4:0,p=200<=b&&300>b||304===b,k&&(P=function(a,b,f){for(var c,k,d,g,l=a.contents,e=a.dataTypes;"*"===e[0];)e.shift(),void 0===c&&(c=a.mimeType||b.getResponseHeader("Content-Type"));
if(c)for(k in l)if(l[k]&&l[k].test(c)){e.unshift(k);break}if(e[0]in f)d=e[0];else{for(k in f){if(!e[0]||a.converters[k+" "+e[0]]){d=k;break}g||(g=k)}d=d||g}if(d)return d!==e[0]&&e.unshift(d),f[d]}(m,da,k)),P=function(a,b,f,c){var k,d,g,l,e,h={},p=a.dataTypes.slice();if(p[1])for(g in a.converters)h[g.toLowerCase()]=a.converters[g];for(d=p.shift();d;)if(a.responseFields[d]&&(f[a.responseFields[d]]=b),!e&&c&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),e=d,d=p.shift())if("*"===d)d=e;else if("*"!==e&&
e!==d){if(!(g=h[e+" "+d]||h["* "+d]))for(k in h)if((l=k.split(" "))[1]===d&&(g=h[e+" "+l[0]]||h["* "+l[0]])){!0===g?g=h[k]:!0!==h[k]&&(d=l[0],p.unshift(l[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(tc){return{state:"parsererror",error:g?tc:"No conversion from "+e+" to "+d}}}return{state:"success",data:b}}(m,P,da,p),p?(m.ifModified&&((Q=da.getResponseHeader("Last-Modified"))&&(v.lastModified[f]=Q),(Q=da.getResponseHeader("etag"))&&(v.etag[f]=Q)),204===b||"HEAD"===m.type?B="nocontent":
304===b?B="notmodified":(B=P.state,J=P.data,p=!(w=P.error))):(w=B,!b&&B||(B="error",0>b&&(b=0))),da.status=b,da.statusText=(c||B)+"",p?r.resolveWith(q,[J,B,da]):r.rejectWith(q,[da,B,w]),da.statusCode(n),n=void 0,h&&C.trigger(p?"ajaxSuccess":"ajaxError",[da,m,p?J:w]),O.fireWith(q,[da,B]),h&&(C.trigger("ajaxComplete",[da,m]),--v.active||v.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0);c=c||{};var d,f,g,l,e,h,p,J,m=v.ajaxSetup({},c),q=m.context||m,C=m.context&&(q.nodeType||q.jquery)?
v(q):v.event,r=v.Deferred(),O=v.Callbacks("once memory"),n=m.statusCode||{},w={},P={},Q="canceled",da={readyState:0,getResponseHeader:function(a){var b;if(E){if(!l)for(l={};b=rb.exec(g);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return E?g:null},setRequestHeader:function(a,b){return null==E&&(a=P[a.toLowerCase()]=P[a.toLowerCase()]||a,w[a]=b),this},overrideMimeType:function(a){return null==E&&(m.mimeType=a),this},statusCode:function(a){var b;
if(a)if(E)da.always(a[da.status]);else for(b in a)n[b]=[n[b],a[b]];return this},abort:function(a){a=a||Q;return d&&d.abort(a),k(0,a),this}};if(r.promise(da),m.url=((b||m.url||Xa.href)+"").replace(wb,Xa.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(ib)||[""],null==m.crossDomain){b=ca.createElement("a");try{b.href=m.url,b.href=b.href,m.crossDomain=Vb.protocol+"//"+Vb.host!=b.protocol+"//"+b.host}catch(hc){m.crossDomain=!0}}if(m.data&&m.processData&&
"string"!=typeof m.data&&(m.data=v.param(m.data,m.traditional)),Z(Pb,m,c,da),E)return da;for(p in(h=v.event&&m.global)&&0==v.active++&&v.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!vb.test(m.type),f=m.url.replace(Da,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(zb,"+")):(J=m.url.slice(f.length),m.data&&(f+=(dc.test(f)?"&":"?")+m.data,delete m.data),!1===m.cache&&(f=f.replace(lb,"$1"),J=
(dc.test(f)?"&":"?")+"_="+tb++ +J),m.url=f+J),m.ifModified&&(v.lastModified[f]&&da.setRequestHeader("If-Modified-Since",v.lastModified[f]),v.etag[f]&&da.setRequestHeader("If-None-Match",v.etag[f])),(m.data&&m.hasContent&&!1!==m.contentType||c.contentType)&&da.setRequestHeader("Content-Type",m.contentType),da.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Zb+"; q=0.01":""):m.accepts["*"]),m.headers)da.setRequestHeader(p,m.headers[p]);
if(m.beforeSend&&(!1===m.beforeSend.call(q,da,m)||E))return da.abort();if(Q="abort",O.add(m.complete),da.done(m.success),da.fail(m.error),d=Z(Ab,m,c,da)){if(da.readyState=1,h&&C.trigger("ajaxSend",[da,m]),E)return da;m.async&&0<m.timeout&&(e=a.setTimeout(function(){da.abort("timeout")},m.timeout));try{var E=!1;d.send(w,k)}catch(hc){if(E)throw hc;k(-1,hc)}}else k(-1,"No Transport");return da},getJSON:function(a,b,c){return v.get(a,b,c,"json")},getScript:function(a,b){return v.get(a,void 0,b,"script")}});
v.each(["get","post"],function(a,b){v[b]=function(a,c,f,k){return v.isFunction(c)&&(k=k||f,f=c,c=void 0),v.ajax(v.extend({url:a,type:b,dataType:k,data:c,success:f},v.isPlainObject(a)&&a))}});v._evalUrl=function(a){return v.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})};v.fn.extend({wrapAll:function(a){var b;return this[0]&&(v.isFunction(a)&&(a=a.call(this[0])),b=v(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=
this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return v.isFunction(a)?this.each(function(b){v(this).wrapInner(a.call(this,b))}):this.each(function(){var b=v(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=v.isFunction(a);return this.each(function(c){v(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){v(this).replaceWith(this.childNodes)}),this}});v.expr.pseudos.hidden=
function(a){return!v.expr.pseudos.visible(a)};v.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};v.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(k){}};var lc={0:200,1223:204},Bb=v.ajaxSettings.xhr();va.cors=!!Bb&&"withCredentials"in Bb;va.ajax=Bb=!!Bb;v.ajaxTransport(function(b){var c,k;if(va.cors||Bb&&!b.crossDomain)return{send:function(d,f){var g,l=b.xhr();if(l.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)l[g]=
b.xhrFields[g];for(g in b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest"),d)l.setRequestHeader(g,d[g]);c=function(a){return function(){c&&(c=k=l.onload=l.onerror=l.onabort=l.onreadystatechange=null,"abort"===a?l.abort():"error"===a?"number"!=typeof l.status?f(0,"error"):f(l.status,l.statusText):f(lc[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:
{text:l.responseText},l.getAllResponseHeaders()))}};l.onload=c();k=l.onerror=c("error");void 0!==l.onabort?l.onabort=k:l.onreadystatechange=function(){4===l.readyState&&a.setTimeout(function(){c&&k()})};c=c("abort");try{l.send(b.hasContent&&b.data||null)}catch($b){if(c)throw $b;}},abort:function(){c&&c()}}});v.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(a){return v.globalEval(a),a}}});v.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});v.ajaxTransport("script",function(a){var b,c;if(a.crossDomain)return{send:function(k,f){b=v("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&f("error"===a.type?404:200,a.type)});ca.head.appendChild(b[0])},abort:function(){c&&c()}}});var Hb,Lb=[],Ib=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var a=Lb.pop()||v.expando+"_"+tb++;return this[a]=!0,a}});v.ajaxPrefilter("json jsonp",function(b,c,d){var k,f,g,l=!1!==b.jsonp&&(Ib.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ib.test(b.data)&&"data");if(l||"jsonp"===b.dataTypes[0])return k=b.jsonpCallback=v.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(Ib,"$1"+k):!1!==b.jsonp&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+
"="+k),b.converters["script json"]=function(){return g||v.error(k+" was not called"),g[0]},b.dataTypes[0]="json",f=a[k],a[k]=function(){g=arguments},d.always(function(){void 0===f?v(a).removeProp(k):a[k]=f;b[k]&&(b.jsonpCallback=c.jsonpCallback,Lb.push(k));g&&v.isFunction(f)&&f(g[0]);g=f=void 0}),"script"});va.createHTMLDocument=((Hb=ca.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Hb.childNodes.length);v.parseHTML=function(a,b,c){return"string"!=typeof a?
[]:("boolean"==typeof b&&(c=b,b=!1),b||(va.createHTMLDocument?((k=(b=ca.implementation.createHTMLDocument("")).createElement("base")).href=ca.location.href,b.head.appendChild(k)):b=ca),d=!c&&[],(f=eb.exec(a))?[b.createElement(f[1])]:(f=A([a],b,d),d&&d.length&&v(d).remove(),v.merge([],f.childNodes)));var k,f,d};v.fn.load=function(a,b,c){var k,f,d,g=this,l=a.indexOf(" ");return-1<l&&(k=la(a.slice(l)),a=a.slice(0,l)),v.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),0<g.length&&v.ajax({url:a,
type:f||"GET",dataType:"html",data:b}).done(function(a){d=arguments;g.html(k?v("<div>").append(v.parseHTML(a)).find(k):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,d||[a.responseText,b,a])})}),this};v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){v.fn[b]=function(a){return this.on(b,a)}});v.expr.pseudos.animated=function(a){return v.grep(v.timers,function(b){return a===b.elem}).length};v.offset={setOffset:function(a,b,c){var k,f,d,g=
v.css(a,"position"),l=v(a),e={};"static"===g&&(a.style.position="relative");var h=l.offset();var p=v.css(a,"top");var m=v.css(a,"left");("absolute"===g||"fixed"===g)&&-1<(p+m).indexOf("auto")?(d=(k=l.position()).top,f=k.left):(d=parseFloat(p)||0,f=parseFloat(m)||0);v.isFunction(b)&&(b=b.call(a,c,v.extend({},h)));null!=b.top&&(e.top=b.top-h.top+d);null!=b.left&&(e.left=b.left-h.left+f);"using"in b?b.using.call(a,e):l.css(e)}};v.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:
this.each(function(b){v.offset.setOffset(this,a,b)});var b,c,k,f,d=this[0];return d?d.getClientRects().length?(k=d.getBoundingClientRect(),c=(b=d.ownerDocument).documentElement,f=b.defaultView,{top:k.top+f.pageYOffset-c.clientTop,left:k.left+f.pageXOffset-c.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===v.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),t(a[0],"html")||(d=a.offset()),d={top:d.top+
v.css(a[0],"borderTopWidth",!0),left:d.left+v.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-v.css(c,"marginTop",!0),left:b.left-d.left-v.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===v.css(a,"position");)a=a.offsetParent;return a||qb})}});v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;v.fn[a]=function(k){return La(this,function(a,k,d){var f;if(v.isWindow(a)?f=a:9===a.nodeType&&
(f=a.defaultView),void 0===d)return f?f[b]:a[k];f?f.scrollTo(c?f.pageXOffset:d,c?d:f.pageYOffset):a[k]=d},a,k,arguments.length)}});v.each(["top","left"],function(a,b){v.cssHooks[b]=ta(va.pixelPosition,function(a,c){if(c)return c=H(a,b),Jb.test(c)?v(a).position()[b]+"px":c})});v.each({Height:"height",Width:"width"},function(a,b){v.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,k){v.fn[k]=function(f,d){var g=arguments.length&&(c||"boolean"!=typeof f),l=c||(!0===f||!0===d?"margin":"border");
return La(this,function(b,f,c){var d;return v.isWindow(b)?0===k.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(d=b.documentElement,Math.max(b.body["scroll"+a],d["scroll"+a],b.body["offset"+a],d["offset"+a],d["client"+a])):void 0===c?v.css(b,f,l):v.style(b,f,c,l)},b,g?f:void 0,g)}})});v.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,
b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});v.holdReady=function(a){a?v.readyWait++:v.ready(!0)};v.isArray=Array.isArray;v.parseJSON=JSON.parse;v.nodeName=t;!(na=[],Ua=function(){return v}.apply(Y,na),void 0!==Ua&&(z.exports=Ua));var Fb=a.jQuery,Mb=a.$;return v.noConflict=function(b){return a.$===v&&(a.$=Mb),b&&a.jQuery===v&&(a.jQuery=Fb),v},b||(a.jQuery=a.$=v),v});(function(a,b){!function(a){function b(a,b,c){a.byteLength;for(var d=0,g=c.length;d<g;d++){var l=c.charCodeAt(d);
if(128>l)a.setUint8(b++,l>>>0&127|0);else{if(2048>l)a.setUint8(b++,l>>>6&31|192);else{if(65536>l)a.setUint8(b++,l>>>12&15|224);else{if(!(1114112>l))throw Error("bad codepoint "+l);a.setUint8(b++,l>>>18&7|240);a.setUint8(b++,l>>>12&63|128)}a.setUint8(b++,l>>>6&63|128)}a.setUint8(b++,l>>>0&63|128)}}}function c(a){for(var b=0,c=0,d=a.length;c<d;c++){var g=a.charCodeAt(c);if(128>g)b+=1;else if(2048>g)b+=2;else if(65536>g)b+=3;else{if(!(1114112>g))throw Error("bad codepoint "+g);b+=4}}return b}function e(a){var d=
new ArrayBuffer(function la(a){var b=typeof a;if("string"===b){var d=c(a);if(32>d)return 1+d;if(256>d)return 2+d;if(65536>d)return 3+d;if(4294967296>d)return 5+d}if(a instanceof Uint8Array){d=a.byteLength;if(256>d)return 2+d;if(65536>d)return 3+d;if(4294967296>d)return 5+d}if("number"===b){if(Math.floor(a)!==a)return 9;if(0<=a){if(128>a)return 1;if(256>a)return 2;if(65536>a)return 3;if(4294967296>a)return 5;throw Error("Number too big 0x"+a.toString(16));}if(-32<=a)return 1;if(-128<=a)return 2;if(-32768<=
a)return 3;if(-2147483648<=a)return 5;throw Error("Number too small -0x"+a.toString(16).substr(1));}if("boolean"===b||null===a)return 1;if("object"===b){b=0;if(Array.isArray(a)){d=a.length;for(var g=0;g<d;g++)b+=la(a[g])}else{var l=Object.keys(a);d=l.length;for(g=0;g<d;g++){var e=l[g];b+=la(e)+la(a[e])}}if(16>d)return 1+b;if(65536>d)return 3+b;if(4294967296>d)return 5+b;throw Error("Array or object too long 0x"+d.toString(16));}throw Error("Unknown type "+b);}(a)),g=new DataView(d);return function ha(a,
d,g){var l=typeof a;if("string"===l){var e=c(a);if(32>e)return d.setUint8(g,160|e),b(d,g+1,a),1+e;if(256>e)return d.setUint8(g,217),d.setUint8(g+1,e),b(d,g+2,a),2+e;if(65536>e)return d.setUint8(g,218),d.setUint16(g+1,e),b(d,g+3,a),3+e;if(4294967296>e)return d.setUint8(g,219),d.setUint32(g+1,e),b(d,g+5,a),5+e}if(a instanceof Uint8Array){e=a.byteLength;var h=new Uint8Array(d.buffer);if(256>e)return d.setUint8(g,196),d.setUint8(g+1,e),h.set(a,g+2),2+e;if(65536>e)return d.setUint8(g,197),d.setUint16(g+
1,e),h.set(a,g+3),3+e;if(4294967296>e)return d.setUint8(g,198),d.setUint32(g+1,e),h.set(a,g+5),5+e}if("number"===l){if(!isFinite(a))throw Error("Number not finite: "+a);if(Math.floor(a)!==a)return d.setUint8(g,203),d.setFloat64(g+1,a),9;if(0<=a){if(128>a)return d.setUint8(g,a),1;if(256>a)return d.setUint8(g,204),d.setUint8(g+1,a),2;if(65536>a)return d.setUint8(g,205),d.setUint16(g+1,a),3;if(4294967296>a)return d.setUint8(g,206),d.setUint32(g+1,a),5;throw Error("Number too big 0x"+a.toString(16));
}if(-32<=a)return d.setInt8(g,a),1;if(-128<=a)return d.setUint8(g,208),d.setInt8(g+1,a),2;if(-32768<=a)return d.setUint8(g,209),d.setInt16(g+1,a),3;if(-2147483648<=a)return d.setUint8(g,210),d.setInt32(g+1,a),5;throw Error("Number too small -0x"+(-a).toString(16).substr(1));}if(null===a)return d.setUint8(g,192),1;if("boolean"===l)return d.setUint8(g,a?195:194),1;if("object"===l){l=0;if(h=Array.isArray(a))e=a.length;else{var p=Object.keys(a);e=p.length}if(16>e?(d.setUint8(g,e|(h?144:128)),l=1):65536>
e?(d.setUint8(g,h?220:222),d.setUint16(g+1,e),l=3):4294967296>e&&(d.setUint8(g,h?221:223),d.setUint32(g+1,e),l=5),h)for(h=0;h<e;h++)l+=ha(a[h],d,g+l);else for(h=0;h<e;h++){var m=p[h];l+=ha(m,d,g+l);l+=ha(a[m],d,g+l)}return l}throw Error("Unknown type "+l);}(a,g,0),new Uint8Array(d)}function h(a,b,c){return b?new a(b.buffer,b.byteOffset,b.byteLength/(c||1)):void 0}function r(a,b){var c=a.length/2;b||(b=new Int16Array(c));for(var d=0,g=0;d<c;++d,g+=2)b[d]=a[g]<<8^a[g+1]<<0;return b}function u(a,b){var c=
a.length/4;b||(b=new Int32Array(c));for(var d=0,g=0;d<c;++d,g+=4)b[d]=a[g]<<24^a[g+1]<<16^a[g+2]<<8^a[g+3]<<0;return b}function y(a,b){var c=a.length;b||(b=new Uint8Array(4*c));for(var d=h(DataView,b),g=0;g<c;++g)d.setInt32(4*g,a[g]);return h(Uint8Array,b)}function x(a,b,c){var d=a.length;b=1/b;c||(c=new Float32Array(d));for(var g=0;g<d;++g)c[g]=a[g]*b;return c}function p(a,b,c){var d=a.length;c||(c=new Int32Array(d));for(var g=0;g<d;++g)c[g]=Math.round(a[g]*b);return c}function d(a,b){var c;if(!b){var d=
b=0;for(c=a.length;d<c;d+=2)b+=a[d+1];b=new a.constructor(b)}var g=0;d=0;for(c=a.length;d<c;d+=2)for(var l=a[d],e=a[d+1],h=0;h<e;++h)b[g]=l,++g;return b}function g(a){if(0===a.length)return new Int32Array;var b,c=2;var d=1;for(b=a.length;d<b;++d)a[d-1]!==a[d]&&(c+=2);c=new Int32Array(c);var g=0,l=1;d=1;for(b=a.length;d<b;++d)a[d-1]!==a[d]?(c[g]=a[d-1],c[g+1]=l,l=1,g+=2):++l;return c[g]=a[a.length-1],c[g+1]=l,c}function E(a,b){var c=a.length;b||(b=new a.constructor(c));c&&(b[0]=a[0]);for(var d=1;d<
c;++d)b[d]=a[d]+b[d-1];return b}function l(a,b){var c=a.length;b||(b=new a.constructor(c));b[0]=a[0];for(var d=1;d<c;++d)b[d]=a[d]-a[d-1];return b}function L(a,b){var c,d,g=a instanceof Int8Array?127:32767,l=-g-1,e=a.length;if(!b){for(c=b=0;c<e;++c)a[c]<g&&a[c]>l&&++b;b=new Int32Array(b)}for(d=c=0;c<e;){for(var h=0;a[c]===g||a[c]===l;)h+=a[c],++c;h+=a[c];++c;b[d]=h;++d}return b}function A(a,b,c){return x(L(a,h(Int32Array,c,4)),b,c)}function B(a,b,c){a=L(a,h(Int32Array,c,4));c=h(Float32Array,a,4);
return x(E(a,h(Int32Array,c,4)),b,c)}function S(a,b,c,d){var g=new ArrayBuffer(12+d.byteLength),l=new Uint8Array(g);g=new DataView(g);return g.setInt32(0,a),g.setInt32(4,b),c&&l.set(c,8),l.set(d,12),l}function C(a){var b=a.length;a=h(Uint8Array,a);return S(2,b,void 0,a)}function U(a){var b=a.length;a=y(a);return S(4,b,void 0,a)}function q(a,b){var c=a.length/b;b=y([b]);a=h(Uint8Array,a);return S(5,c,b,a)}function M(a){var b=a.length;a=y(g(a));return S(6,b,void 0,a)}function ia(a){var b=a.length;a=
y(g(l(a)));return S(8,b,void 0,a)}function X(a,b){var c=a.length,d=y([b]);a=y(g(p(a,b)));return S(9,c,d,a)}function K(a,b){var c=a.length,d=y([b]);b=l(p(a,b),void 0);var g,e=-32768,m=b.length;for(g=a=0;g<m;++g){var q=b[g];0===q?++a:a+=32767===q||q===e?2:0<q?Math.ceil(q/32767):Math.ceil(q/e)}a=new Int16Array(a);var C=0;for(g=0;g<m;++g){q=b[g];if(0<=q)for(;32767<=q;)a[C]=32767,++C,q-=32767;else for(;q<=e;)a[C]=e,++C,q-=e;a[C]=q;++C}b=void 0;g=a.length;b||(b=new Uint8Array(2*g));e=h(DataView,b);for(m=
0;m<g;++m)e.setInt16(2*m,a[m]);a=h(Uint8Array,b);return S(10,c,d,a)}function N(a){var b={};return V.forEach(function(c){void 0!==a[c]&&(b[c]=a[c])}),a.bondAtomList&&(b.bondAtomList=U(a.bondAtomList)),a.bondOrderList&&(b.bondOrderList=C(a.bondOrderList)),b.xCoordList=K(a.xCoordList,1E3),b.yCoordList=K(a.yCoordList,1E3),b.zCoordList=K(a.zCoordList,1E3),a.bFactorList&&(b.bFactorList=K(a.bFactorList,100)),a.atomIdList&&(b.atomIdList=ia(a.atomIdList)),a.altLocList&&(b.altLocList=M(a.altLocList)),a.occupancyList&&
(b.occupancyList=X(a.occupancyList,100)),b.groupIdList=ia(a.groupIdList),b.groupTypeList=U(a.groupTypeList),a.secStructList&&(b.secStructList=C(a.secStructList)),a.insCodeList&&(b.insCodeList=M(a.insCodeList)),a.sequenceIndexList&&(b.sequenceIndexList=ia(a.sequenceIndexList)),b.chainIdList=q(a.chainIdList,4),a.chainNameList&&(b.chainNameList=q(a.chainNameList,4)),b}function H(a){function b(a){for(var b={},c=0;c<a;c++){var d=l();b[d]=l()}return b}function c(b){var c=a.subarray(e,e+b);return e+=b,c}
function d(b){var c=a.subarray(e,e+b);e+=b;if(65535<b){b=[];for(var d=0;d<c.length;d+=65535)b.push(String.fromCharCode.apply(null,c.subarray(d,d+65535)));return b.join("")}return String.fromCharCode.apply(null,c)}function g(a){for(var b=Array(a),c=0;c<a;c++)b[c]=l();return b}function l(){var l,p,m=a[e];if(0==(128&m))return e++,m;if(128==(240&m))return e++,b(15&m);if(144==(240&m))return e++,g(15&m);if(160==(224&m))return e++,d(31&m);if(224==(224&m))return l=h.getInt8(e),e++,l;switch(m){case 192:return e++,
null;case 194:return e++,!1;case 195:return e++,!0;case 196:return p=h.getUint8(e+1),e+=2,c(p);case 197:return p=h.getUint16(e+1),e+=3,c(p);case 198:return p=h.getUint32(e+1),e+=5,c(p);case 202:return l=h.getFloat32(e+1),e+=5,l;case 203:return l=h.getFloat64(e+1),e+=9,l;case 204:return l=a[e+1],e+=2,l;case 205:return l=h.getUint16(e+1),e+=3,l;case 206:return l=h.getUint32(e+1),e+=5,l;case 208:return l=h.getInt8(e+1),e+=2,l;case 209:return l=h.getInt16(e+1),e+=3,l;case 210:return l=h.getInt32(e+1),
e+=5,l;case 217:return p=h.getUint8(e+1),e+=2,d(p);case 218:return p=h.getUint16(e+1),e+=3,d(p);case 219:return p=h.getUint32(e+1),e+=5,d(p);case 220:return p=h.getUint16(e+1),e+=3,g(p);case 221:return p=h.getUint32(e+1),e+=5,g(p);case 222:return p=h.getUint16(e+1),e+=3,b(p);case 223:return p=h.getUint32(e+1),e+=5,b(p)}throw Error("Unknown type 0x"+m.toString(16));}var e=0,h=new DataView(a.buffer);return l()}function ta(a,b,c,g){switch(a){case 1:return function(a,b){var c=a.length;b||(b=new Float32Array(c/
4));var d=h(DataView,b);a=h(DataView,a);var g=0,l=0;for(c/=4;g<c;++g,l+=4)d.setFloat32(l,a.getFloat32(l),!0);return b}(b);case 2:return h(Int8Array,b);case 3:return r(b);case 4:return u(b);case 5:return h(Uint8Array,b);case 6:return d(u(b),new Uint8Array(c));case 7:return d(u(b));case 8:return E(d(u(b)),l);case 9:return function(a,b,c){return x(d(a,h(Int32Array,c,4)),b,c)}(u(b),u(g)[0]);case 10:return B(r(b),u(g)[0]);case 11:return x(r(b),u(g)[0]);case 12:return A(r(b),u(g)[0]);case 13:return A(h(Int8Array,
b),u(g)[0]);case 14:return L(r(b));case 15:return L(h(Int8Array,b))}var l}function Fa(a,b){var c=(b=b||{}).ignoreFields,d={};return P.forEach(function(b){var g,l,e,p,m,q=!!c&&-1!==c.indexOf(b),C=a[b];q||void 0===C||(C instanceof Uint8Array?d[b]=ta.apply(null,(l=h(DataView,g=C),e=l.getInt32(0),p=l.getInt32(4),m=g.subarray(8,12),g=g.subarray(12),[e,g,p,m])):d[b]=C)}),d}function O(a,b){return a instanceof ArrayBuffer&&(a=new Uint8Array(a)),Fa(a instanceof Uint8Array?H(a):a,b)}function W(a,b,c,d){var g=
new XMLHttpRequest;g.addEventListener("load",function(){try{var a=O(g.response);c(a)}catch(ja){d(ja)}},!0);g.addEventListener("error",d,!0);g.responseType="arraybuffer";g.open("GET",b+a.toUpperCase());g.send()}var V="mmtfVersion mmtfProducer unitCell spaceGroup structureId title depositionDate releaseDate experimentalMethods resolution rFree rWork bioAssemblyList ncsOperatorList entityList groupList numBonds numAtoms numGroups numChains numModels groupsPerChain chainsPerModel".split(" "),P=V.concat("xCoordList yCoordList zCoordList groupIdList groupTypeList chainIdList bFactorList atomIdList altLocList occupancyList secStructList insCodeList sequenceIndexList chainNameList bondAtomList bondOrderList".split(" "));
a.encode=function(a){return e(N(a))};a.decode=O;a.traverse=function(a,b,c){var d,g;c=(c||{}).firstModelOnly;var l=b.onModel,e=b.onChain,h=b.onGroup,p=b.onAtom,m=b.onBond,q=0,C=0,r=0,O=0,n=-1,P=a.chainNameList,J=a.secStructList,E=a.insCodeList,B=a.sequenceIndexList,t=a.atomIdList,L=a.bFactorList,W=a.altLocList,u=a.occupancyList,A=a.bondAtomList,v=a.bondOrderList;b=0;for(d=a.chainsPerModel.length;b<d&&!(c&&0<q);++b){var S=a.chainsPerModel[q];l&&l({chainCount:S,modelIndex:q});for(g=0;g<S;++g){var x=
a.groupsPerChain[C];if(e){var V=String.fromCharCode.apply(null,a.chainIdList.subarray(4*C,4*C+4)).replace(/\0/g,"");var Q=null;P&&(Q=String.fromCharCode.apply(null,P.subarray(4*C,4*C+4)).replace(/\0/g,""));e({groupCount:x,chainIndex:C,modelIndex:q,chainId:V,chainName:Q})}for(V=0;V<x;++V){var U=a.groupList[a.groupTypeList[r]],w=U.atomNameList.length;if(h){Q=null;J&&(Q=J[r]);var y=null;a.insCodeList&&(y=String.fromCharCode(E[r]));var M=null;B&&(M=B[r]);h({atomCount:w,groupIndex:r,chainIndex:C,modelIndex:q,
groupId:a.groupIdList[r],groupType:a.groupTypeList[r],groupName:U.groupName,singleLetterCode:U.singleLetterCode,chemCompType:U.chemCompType,secStruct:Q,insCode:y,sequenceIndex:M})}for(Q=0;Q<w;++Q){if(p){y=null;t&&(y=t[O]);M=null;L&&(M=L[O]);var K=null;W&&(K=String.fromCharCode(W[O]));var R=null;u&&(R=u[O]);p({atomIndex:O,groupIndex:r,chainIndex:C,modelIndex:q,atomId:y,element:U.elementList[Q],atomName:U.atomNameList[Q],formalCharge:U.formalChargeList[Q],xCoord:a.xCoordList[O],yCoord:a.yCoordList[O],
zCoord:a.zCoordList[O],bFactor:M,altLoc:K,occupancy:R})}O+=1}if(m)for(M=U.bondAtomList,Q=0,y=U.bondOrderList.length;Q<y;++Q)m({atomIndex1:O-w+M[2*Q],atomIndex2:O-w+M[2*Q+1],bondOrder:U.bondOrderList[Q]});r+=1}C+=1}if(g=n+1,n=O-1,m&&A)for(Q=0,y=A.length;Q<y;Q+=2)S=A[Q],x=A[Q+1],(S>=g&&S<=n||x>=g&&x<=n)&&m({atomIndex1:S,atomIndex2:x,bondOrder:v?v[Q/2]:null});q+=1}};a.fetch=function(a,b,c){W(a,"http://mmtf.rcsb.org/v1.0/full/",b,c)};a.fetchReduced=function(a,b,c){W(a,"http://mmtf.rcsb.org/v1.0/reduced/",
b,c)};a.version="v1.0.0";a.fetchUrl="http://mmtf.rcsb.org/v1.0/full/";a.fetchReducedUrl="http://mmtf.rcsb.org/v1.0/reduced/";a.encodeMsgpack=e;a.encodeMmtf=N;a.decodeMsgpack=H;a.decodeMmtf=Fa;Object.defineProperty(a,"__esModule",{value:!0})}(a.MMTF=a.MMTF||{})})(this);z.exports=function(){return function t(b,e,n){function c(m,r){if(!e[m]){if(!b[m]){if(h)return h(m,!0);r=Error("Cannot find module '"+m+"'");throw r.code="MODULE_NOT_FOUND",r;}r=e[m]={exports:{}};b[m][0].call(r.exports,function(e){return c(b[m][1][e]||
e)},r,r.exports,t,b,e,n)}return e[m].exports}for(var h=!1,r=0;r<n.length;r++)c(n[r]);return c}({1:[function(b,e,n){b="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(b){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var e=c.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(var h in e)e.hasOwnProperty(h)&&(b[h]=e[h])}}return b};n.shrinkBuf=function(b,c){return b.length===c?b:b.subarray?
b.subarray(0,c):(b.length=c,b)};var c={arraySet:function(b,c,e,m,n){if(c.subarray&&b.subarray)b.set(c.subarray(e,e+m),n);else for(var h=0;h<m;h++)b[n+h]=c[e+h]},flattenChunks:function(b){var c,e;var h=e=0;for(c=b.length;h<c;h++)e+=b[h].length;var m=new Uint8Array(e);h=e=0;for(c=b.length;h<c;h++){var p=b[h];m.set(p,e);e+=p.length}return m}},m={arraySet:function(b,c,e,m,n){for(var h=0;h<m;h++)b[n+h]=c[e+h]},flattenChunks:function(b){return[].concat.apply([],b)}};n.setTyped=function(b){b?(n.Buf8=Uint8Array,
n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,c)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,m))};n.setTyped(b)},{}],2:[function(b,e,n){function c(b,c){if(65537>c&&(b.subarray&&r||!b.subarray&&h))return String.fromCharCode.apply(null,m.shrinkBuf(b,c));for(var e="",d=0;d<c;d++)e+=String.fromCharCode(b[d]);return e}var m=b("./common"),h=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(y){h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(y){r=!1}var u=new m.Buf8(256);
for(b=0;256>b;b++)u[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;u[254]=u[254]=1;n.string2buf=function(b){var c,e,d,g,h=b.length,l=0;for(d=0;d<h;d++)55296==(64512&(c=b.charCodeAt(d)))&&d+1<h&&56320==(64512&(e=b.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(e-56320),d++),l+=128>c?1:2048>c?2:65536>c?3:4;var r=new m.Buf8(l);for(d=g=0;g<l;d++)55296==(64512&(c=b.charCodeAt(d)))&&d+1<h&&56320==(64512&(e=b.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(e-56320),d++),128>c?r[g++]=c:2048>c?(r[g++]=192|c>>>6,
r[g++]=128|63&c):65536>c?(r[g++]=224|c>>>12,r[g++]=128|c>>>6&63,r[g++]=128|63&c):(r[g++]=240|c>>>18,r[g++]=128|c>>>12&63,r[g++]=128|c>>>6&63,r[g++]=128|63&c);return r};n.buf2binstring=function(b){return c(b,b.length)};n.binstring2buf=function(b){for(var c=new m.Buf8(b.length),e=0,d=c.length;e<d;e++)c[e]=b.charCodeAt(e);return c};n.buf2string=function(b,e){var h,d,g,m=e||b.length,l=Array(2*m);for(e=h=0;e<m;)if(128>(d=b[e++]))l[h++]=d;else if(4<(g=u[d]))l[h++]=65533,e+=g-1;else{for(d&=2===g?31:3===
g?15:7;1<g&&e<m;)d=d<<6|63&b[e++],g--;1<g?l[h++]=65533:65536>d?l[h++]=d:(d-=65536,l[h++]=55296|d>>10&1023,l[h++]=56320|1023&d)}return c(l,h)};n.utf8border=function(b,c){var e;(c=c||b.length)>b.length&&(c=b.length);for(e=c-1;0<=e&&128==(192&b[e]);)e--;return 0>e?c:0===e?c:e+u[b[e]]>c?e:c}},{"./common":1}],3:[function(b,e,n){e.exports=function(b,c,e,r){var h=65535&b|0;b=b>>>16&65535|0;for(var m;0!==e;){e-=m=2E3<e?2E3:e;do b=b+(h=h+c[r++]|0)|0;while(--m);h%=65521;b%=65521}return h|b<<16|0}},{}],4:[function(b,
e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(b,e,n){var c=function(){for(var b,c=[],e=0;256>e;e++){b=e;for(var n=0;8>n;n++)b=1&b?3988292384^
b>>>1:b>>>1;c[e]=b}return c}();e.exports=function(b,e,r,n){r=n+r;for(b^=-1;n<r;n++)b=b>>>8^c[255&(b^e[n])];return-1^b}},{}],6:[function(b,e,n){e.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],7:[function(b,e,n){e.exports=function(b,c){var e,m,n;var t=b.state;var x=b.next_in;var p=b.input;var d=x+(b.avail_in-5);var g=b.next_out;var E=b.output;c=g-(c-b.avail_out);var l=g+(b.avail_out-257);var L=t.dmax;
var A=t.wsize;var B=t.whave;var S=t.wnext;var C=t.window;var U=t.hold;var q=t.bits;var M=t.lencode;var ia=t.distcode;var X=(1<<t.lenbits)-1;var K=(1<<t.distbits)-1;a:do{15>q&&(U+=p[x++]<<q,q+=8,U+=p[x++]<<q,q+=8);var N=M[U&X];b:for(;;){if(U>>>=e=N>>>24,q-=e,0===(e=N>>>16&255))E[g++]=65535&N;else{if(!(16&e)){if(0==(64&e)){N=M[(65535&N)+(U&(1<<e)-1)];continue b}if(32&e){t.mode=12;break a}b.msg="invalid literal/length code";t.mode=30;break a}var H=65535&N;(e&=15)&&(q<e&&(U+=p[x++]<<q,q+=8),H+=U&(1<<
e)-1,U>>>=e,q-=e);15>q&&(U+=p[x++]<<q,q+=8,U+=p[x++]<<q,q+=8);N=ia[U&K];c:for(;;){if(U>>>=e=N>>>24,q-=e,!(16&(e=N>>>16&255))){if(0==(64&e)){N=ia[(65535&N)+(U&(1<<e)-1)];continue c}b.msg="invalid distance code";t.mode=30;break a}if(m=65535&N,q<(e&=15)&&(U+=p[x++]<<q,(q+=8)<e&&(U+=p[x++]<<q,q+=8)),(m+=U&(1<<e)-1)>L){b.msg="invalid distance too far back";t.mode=30;break a}if(U>>>=e,q-=e,m>(e=g-c)){if((e=m-e)>B&&t.sane){b.msg="invalid distance too far back";t.mode=30;break a}if(N=0,n=C,0===S){if(N+=A-
e,e<H){H-=e;do E[g++]=C[N++];while(--e);N=g-m;n=E}}else if(S<e){if(N+=A+S-e,(e-=S)<H){H-=e;do E[g++]=C[N++];while(--e);if(N=0,S<H){H-=e=S;do E[g++]=C[N++];while(--e);N=g-m;n=E}}}else if(N+=S-e,e<H){H-=e;do E[g++]=C[N++];while(--e);N=g-m;n=E}for(;2<H;)E[g++]=n[N++],E[g++]=n[N++],E[g++]=n[N++],H-=3;H&&(E[g++]=n[N++],1<H&&(E[g++]=n[N++]))}else{N=g-m;do E[g++]=E[N++],E[g++]=E[N++],E[g++]=E[N++],H-=3;while(2<H);H&&(E[g++]=E[N++],1<H&&(E[g++]=E[N++]))}break}}break}}while(x<d&&g<l);x-=H=q>>3;U&=(1<<(q-=
H<<3))-1;b.next_in=x;b.next_out=g;b.avail_in=x<d?d-x+5:5-(x-d);b.avail_out=g<l?l-g+257:257-(g-l);t.hold=U;t.bits=q}},{}],8:[function(b,e,n){function c(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function m(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=
this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new x.Buf16(320);this.work=new x.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function h(b){var c;return b&&b.state?(c=b.state,b.total_in=b.total_out=c.total=0,b.msg="",c.wrap&&(b.adler=1&c.wrap),c.mode=1,c.last=0,c.havedict=0,c.dmax=32768,c.head=null,c.hold=0,c.bits=0,c.lencode=c.lendyn=new x.Buf32(852),c.distcode=c.distdyn=new x.Buf32(592),c.sane=1,c.back=-1,0):-2}function r(b){var c;
return b&&b.state?((c=b.state).wsize=0,c.whave=0,c.wnext=0,h(b)):-2}function u(b,c){var d,g;return b&&b.state?(g=b.state,0>c?(d=0,c=-c):(d=1+(c>>4),48>c&&(c&=15)),c&&(8>c||15<c)?-2:(null!==g.window&&g.wbits!==c&&(g.window=null),g.wrap=d,g.wbits=c,r(b))):-2}function y(b,c){var d,g;return b?(g=new m,b.state=g,g.window=null,0!==(d=u(b,c))&&(b.state=null),d):-2}var x=b("../utils/common"),p=b("./adler32"),d=b("./crc32"),g=b("./inffast"),E=b("./inftrees"),l,L,A=!0;n.inflateReset=r;n.inflateReset2=u;n.inflateResetKeep=
h;n.inflateInit=function(b){return y(b,15)};n.inflateInit2=y;n.inflate=function(b,e){var h,m,q,r,n,t,B,u,S=0,y=new x.Buf8(4),Fa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return-2;12===(h=b.state).mode&&(h.mode=13);var O=b.next_out;var W=b.output;var V=b.avail_out;var P=b.next_in;var J=b.input;var Q=b.avail_in;var R=h.hold;var T=h.bits;var ea=Q;var la=V;var z=0;a:for(;;)switch(h.mode){case 1:if(0===h.wrap){h.mode=13;break}for(;16>T;){if(0===
Q)break a;Q--;R+=J[P++]<<T;T+=8}if(2&h.wrap&&35615===R){h.check=0;y[0]=255&R;y[1]=R>>>8&255;h.check=d(h.check,y,2,0);T=R=0;h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&R)<<8)+(R>>8))%31){b.msg="incorrect header check";h.mode=30;break}if(8!==(15&R)){b.msg="unknown compression method";h.mode=30;break}if(T-=4,B=8+(15&(R>>>=4)),0===h.wbits)h.wbits=B;else if(B>h.wbits){b.msg="invalid window size";h.mode=30;break}h.dmax=1<<B;b.adler=h.check=1;h.mode=512&R?10:12;T=R=0;break;case 2:for(;16>
T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}if(h.flags=R,8!==(255&h.flags)){b.msg="unknown compression method";h.mode=30;break}if(57344&h.flags){b.msg="unknown header flags set";h.mode=30;break}h.head&&(h.head.text=R>>8&1);512&h.flags&&(y[0]=255&R,y[1]=R>>>8&255,h.check=d(h.check,y,2,0));T=R=0;h.mode=3;case 3:for(;32>T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}h.head&&(h.head.time=R);512&h.flags&&(y[0]=255&R,y[1]=R>>>8&255,y[2]=R>>>16&255,y[3]=R>>>24&255,h.check=d(h.check,y,4,0));T=R=0;h.mode=4;case 4:for(;16>
T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}h.head&&(h.head.xflags=255&R,h.head.os=R>>8);512&h.flags&&(y[0]=255&R,y[1]=R>>>8&255,h.check=d(h.check,y,2,0));T=R=0;h.mode=5;case 5:if(1024&h.flags){for(;16>T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}h.length=R;h.head&&(h.head.extra_len=R);512&h.flags&&(y[0]=255&R,y[1]=R>>>8&255,h.check=d(h.check,y,2,0));T=R=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&((m=h.length)>Q&&(m=Q),m&&(h.head&&(B=h.head.extra_len-h.length,h.head.extra||(h.head.extra=
Array(h.head.extra_len)),x.arraySet(h.head.extra,J,P,m,B)),512&h.flags&&(h.check=d(h.check,J,m,P)),Q-=m,P+=m,h.length-=m),h.length))break a;h.length=0;h.mode=7;case 7:if(2048&h.flags){if(0===Q)break a;m=0;do B=J[P+m++],h.head&&B&&65536>h.length&&(h.head.name+=String.fromCharCode(B));while(B&&m<Q);if(512&h.flags&&(h.check=d(h.check,J,m,P)),Q-=m,P+=m,B)break a}else h.head&&(h.head.name=null);h.length=0;h.mode=8;case 8:if(4096&h.flags){if(0===Q)break a;m=0;do B=J[P+m++],h.head&&B&&65536>h.length&&(h.head.comment+=
String.fromCharCode(B));while(B&&m<Q);if(512&h.flags&&(h.check=d(h.check,J,m,P)),Q-=m,P+=m,B)break a}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;16>T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}if(R!==(65535&h.check)){b.msg="header crc mismatch";h.mode=30;break}T=R=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0);b.adler=h.check=0;h.mode=12;break;case 10:for(;32>T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}b.adler=h.check=c(R);T=R=0;h.mode=11;case 11:if(0===h.havedict)return b.next_out=
O,b.avail_out=V,b.next_in=P,b.avail_in=Q,h.hold=R,h.bits=T,2;b.adler=h.check=1;h.mode=12;case 12:if(5===e||6===e)break a;case 13:if(h.last){R>>>=7&T;T-=7&T;h.mode=27;break}for(;3>T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}switch(h.last=1&R,--T,3&(R>>>=1)){case 0:h.mode=14;break;case 1:var fa=h;if(A){l=new x.Buf32(512);L=new x.Buf32(32);for(r=0;144>r;)fa.lens[r++]=8;for(;256>r;)fa.lens[r++]=9;for(;280>r;)fa.lens[r++]=7;for(;288>r;)fa.lens[r++]=8;E(1,fa.lens,0,288,l,0,fa.work,{bits:9});for(r=0;32>r;)fa.lens[r++]=
5;E(2,fa.lens,0,32,L,0,fa.work,{bits:5});A=!1}fa.lencode=l;fa.lenbits=9;fa.distcode=L;fa.distbits=5;if(h.mode=20,6===e){R>>>=2;T-=2;break a}break;case 2:h.mode=17;break;case 3:b.msg="invalid block type",h.mode=30}R>>>=2;T-=2;break;case 14:R>>>=7&T;for(T-=7&T;32>T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}if((65535&R)!=(R>>>16^65535)){b.msg="invalid stored block lengths";h.mode=30;break}if(h.length=65535&R,R=0,T=0,h.mode=15,6===e)break a;case 15:h.mode=16;case 16:if(m=h.length){if(m>Q&&(m=Q),m>V&&(m=
V),0===m)break a;x.arraySet(W,J,P,m,O);Q-=m;P+=m;V-=m;O+=m;h.length-=m;break}h.mode=12;break;case 17:for(;14>T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}if(h.nlen=257+(31&R),R>>>=5,T-=5,h.ndist=1+(31&R),R>>>=5,T-=5,h.ncode=4+(15&R),R>>>=4,T-=4,286<h.nlen||30<h.ndist){b.msg="too many length or distance symbols";h.mode=30;break}h.have=0;h.mode=18;case 18:for(;h.have<h.ncode;){for(;3>T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}h.lens[Fa[h.have++]]=7&R;R>>>=3;T-=3}for(;19>h.have;)h.lens[Fa[h.have++]]=0;
if(h.lencode=h.lendyn,h.lenbits=7,u={bits:h.lenbits},z=E(0,h.lens,0,19,h.lencode,0,h.work,u),h.lenbits=u.bits,z){b.msg="invalid code lengths set";h.mode=30;break}h.have=0;h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;S=h.lencode[R&(1<<h.lenbits)-1],n=65535&S,!((r=S>>>24)<=T);){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}if(16>n)R>>>=r,T-=r,h.lens[h.have++]=n;else{if(16===n){for(fa=r+2;T<fa;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}if(R>>>=r,T-=r,0===h.have){b.msg="invalid bit length repeat";h.mode=
30;break}B=h.lens[h.have-1];m=3+(3&R);R>>>=2;T-=2}else if(17===n){for(fa=r+3;T<fa;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}T-=r;B=0;m=3+(7&(R>>>=r));R>>>=3;T-=3}else{for(fa=r+7;T<fa;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}T-=r;B=0;m=11+(127&(R>>>=r));R>>>=7;T-=7}if(h.have+m>h.nlen+h.ndist){b.msg="invalid bit length repeat";h.mode=30;break}for(;m--;)h.lens[h.have++]=B}}if(30===h.mode)break;if(0===h.lens[256]){b.msg="invalid code -- missing end-of-block";h.mode=30;break}if(h.lenbits=9,u={bits:h.lenbits},
z=E(1,h.lens,0,h.nlen,h.lencode,0,h.work,u),h.lenbits=u.bits,z){b.msg="invalid literal/lengths set";h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,u={bits:h.distbits},z=E(2,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,u),h.distbits=u.bits,z){b.msg="invalid distances set";h.mode=30;break}if(h.mode=20,6===e)break a;case 20:h.mode=21;case 21:if(6<=Q&&258<=V){b.next_out=O;b.avail_out=V;b.next_in=P;b.avail_in=Q;h.hold=R;h.bits=T;g(b,la);O=b.next_out;W=b.output;V=b.avail_out;P=b.next_in;J=b.input;Q=
b.avail_in;R=h.hold;T=h.bits;12===h.mode&&(h.back=-1);break}for(h.back=0;fa=(S=h.lencode[R&(1<<h.lenbits)-1])>>>16&255,n=65535&S,!((r=S>>>24)<=T);){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}if(fa&&0==(240&fa)){var ha=r;var Z=fa;for(t=n;fa=(S=h.lencode[t+((R&(1<<ha+Z)-1)>>ha)])>>>16&255,n=65535&S,!(ha+(r=S>>>24)<=T);){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}R>>>=ha;T-=ha;h.back+=ha}if(R>>>=r,T-=r,h.back+=r,h.length=n,0===fa){h.mode=26;break}if(32&fa){h.back=-1;h.mode=12;break}if(64&fa){b.msg="invalid literal/length code";
h.mode=30;break}h.extra=15&fa;h.mode=22;case 22:if(h.extra){for(fa=h.extra;T<fa;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}h.length+=R&(1<<h.extra)-1;R>>>=h.extra;T-=h.extra;h.back+=h.extra}h.was=h.length;h.mode=23;case 23:for(;fa=(S=h.distcode[R&(1<<h.distbits)-1])>>>16&255,n=65535&S,!((r=S>>>24)<=T);){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}if(0==(240&fa)){ha=r;Z=fa;for(t=n;fa=(S=h.distcode[t+((R&(1<<ha+Z)-1)>>ha)])>>>16&255,n=65535&S,!(ha+(r=S>>>24)<=T);){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}R>>>=
ha;T-=ha;h.back+=ha}if(R>>>=r,T-=r,h.back+=r,64&fa){b.msg="invalid distance code";h.mode=30;break}h.offset=n;h.extra=15&fa;h.mode=24;case 24:if(h.extra){for(fa=h.extra;T<fa;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}h.offset+=R&(1<<h.extra)-1;R>>>=h.extra;T-=h.extra;h.back+=h.extra}if(h.offset>h.dmax){b.msg="invalid distance too far back";h.mode=30;break}h.mode=25;case 25:if(0===V)break a;if(m=la-V,h.offset>m){if((m=h.offset-m)>h.whave&&h.sane){b.msg="invalid distance too far back";h.mode=30;break}m>
h.wnext?(m-=h.wnext,q=h.wsize-m):q=h.wnext-m;m>h.length&&(m=h.length);r=h.window}else r=W,q=O-h.offset,m=h.length;m>V&&(m=V);V-=m;h.length-=m;do W[O++]=r[q++];while(--m);0===h.length&&(h.mode=21);break;case 26:if(0===V)break a;W[O++]=h.length;V--;h.mode=21;break;case 27:if(h.wrap){for(;32>T;){if(0===Q)break a;Q--;R|=J[P++]<<T;T+=8}if(la-=V,b.total_out+=la,h.total+=la,la&&(b.adler=h.check=h.flags?d(h.check,W,la,O-la):p(h.check,W,la,O-la)),la=V,(h.flags?R:c(R))!==h.check){b.msg="incorrect data check";
h.mode=30;break}T=R=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;32>T;){if(0===Q)break a;Q--;R+=J[P++]<<T;T+=8}if(R!==(4294967295&h.total)){b.msg="incorrect length check";h.mode=30;break}T=R=0}h.mode=29;case 29:z=1;break a;case 30:z=-3;break a;case 31:return-4;default:return-2}b.next_out=O;b.avail_out=V;b.next_in=P;b.avail_in=Q;h.hold=R;h.bits=T;if(P=h.wsize||la!==b.avail_out&&30>h.mode&&(27>h.mode||4!==e)){P=b.output;O=b.next_out;J=la-b.avail_out;var ba;Q=b.state;P=(null===Q.window&&(Q.wsize=1<<
Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new x.Buf8(Q.wsize)),J>=Q.wsize?(x.arraySet(Q.window,P,O-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):((ba=Q.wsize-Q.wnext)>J&&(ba=J),x.arraySet(Q.window,P,O-J,ba,Q.wnext),(J-=ba)?(x.arraySet(Q.window,P,O-J,J,0),Q.wnext=J,Q.whave=Q.wsize):(Q.wnext+=ba,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=ba))),0)}return P?(h.mode=31,-4):(ea-=b.avail_in,la-=b.avail_out,b.total_in+=ea,b.total_out+=la,h.total+=la,h.wrap&&la&&(b.adler=h.check=h.flags?d(h.check,
W,la,b.next_out-la):p(h.check,W,la,b.next_out-la)),b.data_type=h.bits+(h.last?64:0)+(12===h.mode?128:0)+(20===h.mode||15===h.mode?256:0),(0===ea&&0===la||4===e)&&0===z&&(z=-5),z)};n.inflateEnd=function(b){if(!b||!b.state)return-2;var c=b.state;return c.window&&(c.window=null),b.state=null,0};n.inflateGetHeader=function(b,c){var d;return b&&b.state?0==(2&(d=b.state).wrap)?-2:(d.head=c,c.done=!1,0):-2};n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,
"./inffast":7,"./inftrees":9}],9:[function(b,e,n){var c=b("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(b,
e,p,d,g,n,l,t){var E,L,S,C,x,q,M=t.bits,y,X,K,N,H,ta=0,z,O=null,W=0,V=new c.Buf16(16);var P=new c.Buf16(16);var J=null,Q=0;for(y=0;15>=y;y++)V[y]=0;for(X=0;X<d;X++)V[e[p+X]]++;var R=M;for(K=15;1<=K&&0===V[K];K--);if(R>K&&(R=K),0===K)return g[n++]=20971520,g[n++]=20971520,t.bits=1,0;for(M=1;M<K&&0===V[M];M++);R<M&&(R=M);for(y=E=1;15>=y;y++)if(E<<=1,0>(E-=V[y]))return-1;if(0<E&&(0===b||1!==K))return-1;P[1]=0;for(y=1;15>y;y++)P[y+1]=P[y]+V[y];for(X=0;X<d;X++)0!==e[p+X]&&(l[P[e[p+X]]++]=X);if(0===b?(O=
J=l,C=19):1===b?(O=m,W-=257,J=h,Q-=257,C=256):(O=r,J=u,C=-1),z=0,X=0,y=M,P=n,N=R,H=0,S=-1,d=(ta=1<<R)-1,1===b&&852<ta||2===b&&592<ta)return 1;for(;;){0;var T=y-H;l[X]<C?(x=0,q=l[X]):l[X]>C?(x=J[Q+l[X]],q=O[W+l[X]]):(x=96,q=0);E=1<<y-H;M=L=1<<N;do g[P+(z>>H)+(L-=E)]=T<<24|x<<16|q|0;while(0!==L);for(E=1<<y-1;z&E;)E>>=1;if(0!==E?(z&=E-1,z+=E):z=0,X++,0==--V[y]){if(y===K)break;y=e[p+l[X]]}if(y>R&&(z&d)!==S){0===H&&(H=R);P+=M;for(E=1<<(N=y-H);N+H<K&&!(0>=(E-=V[N+H]));)N++,E<<=1;if(ta+=1<<N,1===b&&852<
ta||2===b&&592<ta)return 1;g[S=z&d]=R<<24|N<<16|P-n|0}}return 0!==z&&(g[P+z]=y-H<<24|4194304),t.bits=R,0}},{"../utils/common":1}],10:[function(b,e,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(b,e,n){e.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;
this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],"/lib/inflate.js":[function(b,e,n){function c(b,c){c=new g(c);if(c.push(b,!0),c.err)throw c.msg;return c.result}var m=b("./zlib/inflate.js"),h=b("./utils/common"),r=b("./utils/strings"),u=b("./zlib/constants"),y=b("./zlib/messages"),x=b("./zlib/zstream"),p=b("./zlib/gzheader"),d=Object.prototype.toString,g=function(b){var c=this.options=h.assign({chunkSize:16384,windowBits:0,to:""},b||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=
-c.windowBits,0===c.windowBits&&(c.windowBits=-15));!(0<=c.windowBits&&16>c.windowBits)||b&&b.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&0==(15&c.windowBits)&&(c.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new x;this.strm.avail_out=0;b=m.inflateInit2(this.strm,c.windowBits);if(b!==u.Z_OK)throw Error(y[b]);this.header=new p;m.inflateGetHeader(this.strm,this.header)};g.prototype.push=function(b,c){var g,e,l,p,n=this.strm,E=this.options.chunkSize;
if(this.ended)return!1;c=c===~~c?c:!0===c?u.Z_FINISH:u.Z_NO_FLUSH;"string"==typeof b?n.input=r.binstring2buf(b):"[object ArrayBuffer]"===d.call(b)?n.input=new Uint8Array(b):n.input=b;n.next_in=0;n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new h.Buf8(E),n.next_out=0,n.avail_out=E),(g=m.inflate(n,u.Z_NO_FLUSH))!==u.Z_STREAM_END&&g!==u.Z_OK)return this.onEnd(g),this.ended=!0,!1;n.next_out&&(0!==n.avail_out&&g!==u.Z_STREAM_END&&(0!==n.avail_in||c!==u.Z_FINISH&&c!==u.Z_SYNC_FLUSH)||("string"===
this.options.to?(e=r.utf8border(n.output,n.next_out),l=n.next_out-e,p=r.buf2string(n.output,e),n.next_out=l,n.avail_out=E-l,l&&h.arraySet(n.output,n.output,e,l,0),this.onData(p)):this.onData(h.shrinkBuf(n.output,n.next_out))))}while(0<n.avail_in&&g!==u.Z_STREAM_END);return g===u.Z_STREAM_END&&(c=u.Z_FINISH),c===u.Z_FINISH?(g=m.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===u.Z_OK):c!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),n.avail_out=0,!0)};g.prototype.onData=function(b){this.chunks.push(b)};
g.prototype.onEnd=function(b){b===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};n.Inflate=g;n.inflate=c;n.inflateRaw=function(b,d){return(d=d||{}).raw=!0,c(b,d)};n.ungzip=c},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")}();(function(a,b){z.exports=b()})(this,
function(){return function(a){function b(c){if(e[c])return e[c].exports;var n=e[c]={i:c,l:!1,exports:{}};return a[c].call(n.exports,n,n.exports,b),n.l=!0,n.exports}var e={};return b.m=a,b.c=e,b.i=function(a){return a},b.d=function(a,c,e){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:e})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=
6)}([function(a,b,e){function c(a){0!=a.offset%4&&a.skip(4-a.offset%4)}a.exports.notNetcdf=function(a,b){if(a)throw new TypeError("Not a valid NetCDF v3.x file: "+b);};a.exports.padding=c;a.exports.readName=function(a){var b=a.readUint32();b=a.readChars(b);return c(a),b}},function(a,b,e){function c(a,b){if(1!==a){for(var c=Array(a),e=0;e<a;e++)c[e]=b();return c}return b()}var t=e(0).notNetcdf,m={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};a.exports=m;a.exports.num2str=function(a){switch(Number(a)){case m.BYTE:return"byte";
case m.CHAR:return"char";case m.SHORT:return"short";case m.INT:return"int";case m.FLOAT:return"float";case m.DOUBLE:return"double";default:return"undefined"}};a.exports.num2bytes=function(a){switch(Number(a)){case m.BYTE:case m.CHAR:return 1;case m.SHORT:return 2;case m.INT:case m.FLOAT:return 4;case m.DOUBLE:return 8;default:return-1}};a.exports.str2num=function(a){switch(String(a)){case "byte":return m.BYTE;case "char":return m.CHAR;case "short":return m.SHORT;case "int":return m.INT;case "float":return m.FLOAT;
case "double":return m.DOUBLE;default:return-1}};a.exports.readType=function(a,b,e){switch(b){case m.BYTE:return a.readBytes(e);case m.CHAR:return 0===(h=a.readChars(e)).charCodeAt(h.length-1)?h.substring(0,h.length-1):h;case m.SHORT:return c(e,a.readInt16.bind(a));case m.INT:return c(e,a.readInt32.bind(a));case m.FLOAT:return c(e,a.readFloat32.bind(a));case m.DOUBLE:return c(e,a.readFloat64.bind(a));default:return void t(!0,"non valid type "+b)}var h}},function(a,b){b=function(){return this}();try{b=
b||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(b=window)}a.exports=b},function(a,b,e){var c=e(1);a.exports.nonRecord=function(a,b){var e=c.str2num(b.type);b=b.size/c.num2bytes(e);for(var m=Array(b),n=0;n<b;n++)m[n]=c.readType(a,e,1);return m};a.exports.record=function(a,b,e){var h=c.str2num(b.type);b=b.size?b.size/c.num2bytes(h):1;var m=e.length,n=Array(m);e=e.recordStep;for(var t=0;t<m;t++){var p=a.offset;n[t]=c.readType(a,h,b);a.seek(p+e)}return n}},function(a,
b,e){function c(a){var b=a.readUint32();if(0===b)return t.notNetcdf(0!==a.readUint32(),"wrong empty tag for list of attributes"),[];t.notNetcdf(12!==b,"wrong tag for list of attributes");b=a.readUint32();for(var c=Array(b),e=0;e<b;e++){var h=t.readName(a),p=a.readUint32();t.notNetcdf(1>p||6<p,"non valid type "+p);var d=a.readUint32();d=m.readType(a,p,d);t.padding(a);c[e]={name:h,type:m.num2str(p),value:d}}return c}var t=e(0),m=e(1);a.exports=function(a,b){var e={recordDimension:{length:a.readUint32()}};
e.version=b;var h=function(a){var b,c,g=a.readUint32();if(0===g)return t.notNetcdf(0!==a.readUint32(),"wrong empty tag for list of dimensions"),[];t.notNetcdf(10!==g,"wrong tag for list of dimensions");g=a.readUint32();for(var e=Array(g),l=0;l<g;l++){var h=t.readName(a),m=a.readUint32();0===m&&(b=l,c=h);e[l]={name:h,size:m}}return{dimensions:e,recordId:b,recordName:c}}(a);e.recordDimension.id=h.recordId;e.recordDimension.name=h.recordName;e.dimensions=h.dimensions;e.globalAttributes=c(a);a=function(a,
b,d){var g=a.readUint32(),e=0;if(0===g)return t.notNetcdf(0!==a.readUint32(),"wrong empty tag for list of variables"),[];t.notNetcdf(11!==g,"wrong tag for list of variables");g=a.readUint32();for(var l=Array(g),h=0;h<g;h++){for(var p=t.readName(a),r=a.readUint32(),n=Array(r),u=0;u<r;u++)n[u]=a.readUint32();r=c(a);u=a.readUint32();t.notNetcdf(1>u&&6<u,"non valid type "+u);var U=a.readUint32(),q=a.readUint32();2===d&&(t.notNetcdf(0<q,"offsets larger than 4GB not supported"),q=a.readUint32());n[0]===
b&&(e+=U);l[h]={name:p,dimensions:n,attributes:r,type:m.num2str(u),size:U,offset:q,record:n[0]===b}}return{variables:l,recordStep:e}}(a,h.recordId,b);return e.variables=a.variables,e.recordDimension.recordStep=a.recordStep,e}},function(a,b,e){(function(b){var c=e(11),m=[];a.exports=function(a,b){b=b||{};var c=!1;void 0===a&&(a=8192);"number"==typeof a?a=new ArrayBuffer(a):(c=!0,this._lastWrittenByte=a.byteLength);b=b.offset?b.offset>>>0:0;var e=a.byteLength-b,h=b;a.buffer&&(a.byteLength!==a.buffer.byteLength&&
(h=a.byteOffset+b),a=a.buffer);this._lastWrittenByte=c?e:0;this.buffer=a;this.byteLength=this.length=e;this.byteOffset=h;this.offset=0;this.littleEndian=!0;this._data=new DataView(this.buffer,h,e);this._mark=0;this._marks=[]};a.exports.prototype.available=function(a){return void 0===a&&(a=1),this.offset+a<=this.length};a.exports.prototype.isLittleEndian=function(){return this.littleEndian};a.exports.prototype.setLittleEndian=function(){return this.littleEndian=!0,this};a.exports.prototype.isBigEndian=
function(){return!this.littleEndian};a.exports.prototype.setBigEndian=function(){return this.littleEndian=!1,this};a.exports.prototype.skip=function(a){return void 0===a&&(a=1),this.offset+=a,this};a.exports.prototype.seek=function(a){return this.offset=a,this};a.exports.prototype.mark=function(){return this._mark=this.offset,this};a.exports.prototype.reset=function(){return this.offset=this._mark,this};a.exports.prototype.pushMark=function(){return this._marks.push(this.offset),this};a.exports.prototype.popMark=
function(){var a=this._marks.pop();if(void 0===a)throw Error("Mark stack empty");return this.seek(a),this};a.exports.prototype.rewind=function(){return this.offset=0,this};a.exports.prototype.ensureAvailable=function(a){if(void 0===a&&(a=1),!this.available(a)){a=2*(this.offset+a);var b=new Uint8Array(a);b.set(new Uint8Array(this.buffer));this.buffer=b.buffer;this.length=this.byteLength=a;this._data=new DataView(this.buffer)}return this};a.exports.prototype.readBoolean=function(){return 0!==this.readUint8()};
a.exports.prototype.readInt8=function(){return this._data.getInt8(this.offset++)};a.exports.prototype.readUint8=function(){return this._data.getUint8(this.offset++)};a.exports.prototype.readByte=function(){return this.readUint8()};a.exports.prototype.readBytes=function(a){void 0===a&&(a=1);for(var b=new Uint8Array(a),c=0;c<a;c++)b[c]=this.readByte();return b};a.exports.prototype.readInt16=function(){var a=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,a};a.exports.prototype.readUint16=
function(){var a=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,a};a.exports.prototype.readInt32=function(){var a=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,a};a.exports.prototype.readUint32=function(){var a=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,a};a.exports.prototype.readFloat32=function(){var a=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,a};a.exports.prototype.readFloat64=
function(){var a=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,a};a.exports.prototype.readChar=function(){return String.fromCharCode(this.readInt8())};a.exports.prototype.readChars=function(a){void 0===a&&(a=1);m.length=a;for(var b=0;b<a;b++)m[b]=this.readChar();return m.join("")};a.exports.prototype.readUtf8=function(a){void 0===a&&(a=1);a=this.readChars(a);return c.decode(a)};a.exports.prototype.writeBoolean=function(a){return this.writeUint8(a?255:0),this};a.exports.prototype.writeInt8=
function(a){return this.ensureAvailable(1),this._data.setInt8(this.offset++,a),this._updateLastWrittenByte(),this};a.exports.prototype.writeUint8=function(a){return this.ensureAvailable(1),this._data.setUint8(this.offset++,a),this._updateLastWrittenByte(),this};a.exports.prototype.writeByte=function(a){return this.writeUint8(a)};a.exports.prototype.writeBytes=function(a){this.ensureAvailable(a.length);for(var b=0;b<a.length;b++)this._data.setUint8(this.offset++,a[b]);return this._updateLastWrittenByte(),
this};a.exports.prototype.writeInt16=function(a){return this.ensureAvailable(2),this._data.setInt16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this};a.exports.prototype.writeUint16=function(a){return this.ensureAvailable(2),this._data.setUint16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this};a.exports.prototype.writeInt32=function(a){return this.ensureAvailable(4),this._data.setInt32(this.offset,a,this.littleEndian),this.offset+=
4,this._updateLastWrittenByte(),this};a.exports.prototype.writeUint32=function(a){return this.ensureAvailable(4),this._data.setUint32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this};a.exports.prototype.writeFloat32=function(a){return this.ensureAvailable(4),this._data.setFloat32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this};a.exports.prototype.writeFloat64=function(a){return this.ensureAvailable(8),this._data.setFloat64(this.offset,
a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this};a.exports.prototype.writeChar=function(a){return this.writeUint8(a.charCodeAt(0))};a.exports.prototype.writeChars=function(a){for(var b=0;b<a.length;b++)this.writeUint8(a.charCodeAt(b));return this};a.exports.prototype.writeUtf8=function(a){a=c.encode(a);return this.writeChars(a)};a.exports.prototype.toArray=function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)};a.exports.prototype.getBuffer=function(){return void 0!==
b?b.from(this.toArray()):this.toArray()};a.exports.prototype._updateLastWrittenByte=function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)}}).call(b,e(8).Buffer)},function(a,b,e){var c=e(5),t=e(0),m=e(3),h=e(4);a.exports=function(a){a=new c(a);a.setBigEndian();t.notNetcdf("CDF"!==a.readChars(3),"should start with CDF");var b=a.readByte();t.notNetcdf(2<b,"unknown version");this.header=h(a,b);this.buffer=a};a.exports.prototype.getDataVariable=function(a){var b;return b="string"==
typeof a?this.header.variables.find(function(b){return b.name===a}):a,t.notNetcdf(void 0===b,"variable not found"),this.buffer.seek(b.offset),b.record?m.record(this.buffer,b,this.header.recordDimension):m.nonRecord(this.buffer,b)};$jscomp.global.Object.defineProperties(a.exports.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return 1===this.header.version?"classic format":"64-bit offset format"}},recordDimension:{configurable:!0,enumerable:!0,get:function(){return this.header.recordDimension}},
dimensions:{configurable:!0,enumerable:!0,get:function(){return this.header.dimensions}},globalAttributes:{configurable:!0,enumerable:!0,get:function(){return this.header.globalAttributes}},variables:{configurable:!0,enumerable:!0,get:function(){return this.header.variables}}})},function(a,b,e){function c(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function t(a,b,c){for(var e,d=[],g=b;g<c;g+=3)b=(a[g]<<16)+(a[g+1]<<
8)+a[g+2],d.push(m[(e=b)>>18&63]+m[e>>12&63]+m[e>>6&63]+m[63&e]);return d.join("")}b.byteLength=function(a){return 3*a.length/4-c(a)};b.toByteArray=function(a){var b=a.length;var e=c(a);var m=new r(3*b/4-e);var d=0<e?b-4:b;var g=0;for(b=0;b<d;b+=4){var n=h[a.charCodeAt(b)]<<18|h[a.charCodeAt(b+1)]<<12|h[a.charCodeAt(b+2)]<<6|h[a.charCodeAt(b+3)];m[g++]=n>>16&255;m[g++]=n>>8&255;m[g++]=255&n}2===e?(n=h[a.charCodeAt(b)]<<2|h[a.charCodeAt(b+1)]>>4,m[g++]=255&n):1===e&&(n=h[a.charCodeAt(b)]<<10|h[a.charCodeAt(b+
1)]<<4|h[a.charCodeAt(b+2)]>>2,m[g++]=n>>8&255,m[g++]=255&n);return m};b.fromByteArray=function(a){for(var b,c=a.length,e=c%3,d="",g=[],h=0,l=c-e;h<l;h+=16383)g.push(t(a,h,h+16383>l?l:h+16383));1===e?(b=a[c-1],d+=m[b>>2],d+=m[b<<4&63],d+="=="):2===e&&(b=(a[c-2]<<8)+a[c-1],d+=m[b>>10],d+=m[b>>4&63],d+=m[b<<2&63],d+="=");return g.push(d),g.join("")};var m=[],h=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array;for(a=0;64>a;++a)m[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a],
h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=a;h[45]=62;h[95]=63},function(a,b,e){(function(a){function c(a,b){if((m.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<b)throw new RangeError("Invalid typed array length");return m.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b)).__proto__=m.prototype:(null===a&&(a=new m(b)),a.length=b),a}function m(a,b,c){if(!(m.TYPED_ARRAY_SUPPORT||this instanceof m))return new m(a,b,c);if("number"==typeof a){if("string"==typeof b)throw Error("If encoding is specified then the first argument must be a string");
return u(this,a)}return h(this,a,b,c)}function h(a,b,d,g){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?function(a,b,c,d){if(b.byteLength,0>c||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d);m.TYPED_ARRAY_SUPPORT?
(a=b).__proto__=m.prototype:a=y(a,b);return a}(a,b,d,g):"string"==typeof b?function(a,b,d){"string"==typeof d&&""!==d||(d="utf8");if(!m.isEncoding(d))throw new TypeError('"encoding" must be a valid string encoding');var g=0|p(b,d);b=(a=c(a,g)).write(b,d);b!==g&&(a=a.slice(0,b));return a}(a,b,d):function(a,b){if(m.isBuffer(b)){var d=0|x(b.length);return 0===(a=c(a,d)).length?a:(b.copy(a,0,0,d),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=
typeof b.length||(d=b.length)!=d?c(a,0):y(a,b);if("Buffer"===b.type&&H(b.data))return y(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}(a,b)}function n(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(0>a)throw new RangeError('"size" argument must not be negative');}function u(a,b){if(n(b),a=c(a,0>b?0:0|x(b)),!m.TYPED_ARRAY_SUPPORT)for(var d=0;d<b;++d)a[d]=0;return a}function y(a,b){var d=0>b.length?
0:0|x(b.length);a=c(a,d);for(var g=0;g<d;g+=1)a[g]=255&b[g];return a}function x(a){if(a>=(m.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(m.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|a}function p(a,b){if(m.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&
(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case "ascii":case "latin1":case "binary":return c;case "utf8":case "utf-8":case void 0:return M(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*c;case "hex":return c>>>1;case "base64":return ia(a).length;default:if(d)return M(a).length;b=(""+b).toLowerCase();d=!0}}function d(a,b,c){var d=!1;if(((void 0===b||0>b)&&(b=0),b>this.length)||((void 0===c||c>this.length)&&(c=this.length),0>=c)||(c>>>=0)<=(b>>>=0))return"";
for(a||(a="utf8");;)switch(a){case "hex":a=b;b=c;c=this.length;(!a||0>a)&&(a=0);(!b||0>b||b>c)&&(b=c);d="";for(c=a;c<b;++c)a=d,d=this[c],d=16>d?"0"+d.toString(16):d.toString(16),d=a+d;return d;case "utf8":case "utf-8":return A(this,b,c);case "ascii":a="";for(c=Math.min(this.length,c);b<c;++b)a+=String.fromCharCode(127&this[b]);return a;case "latin1":case "binary":a="";for(c=Math.min(this.length,c);b<c;++b)a+=String.fromCharCode(this[b]);return a;case "base64":return 0===b&&c===this.length?K.fromByteArray(this):
K.fromByteArray(this.slice(b,c));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,c);c="";for(a=0;a<b.length;a+=2)c+=String.fromCharCode(b[a]+256*b[a+1]);return c;default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();d=!0}}function g(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function E(a,b,c,d,g){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):2147483647<c?c=2147483647:-2147483648>c&&(c=-2147483648),c=+c,isNaN(c)&&(c=g?0:a.length-1),0>c&&(c=a.length+
c),c>=a.length){if(g)return-1;c=a.length-1}else if(0>c){if(!g)return-1;c=0}if("string"==typeof b&&(b=m.from(b,d)),m.isBuffer(b))return 0===b.length?-1:l(a,b,c,d,g);if("number"==typeof b)return b&=255,m.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?g?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):l(a,[b],c,d,g);throw new TypeError("val must be string, number or Buffer");}function l(a,b,c,d,g){function e(a,b){return 1===l?a[b]:a.readUInt16BE(b*
l)}var l=1,h=a.length,m=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(2>a.length||2>b.length)return-1;l=2;h/=2;m/=2;c/=2}if(g)for(d=-1;c<h;c++)if(e(a,c)===e(b,-1===d?0:c-d)){if(-1===d&&(d=c),c-d+1===m)return d*l}else-1!==d&&(c-=c-d),d=-1;else for(c+m>h&&(c=h-m);0<=c;c--){h=!0;for(d=0;d<m;d++)if(e(a,c+d)!==e(b,d)){h=!1;break}if(h)return c}return-1}function L(a,b,c,d){for(var g=[],e=0;e<b.length;++e)g.push(255&b.charCodeAt(e));return X(g,
a,c,d)}function A(a,b,c){c=Math.min(a.length,c);for(var d=[];b<c;){var g,e,l=a[b],h=null,m=239<l?4:223<l?3:191<l?2:1;if(b+m<=c)switch(m){case 1:128>l&&(h=l);break;case 2:128==(192&(g=a[b+1]))&&127<(e=(31&l)<<6|63&g)&&(h=e);break;case 3:g=a[b+1];var p=a[b+2];128==(192&g)&&128==(192&p)&&2047<(e=(15&l)<<12|(63&g)<<6|63&p)&&(55296>e||57343<e)&&(h=e);break;case 4:g=a[b+1];p=a[b+2];var q=a[b+3];128==(192&g)&&128==(192&p)&&128==(192&q)&&65535<(e=(15&l)<<18|(63&g)<<12|(63&p)<<6|63&q)&&1114112>e&&(h=e)}null===
h?(h=65533,m=1):65535<h&&(h-=65536,d.push(h>>>10&1023|55296),h=56320|1023&h);d.push(h);b+=m}a=d.length;if(a<=ta)d=String.fromCharCode.apply(String,d);else{c="";for(g=0;g<a;)c+=String.fromCharCode.apply(String,d.slice(g,g+=ta));d=c}return d}function B(a,b,c){if(0!=a%1||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length");}function S(a,b,c,d,g,e){if(!m.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>
g||b<e)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range");}function C(a,b,c,d){0>b&&(b=65535+b+1);for(var g=0,e=Math.min(a.length-c,2);g<e;++g)a[c+g]=(b&255<<8*(d?g:1-g))>>>8*(d?g:1-g)}function U(a,b,c,d){0>b&&(b=4294967295+b+1);for(var g=0,e=Math.min(a.length-c,4);g<e;++g)a[c+g]=b>>>8*(d?g:3-g)&255}function q(a,b,c,d,g,e){if(c+d>a.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("Index out of range");}
function M(a,b){var c;b=b||1/0;for(var d=a.length,g=null,e=[],l=0;l<d;++l){if(55295<(c=a.charCodeAt(l))&&57344>c){if(!g){if(56319<c){-1<(b-=3)&&e.push(239,191,189);continue}if(l+1===d){-1<(b-=3)&&e.push(239,191,189);continue}g=c;continue}if(56320>c){-1<(b-=3)&&e.push(239,191,189);g=c;continue}c=65536+(g-55296<<10|c-56320)}else g&&-1<(b-=3)&&e.push(239,191,189);if(g=null,128>c){if(0>--b)break;e.push(c)}else if(2048>c){if(0>(b-=2))break;e.push(c>>6|192,63&c|128)}else if(65536>c){if(0>(b-=3))break;e.push(c>>
12|224,c>>6&63|128,63&c|128)}else{if(!(1114112>c))throw Error("Invalid code point");if(0>(b-=4))break;e.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return e}function ia(a){return K.toByteArray(function(a){if(2>(a=(a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")).replace(z,"")).length)return"";for(;0!=a.length%4;)a+="=";return a}(a))}function X(a,b,c,d){for(var g=0;g<d&&!(g+c>=b.length||g>=a.length);++g)b[g+c]=a[g];return g}var K=e(7),N=e(9),H=e(10);$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();
$jscomp.initSymbol();b.Buffer=m;b.SlowBuffer=function(a){+a!=a&&(a=0);return m.alloc(+a)};b.INSPECT_MAX_BYTES=50;m.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?a.TYPED_ARRAY_SUPPORT:function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(W){return!1}}();b.kMaxLength=m.TYPED_ARRAY_SUPPORT?2147483647:1073741823;m.poolSize=8192;m._augment=function(a){return a.__proto__=
m.prototype,a};m.from=function(a,b,c){return h(null,a,b,c)};m.TYPED_ARRAY_SUPPORT&&(m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0}));m.alloc=function(a,b,d){return n(a),0>=a?c(null,a):void 0!==b?"string"==typeof d?c(null,a).fill(b,d):c(null,a).fill(b):c(null,a)};m.allocUnsafe=function(a){return u(null,a)};m.allocUnsafeSlow=function(a){return u(null,
a)};m.isBuffer=function(a){return!(null==a||!a._isBuffer)};m.compare=function(a,b){if(!m.isBuffer(a)||!m.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,g=0,e=Math.min(c,d);g<e;++g)if(a[g]!==b[g]){c=a[g];d=b[g];break}return c<d?-1:d<c?1:0};m.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};m.concat=function(a,b){if(!H(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return m.alloc(0);var c;if(void 0===b)for(c=b=0;c<a.length;++c)b+=a[c].length;b=m.allocUnsafe(b);var d=0;for(c=0;c<a.length;++c){var g=a[c];if(!m.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(b,d);d+=g.length}return b};m.byteLength=p;m.prototype._isBuffer=!0;m.prototype.swap16=function(){var a=this.length;if(0!=a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var b=0;b<a;b+=2)g(this,b,b+1);return this};m.prototype.swap32=function(){var a=this.length;if(0!=a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)g(this,b,b+3),g(this,b+1,b+2);return this};m.prototype.swap64=function(){var a=this.length;if(0!=a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)g(this,b,b+7),g(this,b+1,b+6),g(this,b+2,b+5),g(this,b+3,b+4);return this};m.prototype.toString=function(){var a=0|this.length;
return 0===a?"":0===arguments.length?A(this,0,a):d.apply(this,arguments)};m.prototype.equals=function(a){if(!m.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===m.compare(this,a)};m.prototype.inspect=function(){var a="",c=b.INSPECT_MAX_BYTES;return 0<this.length&&(a=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(a+=" ... ")),"<Buffer "+a+">"};m.prototype.compare=function(a,b,c,d,g){if(!m.isBuffer(a))throw new TypeError("Argument must be a Buffer");
if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===g&&(g=this.length),0>b||c>a.length||0>d||g>this.length)throw new RangeError("out of range index");if(d>=g&&b>=c)return 0;if(d>=g)return-1;if(b>=c)return 1;if(this===a)return 0;var e=(g>>>=0)-(d>>>=0),l=(c>>>=0)-(b>>>=0),h=Math.min(e,l);d=this.slice(d,g);a=a.slice(b,c);for(b=0;b<h;++b)if(d[b]!==a[b]){e=d[b];l=a[b];break}return e<l?-1:l<e?1:0};m.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)};m.prototype.indexOf=
function(a,b,c){return E(this,a,b,c,!0)};m.prototype.lastIndexOf=function(a,b,c){return E(this,a,b,c,!1)};m.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0;isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var g=this.length-b;if((void 0===c||c>g)&&(c=g),0<a.length&&(0>c||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");
d||(d="utf8");for(g=!1;;)switch(d){case "hex":a:{b=Number(b)||0;d=this.length-b;c?(c=Number(c))>d&&(c=d):c=d;d=a.length;if(0!=d%2)throw new TypeError("Invalid hex string");c>d/2&&(c=d/2);for(d=0;d<c;++d){g=parseInt(a.substr(2*d,2),16);if(isNaN(g)){c=d;break a}this[b+d]=g}c=d}return c;case "utf8":case "utf-8":return X(M(a,this.length-b),this,b,c);case "ascii":return L(this,a,b,c);case "latin1":case "binary":return L(this,a,b,c);case "base64":return X(ia(a),this,b,c);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":d=
c;g=this.length-b;for(var e=[],l=0;l<a.length&&!(0>(g-=2));++l){var h=a.charCodeAt(l);c=h>>8;h%=256;e.push(h);e.push(c)}return X(e,this,b,d);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase();g=!0}};m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ta=4096;m.prototype.slice=function(a,b){var c=this.length;if(0>(a=~~a)?0>(a+=c)&&(a=0):a>c&&(a=c),0>(b=void 0===b?c:~~b)?0>(b+=c)&&(b=0):b>c&&(b=c),b<a&&(b=a),m.TYPED_ARRAY_SUPPORT)(b=
this.subarray(a,b)).__proto__=m.prototype;else{c=b-a;b=new m(c,void 0);for(var d=0;d<c;++d)b[d]=this[d+a]}return b};m.prototype.readUIntLE=function(a,b,c){a|=0;b|=0;c||B(a,b,this.length);c=this[a];for(var d=1,g=0;++g<b&&(d*=256);)c+=this[a+g]*d;return c};m.prototype.readUIntBE=function(a,b,c){a|=0;b|=0;c||B(a,b,this.length);c=this[a+--b];for(var d=1;0<b&&(d*=256);)c+=this[a+--b]*d;return c};m.prototype.readUInt8=function(a,b){return b||B(a,1,this.length),this[a]};m.prototype.readUInt16LE=function(a,
b){return b||B(a,2,this.length),this[a]|this[a+1]<<8};m.prototype.readUInt16BE=function(a,b){return b||B(a,2,this.length),this[a]<<8|this[a+1]};m.prototype.readUInt32LE=function(a,b){return b||B(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};m.prototype.readUInt32BE=function(a,b){return b||B(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};m.prototype.readIntLE=function(a,b,c){a|=0;b|=0;c||B(a,b,this.length);c=this[a];for(var d=1,g=0;++g<b&&(d*=
256);)c+=this[a+g]*d;return c>=128*d&&(c-=Math.pow(2,8*b)),c};m.prototype.readIntBE=function(a,b,c){a|=0;b|=0;c||B(a,b,this.length);c=b;for(var d=1,g=this[a+--c];0<c&&(d*=256);)g+=this[a+--c]*d;return g>=128*d&&(g-=Math.pow(2,8*b)),g};m.prototype.readInt8=function(a,b){return b||B(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]};m.prototype.readInt16LE=function(a,b){b||B(a,2,this.length);a=this[a]|this[a+1]<<8;return 32768&a?4294901760|a:a};m.prototype.readInt16BE=function(a,b){b||B(a,2,this.length);
a=this[a+1]|this[a]<<8;return 32768&a?4294901760|a:a};m.prototype.readInt32LE=function(a,b){return b||B(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};m.prototype.readInt32BE=function(a,b){return b||B(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};m.prototype.readFloatLE=function(a,b){return b||B(a,4,this.length),N.read(this,a,!0,23,4)};m.prototype.readFloatBE=function(a,b){return b||B(a,4,this.length),N.read(this,a,!1,23,4)};m.prototype.readDoubleLE=function(a,
b){return b||B(a,8,this.length),N.read(this,a,!0,52,8)};m.prototype.readDoubleBE=function(a,b){return b||B(a,8,this.length),N.read(this,a,!1,52,8)};m.prototype.writeUIntLE=function(a,b,c,d){(a=+a,b|=0,c|=0,d)||S(this,a,b,c,Math.pow(2,8*c)-1,0);d=1;var g=0;for(this[b]=255&a;++g<c&&(d*=256);)this[b+g]=a/d&255;return b+c};m.prototype.writeUIntBE=function(a,b,c,d){(a=+a,b|=0,c|=0,d)||S(this,a,b,c,Math.pow(2,8*c)-1,0);d=c-1;var g=1;for(this[b+d]=255&a;0<=--d&&(g*=256);)this[b+d]=a/g&255;return b+c};m.prototype.writeUInt8=
function(a,b,c){return a=+a,b|=0,c||S(this,a,b,1,255,0),m.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1};m.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||S(this,a,b,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):C(this,a,b,!0),b+2};m.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||S(this,a,b,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):C(this,a,b,!1),b+2};m.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||S(this,
a,b,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):U(this,a,b,!0),b+4};m.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||S(this,a,b,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):U(this,a,b,!1),b+4};m.prototype.writeIntLE=function(a,b,c,d){(a=+a,b|=0,d)||(d=Math.pow(2,8*c-1),S(this,a,b,c,d-1,-d));d=0;var g=1,e=0;for(this[b]=255&a;++d<c&&(g*=256);)0>a&&0===e&&0!==this[b+d-1]&&
(e=1),this[b+d]=(a/g>>0)-e&255;return b+c};m.prototype.writeIntBE=function(a,b,c,d){(a=+a,b|=0,d)||(d=Math.pow(2,8*c-1),S(this,a,b,c,d-1,-d));d=c-1;var g=1,e=0;for(this[b+d]=255&a;0<=--d&&(g*=256);)0>a&&0===e&&0!==this[b+d+1]&&(e=1),this[b+d]=(a/g>>0)-e&255;return b+c};m.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||S(this,a,b,1,127,-128),m.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=255&a,b+1};m.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||S(this,a,b,2,
32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):C(this,a,b,!0),b+2};m.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||S(this,a,b,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):C(this,a,b,!1),b+2};m.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||S(this,a,b,4,2147483647,-2147483648),m.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):U(this,a,b,!0),b+4};m.prototype.writeInt32BE=function(a,b,c){return a=
+a,b|=0,c||S(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),m.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):U(this,a,b,!1),b+4};m.prototype.writeFloatLE=function(a,b,c){return c||q(this,0,b,4),N.write(this,a,b,!0,23,4),b+4};m.prototype.writeFloatBE=function(a,b,c){return c||q(this,0,b,4),N.write(this,a,b,!1,23,4),b+4};m.prototype.writeDoubleLE=function(a,b,c){return c||q(this,0,b,8),N.write(this,a,b,!0,52,8),b+8};m.prototype.writeDoubleBE=function(a,
b,c){return c||q(this,0,b,8),N.write(this,a,b,!1,52,8),b+8};m.prototype.copy=function(a,b,c,d){if((c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),0<d&&d<c&&(d=c),d===c)||0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>d)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length);a.length-b<d-c&&(d=a.length-b+c);var g=d-c;if(this===
a&&c<b&&b<d)for(d=g-1;0<=d;--d)a[d+b]=this[d+c];else if(1E3>g||!m.TYPED_ARRAY_SUPPORT)for(d=0;d<g;++d)a[d+b]=this[d+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);return g};m.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var g=a.charCodeAt(0);256>g&&(a=g)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!m.isEncoding(d))throw new TypeError("Unknown encoding: "+
d);}else"number"==typeof a&&(a&=255);if(0>b||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;if(b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0),"number"==typeof a)for(d=b;d<c;++d)this[d]=a;else for(a=m.isBuffer(a)?a:M((new m(a,d)).toString()),g=a.length,d=0;d<c-b;++d)this[d+b]=a[d%g];return this};var z=/[^+\/0-9A-Za-z-_]/g}).call(b,e(2))},function(a,b){b.read=function(a,b,c,m,h){var e=8*h-m-1;var n=(1<<e)-1,t=n>>1,x=-7;h=c?h-1:0;var p=c?-1:1,d=a[b+h];h+=
p;c=d&(1<<-x)-1;d>>=-x;for(x+=e;0<x;c=256*c+a[b+h],h+=p,x-=8);e=c&(1<<-x)-1;c>>=-x;for(x+=m;0<x;e=256*e+a[b+h],h+=p,x-=8);if(0===c)c=1-t;else{if(c===n)return e?NaN:1/0*(d?-1:1);e+=Math.pow(2,m);c-=t}return(d?-1:1)*e*Math.pow(2,c-m)};b.write=function(a,b,c,m,h,r){var e,n,t,p=8*r-h-1,d=(1<<p)-1,g=d>>1,E=23===h?Math.pow(2,-24)-Math.pow(2,-77):0;r=m?0:r-1;m=m?1:-1;var l=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);for(isNaN(b)||b===1/0?(n=isNaN(b)?1:0,e=d):(e=Math.floor(Math.log(b)/Math.LN2),1>b*(t=Math.pow(2,
-e))&&(e--,t*=2),2<=(b+=1<=e+g?E/t:E*Math.pow(2,1-g))*t&&(e++,t/=2),e+g>=d?(n=0,e=d):1<=e+g?(n=(b*t-1)*Math.pow(2,h),e+=g):(n=b*Math.pow(2,g-1)*Math.pow(2,h),e=0));8<=h;a[c+r]=255&n,r+=m,n/=256,h-=8);e=e<<h|n;for(p+=h;0<p;a[c+r]=255&e,r+=m,e/=256,p-=8);a[c+r-m]|=128*l}},function(a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},function(a,b,e){(function(a,b){var c;!function(e){function h(a){for(var b,c,d=[],g=0,e=a.length;g<e;)55296<=(b=a.charCodeAt(g++))&&
56319>=b&&g<e?56320==(64512&(c=a.charCodeAt(g++)))?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),g--):d.push(b);return d}function m(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");}function n(){if(g>=d)throw Error("Invalid byte index");var a=255&p[g];if(g++,128==(192&a))return 63&a;throw Error("Invalid continuation byte");}function t(){var a,b;if(g>d)throw Error("Invalid byte index");if(g==d)return!1;if(a=255&p[g],g++,0==(128&a))return a;
if(192==(224&a)){if(128<=(b=(31&a)<<6|n()))return b;throw Error("Invalid continuation byte");}if(224==(240&a)){if(2048<=(b=(15&a)<<12|n()<<6|n()))return m(b),b;throw Error("Invalid continuation byte");}if(240==(248&a)&&65536<=(b=(7&a)<<18|n()<<12|n()<<6|n())&&1114111>=b)return b;throw Error("Invalid UTF-8 detected");}e=("object"==typeof a&&a&&a.exports,"object"==typeof b&&b);e.global!==e&&e.window;var p,d,g,E=String.fromCharCode;void 0===(c={version:"2.1.2",encode:function(a){a=h(a);for(var b=a.length,
c=-1,d="";++c<b;){var g=a[c];if(0==(4294967168&g))g=E(g);else{var e="";g=(0==(4294965248&g)?e=E(g>>6&31|192):0==(4294901760&g)?(m(g),e=E(g>>12&15|224),e+=E(g>>6&63|128)):0==(4292870144&g)&&(e=E(g>>18&7|240),e+=E(g>>12&63|128),e+=E(g>>6&63|128)),e+E(63&g|128))}d+=g}return d},decode:function(a){p=h(a);d=p.length;g=0;var b;for(a=[];!1!==(b=t());)a.push(b);var c;b=a.length;for(var e=-1,l="";++e<b;)65535<(c=a[e])&&(l+=E((c-=65536)>>>10&1023|55296),c=56320|1023&c),l+=E(c);return l}})||(a.exports=c)}()}).call(b,
e(12)(a),e(2))},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}}])});b=I||{};"object"==typeof z.exports&&(z.exports=b);String.prototype.startsWith||(String.prototype.startsWith=function(a){return 0===this.lastIndexOf(a,0)});String.prototype.endsWith||
(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});F.ajaxTransport("+binary",function(a,b,e){if(window.FormData&&(a.dataType&&"binary"==a.dataType||a.data&&(window.ArrayBuffer&&a.data instanceof ArrayBuffer||window.Blob&&a.data instanceof Blob)))return{send:function(b,c){var e=new XMLHttpRequest,h=a.url,n=a.type,t=a.async||!0,y=a.responseType||"blob",x=a.data||null,p=a.username||null,d=a.password||null,g=function(){var b={};b[a.dataType]=e.response;c(e.status,
e.statusText,b,e.getAllResponseHeaders())},E;for(E in e.addEventListener("load",g),e.addEventListener("error",g),e.addEventListener("abort",g),e.open(n,h,t,p,d),b)e.setRequestHeader(E,b[E]);e.responseType=y;e.send(x)},abort:function(){e.abort()}}});b.createViewer=function(a,c,e){if("string"===F.type(a)&&(a=F("#"+a)),a){c=c||{};e=e||{};try{return new b.GLViewer(a,c,e)}catch(n){throw"error creating viewer: "+n;}}};b.createViewerGrid=function(a,c,e){if("string"===F.type(a)&&(a=F("#"+a)),a){c=c||{};e=
e||{};var n=[],t=document.createElement("canvas");e.rows=c.rows;e.cols=c.cols;e.control_all=null!=c.control_all&&c.control_all;F(a).append(F(t));try{for(var m=0;m<c.rows;m++){for(var h=[],r=0;r<c.cols;r++){e.row=m;e.col=r;e.canvas=t;e.viewers=n;e.control_all=c.control_all;var u=b.createViewer(a,e);h.push(u)}n.unshift(h)}}catch(y){throw"error creating viewer grid: "+y;}return n}};b.viewers={};b.getbin=function(a,b,e,n){var c=new Promise(function(b,c){e=null==e?"GET":e;F.ajax({url:a,dataType:"binary",
method:e,data:n,responseType:"arraybuffer",processData:!1}).done(function(a){b(a)}).fail(function(a,b){console.log(b);c()})});return b?c.then(b):c};b.base64ToArray=function(a){a=window.atob(a);for(var b=a.length,e=new Uint8Array(b),n=0;n<b;n++)e[n]=a.charCodeAt(n);return e};b.download=function(a,c,e,n){var t="",m="",h="",r="",u=null,y=c.addModel();if("mmtf:"===a.substr(0,5))m=e&&e.pdbUri?e.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",a=a.substr(5).toUpperCase(),r=m+a,e&&void 0===e.noComputeSecondaryStructure&&
(e.noComputeSecondaryStructure=!0),u=new Promise(function(a){b.getbin(r).then(function(b){y.addMolData(b,"mmtf",e);c.zoomTo();c.render();a(y)})});else{if("pdb:"===a.substr(0,4)){if(t="mmtf",e&&e.format&&(t=e.format),e&&void 0===e.noComputeSecondaryStructure&&(e.noComputeSecondaryStructure=!0),!(a=a.substr(4).toUpperCase()).match(/^[1-9][A-Za-z0-9]{3}$/))return void alert("Wrong PDB ID");"mmtf"==t?(h=e&&e.mmtfUri?e.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",r=h+a.toUpperCase()):(m=e&&e.pdbUri?e.pdbUri:
"https://files.rcsb.org/view/",r=m+a+"."+t)}else if("cid:"==a.substr(0,4)){if(t="sdf",!(a=a.substr(4)).match(/^[0-9]+$/))return void alert("Wrong Compound ID");r="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+a+"/SDF?record_type=3d"}else"url:"==a.substr(0,4)&&(r=a.substr(4),t=r);var x=function(a){y.addMolData(a,t,e);c.zoomTo();c.render()};u=new Promise(function(a){"mmtf"==t?b.getbin(r).then(function(b){x(b);a(y)}):F.get(r,function(b){x(b);a(y)}).fail(function(a){console.log("fetch of "+
r+" failed: "+a.statusText)})})}return n?(u.then(function(a){n(a)}),y):u};b.SurfaceType={VDW:1,MS:2,SAS:3,SES:4};b.mergeGeos=function(a,b){b=b.geometry;void 0!==b&&a.geometryGroups.push(b.geometryGroups[0])};b.multiLineString=function(a){return a.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")};b.syncSurface=!1;(0<=window.navigator.userAgent.indexOf("MSIE ")||0<=window.navigator.userAgent.indexOf("Trident/"))&&(b.syncSurface=!0);b.specStringToObject=function(a){if("object"==typeof a||
void 0===a||null==a)return a;var b=function(a){return F.isNumeric(a)?Math.floor(parseFloat(a))==parseInt(a)?parseFloat(a):0<=a.indexOf(".")?parseFloat(a):parseInt(a):"true"===a||"false"!==a&&a},e={};if("all"===(a=a.replace(/%7E/,"~")))return e;a=a.split(";");for(var n=0;n<a.length;n++){var t=a[n].split(":"),m=t[0],h={};if(t=t[1])if(-1!==(t=t.replace(/~/g,"=")).indexOf("=")){t=t.split(",");for(var r=0;r<t.length;r++){var u=t[r].split("=",2);h[u[0]]=b(u[1])}}else h=-1!==t.indexOf(",")?t.split(","):
b(t);e[m]=h}return e};b.getExtent=function(a,b){var c,n,t,m,h,r,u,y,x,p=!b;if(b=c=n=9999,t=m=h=-9999,r=u=y=x=0,0===a.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var d=0;d<a.length;d++){var g=a[d];if(void 0!==g&&isFinite(g.x)&&isFinite(g.y)&&isFinite(g.z)&&(x++,r+=g.x,u+=g.y,y+=g.z,b=b<g.x?b:g.x,c=c<g.y?c:g.y,n=n<g.z?n:g.z,t=t>g.x?t:g.x,m=m>g.y?m:g.y,h=h>g.z?h:g.z,g.symmetries&&p))for(var E=0;E<g.symmetries.length;E++)x++,r+=g.symmetries[E].x,u+=g.symmetries[E].y,y+=g.symmetries[E].z,b=b<g.symmetries[E].x?
b:g.symmetries[E].x,c=c<g.symmetries[E].y?c:g.symmetries[E].y,n=n<g.symmetries[E].z?n:g.symmetries[E].z,t=t>g.symmetries[E].x?t:g.symmetries[E].x,m=m>g.symmetries[E].y?m:g.symmetries[E].y,h=h>g.symmetries[E].z?h:g.symmetries[E].z}return[[b,c,n],[t,m,h],[r/x,u/x,y/x]]};b.getAtomProperty=function(a,b){var c=null;return a.properties&&void 0!==a.properties[b]?c=a.properties[b]:void 0!==a[b]&&(c=a[b]),c};b.getPropertyRange=function(a,c){for(var e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,t=0,
m=a.length;t<m;t++){var h=b.getAtomProperty(a[t],c);null!=h&&(h<e&&(e=h),h>n&&(n=h))}return isFinite(e)||isFinite(n)?isFinite(e)?isFinite(n)||(n=e):e=n:e=n=0,[e,n]};!(na=[],Ua=function(){return b}.apply(Y,na),void 0!==Ua&&(z.exports=Ua));b.createStereoViewer=function(a){var c=this;if("string"===F.type(a)&&(a=F("#"+a)),a){a=b.createViewerGrid(a,{rows:1,cols:2,control_all:!0});this.glviewer1=a[0][0];this.glviewer2=a[0][1];this.glviewer1.setAutoEyeSeparation(!1);this.glviewer2.setAutoEyeSeparation(!0);
this.glviewer1.linkViewer(this.glviewer2);this.glviewer2.linkViewer(this.glviewer1);a=Object.getOwnPropertyNames(this.glviewer1).filter(function(a){return"function"==typeof c.glviewer1[a]});for(var e=0;e<a.length;e++)this[a[e]]=function(a){return function(){var b=this.glviewer1[a].apply(this.glviewer1,arguments),c=this.glviewer2[a].apply(this.glviewer2,arguments);return[b,c]}}(a[e]);this.setCoordinates=function(a,b,c){for(var e=0;e<a.length;e++)a[e].setCoordinates(b,c)};this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&
this.glviewer2.surfacesFinished()};this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()};this.render=function(a){this.glviewer1.render();this.glviewer2.render();a&&a(this)};this.getCanvas=function(){return this.glviewer1.getCanvas()}}};var b=b||{};b.Math={clamp:function(a,b,e){return Math.min(Math.max(a,b),e)},degToRad:function(){var a=Math.PI/180;return function(b){return b*a}}()};b.Quaternion=function(a,b,e,n){this.x=a||0;this.y=b||0;this.z=e||0;this.w=void 0!==
n?n:1};b.Quaternion.prototype={constructor:b.Quaternion,set:function(a,b,e,n){return this.x=a,this.y=b,this.z=e,this.w=n,this},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w,this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthxyz:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var a=
this.length();return 0===a?(this.x=0,this.y=0,this.z=0,this.w=1):(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a),this},multiply:function(a){return this.multiplyQuaternions(this,a)},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},multiplyQuaternions:function(a,b){var c=a.x,n=a.y,t=a.z;a=a.w;var m=b.x,h=b.y,r=b.z;b=b.w;return this.x=c*b+a*m+n*r-t*h,this.y=n*b+a*h+t*m-c*r,this.z=t*b+a*r+c*h-n*m,this.w=a*b-c*m-n*h-t*r,this},sub:function(a){return this.x-=a.x,this.y-=a.y,
this.z-=a.z,this.w-=a.w,this},clone:function(){return new b.Quaternion(this.x,this.y,this.z,this.w)},setFromEuler:function(a){var b=Math.cos(a.x/2),e=Math.cos(a.y/2),n=Math.cos(a.z/2),t=Math.sin(a.x/2),m=Math.sin(a.y/2);a=Math.sin(a.z/2);return this.x=t*e*n+b*m*a,this.y=b*m*n-t*e*a,this.z=b*e*a+t*m*n,this.w=b*e*n-t*m*a,this}};b.Vector2=function(a,b){this.x=a||0;this.y=b||0};b.Vector2.prototype={constructor:b.Vector2,set:function(a,b){return this.x=a,this.y=b,this},subVectors:function(a,b){return this.x=
a.x-b.x,this.y=a.y-b.y,this},copy:function(a){return this.x=a.x,this.y=a.y,this},clone:function(){return new b.Vector2(this.x,this.y)}};b.Vector3=function(a,b,e){this.x=a||0;this.y=b||0;this.z=e||0};b.Vector3.prototype={constructor:b.Vector3,set:function(a,b,e){return this.x=a,this.y=b,this.z=e,this},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+
b.z,this},sub:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this},divideScalar:function(a){return 0!==a?(this.x/=a,this.y/=a,this.z/=a):(this.x=0,this.y=0,this.z=0),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=
Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,e=this.y-a.y;a=this.z-a.z;return b*b+e*e+a*a},applyMatrix4:function(a){var b=this.x,e=this.y,n=this.z;a=a.elements;return this.x=a[0]*b+a[4]*e+a[8]*n+a[12],this.y=a[1]*b+a[5]*e+a[9]*n+a[13],this.z=a[2]*b+a[6]*e+a[10]*n+a[14],this},applyProjection:function(a){var b=this.x,e=this.y,n=this.z;a=a.elements;var t=a[3]*b+a[7]*e+a[11]*n+
a[15];return this.x=(a[0]*b+a[4]*e+a[8]*n+a[12])/t,this.y=(a[1]*b+a[5]*e+a[9]*n+a[13])/t,this.z=(a[2]*b+a[6]*e+a[10]*n+a[14])/t,this},applyQuaternion:function(a){var b=this.x,e=this.y,n=this.z,t=a.x,m=a.y,h=a.z;a=a.w;var r=2*(e*h-n*m);var u=2*(n*t-b*h);var y=2*(b*m-e*t);var x,p,d;return x=u*h-y*m,p=y*t-r*h,d=r*m-u*t,this.x=b+a*r+x,this.y=e+a*u+p,this.z=n+a*y+d,this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(a){var b=this.x,e=this.y,n=this.z;return this.x=e*a.z-n*a.y,this.y=n*a.x-b*a.z,this.z=b*a.y-e*a.x,this},crossVectors:function(a,b){return this.x=a.y*b.z-a.z*b.y,this.y=a.z*b.x-a.x*b.z,this.z=a.x*b.y-a.y*b.x,this},getPositionFromMatrix:function(a){return this.x=a.elements[12],this.y=a.elements[13],this.z=a.elements[14],
this},setEulerFromRotationMatrix:function(a,c){var e=a.elements;a=e[0];var n=e[4],t=e[8],m=e[5],h=e[9],r=e[6];e=e[10];return void 0===c||"XYZ"===c?(this.y=Math.asin(b.Math.clamp(t,-1,1)),.99999>Math.abs(t)?(this.x=Math.atan2(-h,e),this.z=Math.atan2(-n,a)):(this.x=Math.atan2(r,m),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+c),this},rotateAboutVector:function(a,b){a.normalize();var c=Math.cos(b),n=Math.sin(b);b=this.clone().multiplyScalar(c);n=a.clone().cross(this).multiplyScalar(n);
a=a.clone().multiplyScalar(a.clone().dot(this)).multiplyScalar(1-c);a=b.add(n).add(a);return this.x=a.x,this.y=a.y,this.z=a.z,this},setFromMatrixPosition:function(a){a=a.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this},transformDirection:function(a){var b=this.x,e=this.y,n=this.z;a=a.elements;return this.x=a[0]*b+a[4]*e+a[8]*n,this.y=a[1]*b+a[5]*e+a[9]*n,this.z=a[2]*b+a[6]*e+a[10]*n,this.normalize()},clone:function(){return new b.Vector3(this.x,this.y,this.z)}};b.Matrix3=function(a,b,
e,n,t,m,h,r,u){this.elements=new Float32Array(9);this.set(void 0!==a?a:1,b||0,e||0,n||0,void 0!==t?t:1,m||0,h||0,r||0,void 0!==u?u:1)};b.Matrix3.prototype={constructor:b.Matrix3,set:function(a,b,e,n,t,m,h,r,u){var c=this.elements;return c[0]=a,c[3]=b,c[6]=e,c[1]=n,c[4]=t,c[7]=m,c[2]=h,c[5]=r,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])},multiplyScalar:function(a){var b=this.elements;return b[0]*=
a,b[3]*=a,b[6]*=a,b[1]*=a,b[4]*=a,b[7]*=a,b[2]*=a,b[5]*=a,b[8]*=a,this},getInverse:function(a,b){a=a.elements;var c=this.elements;c[0]=a[10]*a[5]-a[6]*a[9];c[1]=-a[10]*a[1]+a[2]*a[9];c[2]=a[6]*a[1]-a[2]*a[5];c[3]=-a[10]*a[4]+a[6]*a[8];c[4]=a[10]*a[0]-a[2]*a[8];c[5]=-a[6]*a[0]+a[2]*a[4];c[6]=a[9]*a[4]-a[5]*a[8];c[7]=-a[9]*a[0]+a[1]*a[8];c[8]=a[5]*a[0]-a[1]*a[4];a=a[0]*c[0]+a[1]*c[3]+a[2]*c[6];if(0===a){if(b)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0"),
this.identity(),this}return this.multiplyScalar(1/a),this},getDeterminant:function(){var a=this.elements;return a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[2]*a[4]*a[6]-a[1]*a[3]*a[8]-a[0]*a[5]*a[7]},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[3],b[3]=a,a=b[2],b[2]=b[6],b[6]=a,a=b[5],b[5]=b[7],b[7]=a,this},clone:function(){var a=this.elements;return new b.Matrix3(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};b.Matrix4=function(a,b,e,n,t,m,h,r,u,y,x,p,d,g,E,l){if(void 0===
b&&void 0!==a)this.elements=new Float32Array(a);else{var c=this.elements=new Float32Array(16);c[0]=void 0!==a?a:1;c[4]=b||0;c[8]=e||0;c[12]=n||0;c[1]=t||0;c[5]=void 0!==m?m:1;c[9]=h||0;c[13]=r||0;c[2]=u||0;c[6]=y||0;c[10]=void 0!==x?x:1;c[14]=p||0;c[3]=d||0;c[7]=g||0;c[11]=E||0;c[15]=void 0!==l?l:1}};b.Matrix4.prototype={constructor:b.Matrix4,set:function(a,b,e,n,t,m,h,r,u,y,x,p,d,g,E,l){var c=this.elements;return c[0]=a,c[4]=b,c[8]=e,c[12]=n,c[1]=t,c[5]=m,c[9]=h,c[13]=r,c[2]=u,c[6]=y,c[10]=x,c[14]=
p,c[3]=d,c[7]=g,c[11]=E,c[15]=l,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(a){a=a.elements;return this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]),this},matrix3FromTopLeft:function(){var a=this.elements;return new b.Matrix3(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10])},setRotationFromEuler:function(a,b){var c=this.elements,n=a.x,t=a.y,m=a.z;a=Math.cos(n);n=Math.sin(n);var h=Math.cos(t);t=Math.sin(t);
var r=Math.cos(m);m=Math.sin(m);if(void 0===b||"XYZ"===b){b=a*r;var u=a*m,y=n*r,x=n*m;c[0]=h*r;c[4]=-h*m;c[8]=t;c[1]=u+y*t;c[5]=b-x*t;c[9]=-n*h;c[2]=x-b*t;c[6]=y+u*t;c[10]=a*h}else console.error("Error with matrix4 setRotationFromEuler. Order: "+b);return this},setRotationFromQuaternion:function(a){var b=this.elements,e=a.x,n=a.y,t=a.z,m=a.w,h=e+e,r=n+n,u=t+t;a=e*h;var y=e*r;e*=u;var x=n*r;n*=u;t*=u;h*=m;r*=m;m*=u;return b[0]=1-(x+t),b[4]=y-m,b[8]=e+r,b[1]=y+m,b[5]=1-(a+t),b[9]=n-h,b[2]=e-r,b[6]=
n+h,b[10]=1-(a+x),this},lookAt:function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3;return function(b,t,m){var h=this.elements;return e.subVectors(b,t).normalize(),0===e.length()&&(e.z=1),a.crossVectors(m,e).normalize(),0===a.length()&&(e.x+=1E-4,a.crossVectors(m,e).normalize()),c.crossVectors(e,a),h[0]=a.x,h[4]=c.x,h[8]=e.x,h[1]=a.y,h[5]=c.y,h[9]=e.y,h[2]=a.z,h[6]=c.z,h[10]=e.z,this}}(),multiplyMatrices:function(a,b){var c=a.elements,n=b.elements;b=this.elements;a=c[0];var t=c[4],m=c[8],
h=c[12],r=c[1],u=c[5],y=c[9],x=c[13],p=c[2],d=c[6],g=c[10],E=c[14],l=c[3],L=c[7],A=c[11];c=c[15];var B=n[0],S=n[4],C=n[8],U=n[12],q=n[1],M=n[5],ia=n[9],X=n[13],K=n[2],N=n[6],H=n[10],ta=n[14],z=n[3],O=n[7],W=n[11];n=n[15];return b[0]=a*B+t*q+m*K+h*z,b[4]=a*S+t*M+m*N+h*O,b[8]=a*C+t*ia+m*H+h*W,b[12]=a*U+t*X+m*ta+h*n,b[1]=r*B+u*q+y*K+x*z,b[5]=r*S+u*M+y*N+x*O,b[9]=r*C+u*ia+y*H+x*W,b[13]=r*U+u*X+y*ta+x*n,b[2]=p*B+d*q+g*K+E*z,b[6]=p*S+d*M+g*N+E*O,b[10]=p*C+d*ia+g*H+E*W,b[14]=p*U+d*X+g*ta+E*n,b[3]=l*B+L*
q+A*K+c*z,b[7]=l*S+L*M+A*N+c*O,b[11]=l*C+L*ia+A*H+c*W,b[15]=l*U+L*X+A*ta+c*n,this},multiplyScalar:function(a){var b=this.elements;return b[0]*=a,b[4]*=a,b[8]*=a,b[12]*=a,b[1]*=a,b[5]*=a,b[9]*=a,b[13]*=a,b[2]*=a,b[6]*=a,b[10]*=a,b[14]*=a,b[3]*=a,b[7]*=a,b[11]*=a,b[15]*=a,this},makeTranslation:function(a,b,e){return this.set(1,0,0,a,0,1,0,b,0,0,1,e,0,0,0,1),this},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[4],b[4]=a,a=b[2],b[2]=b[8],b[8]=a,a=b[6],b[6]=b[9],b[9]=a,a=b[3],b[3]=b[12],
b[12]=a,a=b[7],b[7]=b[13],b[13]=a,a=b[11],b[11]=b[14],b[14]=a,this},getPosition:function(){var a=new b.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var b=this.elements;return a.set(b[12],b[13],b[14])}}(),setPosition:function(a){var b=this.elements;return b[12]=a.x,b[13]=a.y,b[14]=a.z,this},getInverse:function(a,b){var c=this.elements;a=a.elements;var n=a[0],t=a[4],m=a[8],h=a[12],r=a[1],u=a[5],
y=a[9],x=a[13],p=a[2],d=a[6],g=a[10],E=a[14],l=a[3],L=a[7],A=a[11],B=a[15];c[0]=y*E*L-x*g*L+x*d*A-u*E*A-y*d*B+u*g*B;c[4]=h*g*L-m*E*L-h*d*A+t*E*A+m*d*B-t*g*B;c[8]=m*x*L-h*y*L+h*u*A-t*x*A-m*u*B+t*y*B;c[12]=h*y*d-m*x*d-h*u*g+t*x*g+m*u*E-t*y*E;c[1]=x*g*l-y*E*l-x*p*A+r*E*A+y*p*B-r*g*B;c[5]=m*E*l-h*g*l+h*p*A-n*E*A-m*p*B+n*g*B;c[9]=h*y*l-m*x*l-h*r*A+n*x*A+m*r*B-n*y*B;c[13]=m*x*p-h*y*p+h*r*g-n*x*g-m*r*E+n*y*E;c[2]=u*E*l-x*d*l+x*p*L-r*E*L-u*p*B+r*d*B;c[6]=h*d*l-t*E*l-h*p*L+n*E*L+t*p*B-n*d*B;c[10]=t*x*l-h*
u*l+h*r*L-n*x*L-t*r*B+n*u*B;c[14]=h*u*p-t*x*p-h*r*d+n*x*d+t*r*E-n*u*E;c[3]=y*d*l-u*g*l-y*p*L+r*g*L+u*p*A-r*d*A;c[7]=t*g*l-m*d*l+m*p*L-n*g*L-t*p*A+n*d*A;c[11]=m*u*l-t*y*l-m*r*L+n*y*L+t*r*A-n*u*A;c[15]=t*y*p-m*u*p+m*r*d-n*y*d-t*r*g+n*u*g;c=a[0]*c[0]+a[1]*c[4]+a[2]*c[8]+a[3]*c[12];if(0===c){if(b)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/
c),this},isReflected:function(){var a=this.elements,b=a[0],e=a[4],n=a[8],t=a[1],m=a[5],h=a[9],r=a[2],u=a[6];a=a[10];return 0>b*m*a+t*u*n+r*e*h-r*m*n-t*e*a-b*u*h},compose:function(){var a=new b.Matrix4,c=new b.Matrix4;return function(b,n,t){var e=this.elements;return a.identity(),a.setRotationFromQuaternion(n),c.makeScale(t.x,t.y,t.z),this.multiplyMatrices(a,c),e[12]=b.x,e[13]=b.y,e[14]=b.z,this}}(),getScale:function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3;return function(n){var t=this.elements;
return n=n instanceof b.Vector3?n:new b.Vector3,a.set(t[0],t[1],t[2]),c.set(t[4],t[5],t[6]),e.set(t[8],t[9],t[10]),n.x=a.length(),n.y=c.length(),n.z=e.length(),n}}(),decompose:function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3,n=new b.Matrix4;return function(t,m,h){var r=this.elements;return a.set(r[0],r[1],r[2]),c.set(r[4],r[5],r[6]),e.set(r[8],r[9],r[10]),t=t instanceof b.Vector3?t:new b.Vector3,m=m instanceof b.Quaternion?m:new b.Quaternion,(h=h instanceof b.Vector3?h:new b.Vector3).x=
a.length(),h.y=c.length(),h.z=e.length(),t.x=r[12],t.y=r[13],t.z=r[14],n.copy(this),n.elements[0]/=h.x,n.elements[1]/=h.x,n.elements[2]/=h.x,n.elements[4]/=h.y,n.elements[5]/=h.y,n.elements[6]/=h.y,n.elements[8]/=h.z,n.elements[9]/=h.z,n.elements[10]/=h.z,m.setFromRotationMatrix(n),[t,m,h]}}(),scale:function(a){var b=this.elements,e=a.x,n=a.y;a=a.z;return b[0]*=e,b[4]*=n,b[8]*=a,b[1]*=e,b[5]*=n,b[9]*=a,b[2]*=e,b[6]*=n,b[10]*=a,b[3]*=e,b[7]*=n,b[11]*=a,this},getMaxScaleOnAxis:function(){var a=this.elements;
return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeFrustum:function(a,b,e,n,t,m){var c=this.elements;return c[0]=2*t/(b-a),c[4]=0,c[8]=(b+a)/(b-a),c[12]=0,c[1]=0,c[5]=2*t/(n-e),c[9]=(n+e)/(n-e),c[13]=0,c[2]=0,c[6]=0,c[10]=-(m+t)/(m-t),c[14]=-2*m*t/(m-t),c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this},makePerspective:function(a,c,e,n){a=e*Math.tan(b.Math.degToRad(.5*a));var t=-a;return this.makeFrustum(t*c,a*c,t,a,e,n)},makeOrthographic:function(a,
b,e,n,t,m){var c=this.elements,r=1/(b-a),u=1/(e-n),y=1/(m-t);return c[0]=2*r,c[4]=0,c[8]=0,c[12]=-((b+a)*r),c[1]=0,c[5]=2*u,c[9]=0,c[13]=-((e+n)*u),c[2]=0,c[6]=0,c[10]=-2*y,c[14]=-((m+t)*y),c[3]=0,c[7]=0,c[11]=0,c[15]=1,this},isEqual:function(a){a=a.elements;var b=this.elements;return b[0]==a[0]&&b[4]==a[4]&&b[8]==a[8]&&b[12]==a[12]&&b[1]==a[1]&&b[5]==a[5]&&b[9]==a[9]&&b[13]==a[13]&&b[2]==a[2]&&b[6]==a[6]&&b[10]==a[10]&&b[14]==a[14]&&b[3]==a[3]&&b[7]==a[7]&&b[11]==a[11]&&b[15]==a[15]},clone:function(){var a=
this.elements;return new b.Matrix4(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])},isIdentity:function(){var a=this.elements;return 1==a[0]&&0==a[4]&&0==a[8]&&0==a[12]&&0==a[1]&&1==a[5]&&0==a[9]&&0==a[13]&&0==a[2]&&0==a[6]&&1==a[10]&&0==a[14]&&0==a[3]&&0==a[7]&&0==a[11]&&1==a[15]}};b.Vector3.prototype.unproject=function(){var a=new b.Matrix4;return function(b){return a.multiplyMatrices(b.matrixWorld,a.getInverse(b.projectionMatrix)),this.applyMatrix4(a)}}();
b.Ray=function(a,c){this.origin=void 0!==a?a:new b.Vector3;this.direction=void 0!==c?c:new b.Vector3};b.Ray.prototype={constructor:b.Ray,set:function(a,b){return this.origin.copy(a),this.direction.copy(b),this},copy:function(a){return this.origin.copy(a.origin),this.direction.copy(a.direction),this},at:function(a,c){return(c||new b.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new b.Vector3;return function(b){return this.origin.copy(this.at(b,a)),this}}(),
closestPointToPoint:function(a,c){c=c||new b.Vector3;c.subVectors(a,this.origin);a=c.dot(this.direction);return c.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(){var a=new b.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);return a.copy(this.direction).multiplyScalar(c).add(this.origin),a.distanceTo(b)}}(),isIntersectionCylinder:function(){},isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},isIntersectionPlane:function(a){return 0!==
a.normal.dot(this.direction)||0===a.distanceToPoint(this.origin)},distanceToPlane:function(a){var b=a.normal.dot(this.direction);return 0===b?0===a.distanceToPoint(this.origin)?0:void 0:-(this.origin.dot(a.normal)+a.constant)/b},intersectPlane:function(a,b){a=this.distanceToPlane(a);if(void 0!==a)return this.at(a,b)},applyMatrix4:function(a){return this.direction.add(this.origin).applyMatrix4(a),this.origin.applyMatrix4(a),this.direction.sub(this.origin),this},equals:function(a){return a.origin.equals(this.origin)&&
a.direction.equals(this.direction)},clone:function(){return(new b.Ray).copy(this)}};b.Sphere=function(a,c){this.center=void 0!==a?a:new b.Vector3;this.radius=void 0!==c?c:0};b.Sphere.prototype={constructor:b.Sphere,set:function(a,b){return this.center.copy(a),this.radius=b,this},copy:function(a){return this.center.copy(a.center),this.radius=a.radius,this},applyMatrix4:function(a){return this.center.applyMatrix4(a),this.radius*=a.getMaxScaleOnAxis(),this},translate:function(a){return this.center.add(a),
this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return(new b.Sphere).copy(this)}};b.Cylinder=function(a,c,e){this.c1=void 0!==a?a:new b.Vector3;this.c2=void 0!==c?c:new b.Vector3;this.direction=(new b.Vector3).subVectors(this.c2,this.c1).normalize();this.radius=void 0!==e?e:0};b.Cylinder.prototype={constructor:b.Cylinder,copy:function(a){return this.c1.copy(a.c1),this.c2.copy(a.c2),this.direction.copy(a.direction),this.radius=a.radius,this},lengthSq:function(){var a=
new b.Vector3;return function(){return a.subVectors(this.c2,this.c1).lengthSq()}}(),applyMatrix4:function(a){return this.direction.add(this.c1).applyMatrix4(a),this.c1.applyMatrix4(a),this.c2.applyMatrix4(a),this.direction.sub(this.c1).normalize(),this.radius*=a.getMaxScaleOnAxis(),this}};b.Triangle=function(a,c,e){this.a=void 0!==a?a:new b.Vector3;this.b=void 0!==c?c:new b.Vector3;this.c=void 0!==e?e:new b.Vector3};b.Triangle.prototype={constructor:b.Triangle,copy:function(a){return this.a.copy(a.a),
this.b.copy(a.b),this.c.copy(a.c),this},applyMatrix4:function(a){return this.a.applyMatrix4(a),this.b.applyMatrix4(a),this.c.applyMatrix4(a),this},getNormal:function(){var a=new b.Vector3;return function(){var b=this.a.clone();return b.sub(this.b),a.subVectors(this.c,this.b),b.cross(a),b.normalize(),b}}()};b.EventDispatcher=function(){var a={};this.addEventListener=function(b,e){void 0===a[b]&&(a[b]=[]);-1===a[b].indexOf(e)&&a[b].push(e)};this.removeEventListener=function(b,e){e=a[b].indexOf(e);-1!==
e&&a[b].splice(e,1)};this.dispatchEvent=function(b){var c=a[b.type];if(void 0!==c){b.target=this;for(var n=0,t=c.length;n<t;n++)c[n].call(this,b)}}};b.Color=function(a){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(a)};b.Color.prototype={constructor:b.Color,r:0,g:0,b:0,set:function(a){if(a instanceof b.Color)return a.clone();"number"==typeof a?this.setHex(a):"object"==typeof a&&"r"in a&&"g"in a&&"b"in a&&(this.r=a.r,this.g=a.g,this.b=
a.b)},setHex:function(a){return a=Math.floor(a),this.r=(a>>16&255)/255,this.g=(a>>8&255)/255,this.b=(255&a)/255,this},getHex:function(){return Math.round(255*this.r)<<16|Math.round(255*this.g)<<8|Math.round(255*this.b)},clone:function(){return new b.Color(this.r,this.g,this.b)},copy:function(a){return this.r=a.r,this.g=a.g,this.b=a.b,this},scaled:function(){var a={};return a.r=Math.round(255*this.r),a.g=Math.round(255*this.g),a.b=Math.round(255*this.b),a.a=1,a}};b.Object3D=function(){this.id=b.Object3DIDCount++;
this.name="";this.parent=void 0;this.children=[];this.position=new b.Vector3;this.rotation=new b.Vector3;this.matrix=new b.Matrix4;this.matrixWorld=new b.Matrix4;this.quaternion=new b.Quaternion;this.eulerOrder="XYZ";this.up=new b.Vector3(0,1,0);this.scale=new b.Vector3(1,1,1);this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.useQuaternion=!1;this.visible=!0};b.Object3D.prototype={constructor:b.Object3D,lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);
this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(a){if(a!==this){a.parent=this;this.children.push(a);for(var c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof b.Scene&&c.__addObject(a)}else console.error("Can't add $3Dmol.Object3D to itself")},remove:function(a){var c=this.children.indexOf(a);if(-1!==c){a.parent=void 0;this.children.splice(c,1);for(c=this;void 0!==
c.parent;)c=c.parent;void 0!==c&&c instanceof b.Scene&&c.__removeObject(a)}},vrml:function(a){a||(a=" ");var b=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),e=0,n=0,t=0;0!=b&&(t=Math.sin(b/2),e=this.quaternion.x/t,n=this.quaternion.y/t,t=this.quaternion.z/t);b=a+"Transform {\n"+a+" center "+this.position.x+" "+this.position.y+" "+this.position.z+"\n"+a+" rotation "+e+" "+n+" "+t+" "+b+"\n"+a+" children [\n";this.geometry&&(b+=this.geometry.vrml(a,this.material));for(e=0;e<this.children.length;e++)b+=
this.children[e].vrml(a+" ")+",\n";return b+=" ]\n",b+"}"},updateMatrix:function(){this.matrix.setPosition(this.position);!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion);1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();!0!==this.matrixWorldNeedsUpdate&&!0!==a||
(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix));this.matrixWorldNeedsUpdate=!1;for(a=0;a<this.children.length;a++)this.children[a].updateMatrixWorld(!0)},clone:function(a){void 0===a&&(a=new b.Object3D);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.rotation.copy(this.rotation);a.eulerOrder=this.eulerOrder;a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);
a.matrixWorld.copy(this.matrixWorld);a.quaternion.copy(this.quaternion);a.matrixAutoUpdate=this.matrixAutoUpdate;a.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate;a.useQuaternion=this.useQuaternion;a.visible=this.visible;for(var c=0;c<this.children.length;c++)a.add(this.children[c].clone());return a},setVisible:function(a){this.visible=a;for(var b=0;b<this.children.length;b++)this.children[b].setVisible(a)}};b.Object3DIDCount=0;b.Geometry=function(){var a=function(a){this.id=a||0;this.lineArray=
this.radiusArray=this.faceArray=this.normalArray=this.colorArray=this.vertexArray=null;this.lineidx=this.faceidx=this.vertices=0};a.prototype.setColors=function(a){var c=this.vertexArray,e=this.colorArray;if(c.length==e.length)for(var h=0;h<c.length;h+=3){var n=a(c[h],c[h+1],c[h+2]);n instanceof b.Color||(n=b.CC.color(n));e[h]=n.r;e[h+1]=n.g;e[h+2]=n.b}else console.log("Cannot re-color geometry group due to mismatched lengths.")};a.prototype.getNumVertices=function(){return this.vertices};a.prototype.getVertices=
function(){return this.vertexArray};a.prototype.getCentroid=function(){for(var a,c,e,h=new b.Vector3,r=0;r<this.vertices;++r)a=3*r,c=this.vertexArray[a],e=this.vertexArray[a+1],a=this.vertexArray[a+2],h.x+=c,h.y+=e,h.z+=a;return h.divideScalar(this.vertices),h};a.prototype.setNormals=function(){var a=this.faceArray,c=this.vertexArray,e=this.normalArray;if(this.vertices&&this.faceidx)for(var h,r,u,y,x,p,d=0;d<a.length/3;++d)h=3*a[3*d],r=3*a[3*d+1],u=3*a[3*d+2],y=new b.Vector3(c[h],c[h+1],c[h+2]),x=
new b.Vector3(c[r],c[r+1],c[r+2]),p=new b.Vector3(c[u],c[u+1],c[u+2]),y.subVectors(y,x),p.subVectors(p,x),p.cross(y),(y=p).normalize(),e[h]+=y.x,e[r]+=y.x,e[u]+=y.x,e[h+1]+=y.y,e[r+1]+=y.y,e[u+1]+=y.y,e[h+2]+=y.z,e[r+2]+=y.z,e[u+2]+=y.z};a.prototype.setLineIndices=function(){if(this.faceidx&&(!this.lineArray||this.lineArray.length!=2*this.faceidx||this.lineidx!=2*this.faceidx)){var a=this.faceArray,b=this.lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var c=0;c<this.faceidx/
3;++c){var e=3*c,r=2*e,u=a[e],y=a[e+1];e=a[e+2];b[r]=u;b[r+1]=y;b[r+2]=u;b[r+3]=e;b[r+4]=y;b[r+5]=e}}};a.prototype.vrml=function(a,c){var e=a+"Shape {\n"+a+" appearance Appearance {\n"+a+"  material Material {\n"+a+"   diffuseColor "+c.color.r+" "+c.color.g+" "+c.color.b+"\n";c.transparent&&(e+=a+"   transparency "+(1-c.opacity)+"\n");e=e+(a+"  }\n")+(a+" }\n");var h=a;if(a+=" ",c instanceof b.LineBasicMaterial){e+=a+"geometry IndexedLineSet {\n"+a+" colorPerVertex TRUE\n"+a+" coord Coordinate {\n"+
a+"  point [\n";for(c=0;c<this.vertices;++c){var r=3*c;e+=a+"   "+this.vertexArray[r]+" "+this.vertexArray[r+1]+" "+this.vertexArray[r+2]+",\n"}if(e+=a+"  ]\n",e+=a+" }\n",this.colorArray){e+=a+" color Color {\n"+a+"  color [\n";for(c=0;c<this.vertices;++c)r=3*c,e+=a+"   "+this.colorArray[r]+" "+this.colorArray[r+1]+" "+this.colorArray[r+2]+",\n";e=e+(a+"  ]\n")+(a+" }\n")}e+=a+" coordIndex [\n";for(c=0;c<this.vertices;c+=2)e+=a+"  "+c+", "+(c+1)+", -1,\n"}else{e=e+(a+"geometry IndexedFaceSet {\n"+
a+" colorPerVertex TRUE\n"+a+" normalPerVertex TRUE\n"+a+" solid FALSE\n")+(a+" coord Coordinate {\n"+a+"  point [\n");for(c=0;c<this.vertices;++c)r=3*c,e+=a+"   "+this.vertexArray[r]+" "+this.vertexArray[r+1]+" "+this.vertexArray[r+2]+",\n";e=e+(a+"  ]\n")+(a+" }\n")+(a+" normal Normal {\n"+a+"  vector [\n");for(c=0;c<this.vertices;++c)r=3*c,e+=a+"   "+this.normalArray[r]+" "+this.normalArray[r+1]+" "+this.normalArray[r+2]+",\n";if(e+=a+"  ]\n",e+=a+" }\n",this.colorArray){e+=a+" color Color {\n"+
a+"  color [\n";for(c=0;c<this.vertices;++c)r=3*c,e+=a+"   "+this.colorArray[r]+" "+this.colorArray[r+1]+" "+this.colorArray[r+2]+",\n";e=e+(a+"  ]\n")+(a+" }\n")}e+=a+" coordIndex [\n";for(c=0;c<this.faceidx;c+=3)e+=a+"  "+this.faceArray[c]+", "+this.faceArray[c+1]+", "+this.faceArray[c+2]+", -1,\n"}return e+(a+" ]\n")+(a+"}\n")+(h+"}")};a.prototype.truncateArrayBuffers=function(a,b){a=!0===a;var c=this.colorArray,e=this.normalArray,r=this.faceArray,n=this.lineArray,t=this.radiusArray;this.vertexArray=
this.vertexArray.subarray(0,3*this.vertices);this.colorArray=c.subarray(0,3*this.vertices);a?(this.normalArray=e.subarray(0,3*this.vertices),this.faceArray=r.subarray(0,this.faceidx),0<this.lineidx?this.lineArray=n.subarray(0,this.lineidx):this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0));t&&(this.radiusArray=t.subarray(0,this.vertices));b&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),
this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray)));this.__inittedArrays=!0};var c=function(b){var c=new a(b.geometryGroups.length);return b.geometryGroups.push(c),b.groups=b.geometryGroups.length,c.vertexArray=
new Float32Array(196605),c.colorArray=new Float32Array(196605),b.mesh&&(c.normalArray=new Float32Array(196605),c.faceArray=new Uint16Array(393210),c.lineArray=new Uint16Array(393210)),b.radii&&(c.radiusArray=new Float32Array(65535)),c.useOffset=b.offset,c},e=function(a,c,e){b.EventDispatcher.call(this);this.id=b.GeometryIDCount++;this.name="";this.hasTangents=!1;this.dynamic=!0;this.mesh=!0===a;this.radii=c||!1;this.offset=e||!1;this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=
this.elementsNeedUpdate=this.verticesNeedUpdate=!1;this.geometryGroups=[];this.groups=0};return e.prototype={constructor:e,updateGeoGroup:function(a){var b=0<this.groups?this.geometryGroups[this.groups-1]:null;return(!b||b.vertices+(a||0)>b.vertexArray.length/3)&&(b=c(this)),b},vrml:function(a,b){for(var c="",e=this.geometryGroups.length,r=0;r<e;r++)c+=this.geometryGroups[r].vrml(a,b)+",\n";return c},addGeoGroup:function(){return c(this)},setUpNormals:function(a){a=a||!1;for(var b=0;b<this.groups;b++)this.geometryGroups[b].setNormals(a)},
setColors:function(a){for(var b=this.geometryGroups.length,c=0;c<b;c++)this.geometryGroups[c].setColors(a)},setUpWireframe:function(){for(var a=0;a<this.groups;a++)this.geometryGroups[a].setLineIndices()},initTypedArrays:function(){for(var a=0;a<this.groups;a++){var b=this.geometryGroups[a];!0!==b.__inittedArrays&&b.truncateArrayBuffers(this.mesh,!1)}},dispose:function(){this.dispatchEvent({type:"dispose"})}},e}();Object.defineProperty(b.Geometry.prototype,"vertices",{get:function(){for(var a=0,b=
0;b<this.groups;b++)a+=this.geometryGroups[b].vertices;return a}});b.GeometryIDCount=0;b.Raycaster=function(){var a,c=function(a,c,g,e){this.ray=new b.Ray(a,c);0<this.ray.direction.lengthSq()&&this.ray.direction.normalize();this.near=e||0;this.far=g||1/0},e=new b.Sphere,n=new b.Cylinder,t=new b.Triangle,m=new b.Vector3,h=new b.Vector3,r=new b.Vector3,u=new b.Vector3,y=new b.Vector3,x=function(a,b){return a.distance-b.distance};return c.prototype.precision=1E-4,c.prototype.linePrecision=.2,c.prototype.set=
function(a,b){this.ray.set(a,b)},c.prototype.setFromCamera=(a=new b.Matrix4,function(b,c){c.ortho?(this.ray.origin.set(b.x,b.y,(c.near+c.far)/(c.near-c.far)).unproject(c),this.ray.direction.set(0,0,-1).transformDirection(c.matrixWorld)):(this.ray.origin.setFromMatrixPosition(c.matrixWorld),this.ray.direction.set(b.x,b.y,b.z),c.projectionMatrixInverse.getInverse(c.projectionMatrix),a.multiplyMatrices(c.matrixWorld,c.projectionMatrixInverse),this.ray.direction.applyProjection(a),this.ray.direction.sub(this.ray.origin).normalize())}),
c.prototype.intersectObjects=function(a,c){for(var d=[],p=0,l=c.length;p<l;p++)a:{var L=void 0,A=void 0,B=void 0,S=void 0,C=void 0,U=void 0,q=void 0,M=void 0,ia,X=void 0;var K=void 0;var N=a,H=c[p],ta=d;if(y.getPositionFromMatrix(N.matrixWorld),void 0!==H.intersectionShape){var z=H.intersectionShape;var O=this.linePrecision;var W=(O*=N.matrixWorld.getMaxScaleOnAxis())*O;if(!(void 0!==H.boundingSphere&&H.boundingSphere instanceof b.Sphere)||(e.copy(H.boundingSphere),e.applyMatrix4(N.matrixWorld),this.ray.isIntersectionSphere(e))){var V=
0;for(O=z.triangle.length;V<O;V++)if(z.triangle[V]instanceof b.Triangle&&!(t.copy(z.triangle[V]),t.applyMatrix4(N.matrixWorld),K=t.getNormal(),0<=(X=this.ray.direction.dot(K)))&&!(m.subVectors(t.a,this.ray.origin),0>(q=K.dot(m)/X))){h.copy(this.ray.direction).multiplyScalar(q).add(this.ray.origin);h.sub(t.a);r.copy(t.b).sub(t.a);u.copy(t.c).sub(t.a);var P=r.dot(u),J=r.lengthSq(),Q=u.lengthSq();0>(B=(J*h.dot(u)-P*h.dot(r))/(J*Q-P*P))||1<B||0>(S=(h.dot(r)-B*P)/J)||1<S||1<S+B||ta.push({clickable:H,distance:q})}V=
0;for(O=z.cylinder.length;V<O;V++)z.cylinder[V]instanceof b.Cylinder&&(n.copy(z.cylinder[V]),n.applyMatrix4(N.matrixWorld),m.subVectors(n.c1,this.ray.origin),ia=m.dot(n.direction),M=m.dot(this.ray.direction),0!==(U=1-(X=Math.min(Math.max(this.ray.direction.dot(n.direction),-1),1))*X))&&(A=(X*M-ia)/U,L=(M-X*ia)/U,h.copy(n.direction).multiplyScalar(A).add(n.c1),r.copy(this.ray.direction).multiplyScalar(L).add(this.ray.origin),K=u.subVectors(h,r).lengthSq(),P=n.radius*n.radius,K<=P&&!(0>(S=X*(B=q=0>=
(C=(X*ia-M)*(X*ia-M)-U*(m.lengthSq()-ia*ia-P))?Math.sqrt(K):(M-X*ia-Math.sqrt(C))/U)-ia)||S*S>n.lengthSq()||0>B)&&ta.push({clickable:H,distance:q}));V=0;for(O=z.line.length;V<O;V+=2)h.copy(z.line[V]),h.applyMatrix4(N.matrixWorld),r.copy(z.line[V+1]),r.applyMatrix4(N.matrixWorld),u.subVectors(r,h),C=u.lengthSq(),u.normalize(),m.subVectors(h,this.ray.origin),B=m.dot(u),M=m.dot(this.ray.direction),0!==(U=1-(X=Math.min(Math.max(this.ray.direction.dot(u),-1),1))*X)&&(A=(X*M-B)/U,L=(M-X*B)/U,h.add(u.multiplyScalar(A)),
r.copy(this.ray.direction).multiplyScalar(L).add(this.ray.origin),u.subVectors(r,h).lengthSq()<W&&A*A<C&&ta.push({clickable:H,distance:L}));V=0;for(O=z.sphere.length;V<O;V++)if(z.sphere[V]instanceof b.Sphere&&(e.copy(z.sphere[V]),e.applyMatrix4(N.matrixWorld),this.ray.isIntersectionSphere(e))){h.subVectors(e.center,this.ray.origin);L=h.dot(this.ray.direction);C=L*L-(h.lengthSq()-e.radius*e.radius);0>L||(q=0>=C?L:L-Math.sqrt(C),ta.push({clickable:H,distance:q}));break a}}}}return d.sort(x),d},c}();
b.Projector=function(){var a=new b.Matrix4;this.projectVector=function(b,e){return e.matrixWorldInverse.getInverse(e.matrixWorld),a.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),b.applyProjection(a)};this.unprojectVector=function(b,e){return e.projectionMatrixInverse.getInverse(e.projectionMatrix),a.multiplyMatrices(e.matrixWorld,e.projectionMatrixInverse),b.applyProjection(a)}};b.Camera=function(a,c,e,n,t){b.Object3D.call(this);this.fov=void 0!==a?a:50;this.aspect=void 0!==c?c:1;this.near=
void 0!==e?e:.1;this.far=void 0!==n?n:2E3;this.projectionMatrix=new b.Matrix4;this.projectionMatrixInverse=new b.Matrix4;this.matrixWorldInverse=new b.Matrix4;this.right=this.position.z*Math.tan(Math.PI/180*a);this.left=-this.right;this.top=this.right/this.aspect;this.bottom=-this.top;this.ortho=!!t;this.updateProjectionMatrix()};b.Camera.prototype=Object.create(b.Object3D.prototype);b.Camera.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&(!1===this.useQuaternion?
this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))};b.Camera.prototype.updateProjectionMatrix=function(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)};b.SpritePlugin=function(){function a(a,b){return a.z!==b.z?b.z-a.z:b.id-
a.id}var c,e,n,t,m,h,r,u,y,x;this.init=function(a){c=a.context;e=a;n=a.getPrecision();t=new Float32Array(16);m=new Uint16Array(6);a=0;t[a++]=-1;t[a++]=-1;t[a++]=0;t[a++]=0;t[a++]=1;t[a++]=-1;t[a++]=1;t[a++]=0;t[a++]=1;t[a++]=1;t[a++]=1;t[a++]=1;t[a++]=-1;t[a++]=1;t[a++]=0;t[a++]=1;a=0;m[a++]=0;m[a++]=1;m[a++]=2;m[a++]=0;m[a++]=2;m[a++]=3;h=c.createBuffer();r=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,h);c.bufferData(c.ARRAY_BUFFER,t,c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r);c.bufferData(c.ELEMENT_ARRAY_BUFFER,
m,c.STATIC_DRAW);a=b.ShaderLib.sprite;var d=n,g=c.createProgram(),p=c.createShader(c.FRAGMENT_SHADER),l=c.createShader(c.VERTEX_SHADER);d="precision "+d+" float;\n";(c.shaderSource(p,d+a.fragmentShader),c.shaderSource(l,d+a.vertexShader),c.compileShader(p),c.compileShader(l),c.getShaderParameter(p,c.COMPILE_STATUS)&&c.getShaderParameter(l,c.COMPILE_STATUS))?(c.attachShader(g,p),c.attachShader(g,l),c.linkProgram(g),c.getProgramParameter(g,c.LINK_STATUS)||console.error("Could not initialize shader"),
a=g):a=(console.error(c.getShaderInfoLog(p)),console.error("could not initialize shader"),null);u=a;y={};x={};y.position=c.getAttribLocation(u,"position");y.uv=c.getAttribLocation(u,"uv");x.uvOffset=c.getUniformLocation(u,"uvOffset");x.uvScale=c.getUniformLocation(u,"uvScale");x.rotation=c.getUniformLocation(u,"rotation");x.scale=c.getUniformLocation(u,"scale");x.alignment=c.getUniformLocation(u,"alignment");x.color=c.getUniformLocation(u,"color");x.map=c.getUniformLocation(u,"map");x.opacity=c.getUniformLocation(u,
"opacity");x.useScreenCoordinates=c.getUniformLocation(u,"useScreenCoordinates");x.screenPosition=c.getUniformLocation(u,"screenPosition");x.modelViewMatrix=c.getUniformLocation(u,"modelViewMatrix");x.projectionMatrix=c.getUniformLocation(u,"projectionMatrix");x.fogType=c.getUniformLocation(u,"fogType");x.fogDensity=c.getUniformLocation(u,"fogDensity");x.fogNear=c.getUniformLocation(u,"fogNear");x.fogFar=c.getUniformLocation(u,"fogFar");x.fogColor=c.getUniformLocation(u,"fogColor");x.alphaTest=c.getUniformLocation(u,
"alphaTest")};this.render=function(b,d,g,m){var l=b.__webglSprites,p=l.length;if(p){var n=y,E=x,S=.5*g,t=.5*m;c.useProgram(u);c.enableVertexAttribArray(n.position);c.enableVertexAttribArray(n.uv);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.bindBuffer(c.ARRAY_BUFFER,h);c.vertexAttribPointer(n.position,2,c.FLOAT,!1,16,0);c.vertexAttribPointer(n.uv,2,c.FLOAT,!1,16,8);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r);c.uniformMatrix4fv(E.projectionMatrix,!1,d.projectionMatrix.elements);c.activeTexture(c.TEXTURE0);
c.uniform1i(E.map,0);var U=n=0,q=b.fog;q?(c.uniform3f(E.fogColor,q.color.r,q.color.g,q.color.b),c.uniform1f(E.fogNear,q.near),c.uniform1f(E.fogFar,q.far),c.uniform1i(E.fogType,1),n=1,U=1):(c.uniform1i(E.fogType,0),n=0,U=0);var M,ia,X=[];for(q=0;q<p;q++){var K=(M=l[q]).material;M.visible&&0!==K.opacity&&(K.useScreenCoordinates?M.z=-M.position.z:(M._modelViewMatrix.multiplyMatrices(d.matrixWorldInverse,M.matrixWorld),M.z=-M._modelViewMatrix.elements[14]))}l.sort(a);for(q=0;q<p;q++)if(K=(M=l[q]).material,
M.visible&&0!==K.opacity&&K.map&&K.map.image&&K.map.image.width)c.uniform1f(E.alphaTest,K.alphaTest),d=K.map.image.height,X[0]=K.map.image.width*e.devicePixelRatio/g,X[1]=d*e.devicePixelRatio/m,!0===K.useScreenCoordinates?(c.uniform1i(E.useScreenCoordinates,1),c.uniform3f(E.screenPosition,(M.position.x*e.devicePixelRatio-S)/S,(t-M.position.y*e.devicePixelRatio)/t,Math.max(0,Math.min(1,M.position.z)))):(c.uniform1i(E.useScreenCoordinates,0),c.uniformMatrix4fv(E.modelViewMatrix,!1,M._modelViewMatrix.elements)),
n!==(ia=b.fog&&K.fog?U:0)&&(c.uniform1i(E.fogType,ia),n=ia),d=1/(K.scaleByViewport?m:1),X[0]=X[0]*d*M.scale.x,X[1]=X[1]*d*M.scale.y,c.uniform2f(E.uvScale,K.uvScale.x,K.uvScale.y),c.uniform2f(E.uvOffset,K.uvOffset.x,K.uvOffset.y),c.uniform2f(E.alignment,K.alignment.x,K.alignment.y),c.uniform1f(E.opacity,K.opacity),c.uniform3f(E.color,K.color.r,K.color.g,K.color.b),c.uniform1f(E.rotation,M.rotation),c.uniform2fv(E.scale,X),e.setDepthTest(K.depthTest),e.setDepthWrite(K.depthWrite),e.setTexture(K.map,
0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);c.enable(c.CULL_FACE)}}};b.Light=function(a,c){b.Object3D.call(this);this.color=new b.Color(a);this.position=new b.Vector3(0,1,0);this.target=new b.Object3D;this.intensity=void 0!==c?c:1;this.onlyShadow=this.castShadow=!1};b.Light.prototype=Object.create(b.Object3D.prototype);b.Material=function(){b.EventDispatcher.call(this);this.id=b.MaterialIdCount++;this.name="";this.side=b.FrontSide;this.opacity=1;this.transparent=!1;this.stencilTest=this.depthWrite=
this.depthTest=!0;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=this.visible=!0};b.Material.prototype.setValues=function(a){if(void 0!==a)for(var c in a){var e=a[c];if(void 0!==e){if(c in this){var n=this[c];n instanceof b.Color&&e instanceof b.Color?n.copy(e):n instanceof b.Color?n.set(e):n instanceof b.Vector3&&e instanceof b.Vector3?n.copy(e):this[c]=e}}else console.warn("$3Dmol.Material: '"+c+"' parameter is undefined.")}};b.Material.prototype.clone=
function(a){return void 0===a&&(a=new b.Material),a.name=this.name,a.side=this.side,a.opacity=this.opacity,a.transparent=this.transparent,a.depthTest=this.depthTest,a.depthWrite=this.depthWrite,a.stencilTest=this.stencilTest,a.polygonOffset=this.polygonOffset,a.polygonOffsetFactor=this.polygonOffsetFactor,a.polygonOffsetUnits=this.polygonOffsetUnits,a.alphaTest=this.alphaTest,a.overdraw=this.overdraw,a.visible=this.visible,a};b.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})};
b.MaterialIdCount=0;b.LineBasicMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.shaderID="basic";this.setValues(a)};b.LineBasicMaterial.prototype=Object.create(b.Material.prototype);b.LineBasicMaterial.prototype.clone=function(){var a=new b.LineBasicMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a};b.MeshLambertMaterial=function(a){b.Material.call(this);
this.color=new b.Color(16777215);this.ambient=new b.Color(1048575);this.emissive=new b.Color(0);this.wrapAround=!1;this.wrapRGB=new b.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=b.SmoothShading;this.shaderID="lambert";this.vertexColors=b.NoColors;this.skinning=!1;this.setValues(a)};b.MeshLambertMaterial.prototype=
Object.create(b.Material.prototype);b.MeshLambertMaterial.prototype.clone=function(a){return void 0===a&&(a=new b.MeshLambertMaterial),b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a.ambient.copy(this.ambient),a.emissive.copy(this.emissive),a.wrapAround=this.wrapAround,a.wrapRGB.copy(this.wrapRGB),a.map=this.map,a.lightMap=this.lightMap,a.specularMap=this.specularMap,a.envMap=this.envMap,a.combine=this.combine,a.reflectivity=this.reflectivity,a.refractionRatio=this.refractionRatio,
a.fog=this.fog,a.shading=this.shading,a.shaderID=this.shaderID,a.vertexColors=this.vertexColors,a.skinning=this.skinning,a.morphTargets=this.morphTargets,a.morphNormals=this.morphNormals,a};b.MeshDoubleLambertMaterial=function(a){b.MeshLambertMaterial.call(this,a);this.shaderID="lambertdouble";this.side=b.DoubleSide};b.MeshDoubleLambertMaterial.prototype=Object.create(b.MeshLambertMaterial.prototype);b.MeshDoubleLambertMaterial.prototype.clone=function(){var a=new b.MeshDoubleLambertMaterial;return b.MeshLambertMaterial.prototype.clone.call(this,
a),a};b.MeshOutlineMaterial=function(a){b.Material.call(this);a=a||{};this.fog=!0;this.shaderID="outline";this.wireframe=!1;this.outlineColor=a.color||new b.Color(0,0,0);this.outlineWidth=a.width||.1;this.outlinePushback=a.pushback||1};b.MeshOutlineMaterial.prototype=Object.create(b.Material.prototype);b.MeshOutlineMaterial.prototype.clone=function(a){return void 0===a&&(a=new b.MeshOutlineMaterial),b.Material.prototype.clone.call(this,a),a.fog=this.fog,a.shaderID=this.shaderID,a.wireframe=this.wireframe,
a};b.ImposterMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.ambient=new b.Color(1048575);this.emissive=new b.Color(0);this.imposter=!0;this.wrapAround=!1;this.wrapRGB=new b.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=b.SmoothShading;this.shaderID=null;this.vertexColors=b.NoColors;
this.skinning=!1;this.setValues(a)};b.ImposterMaterial.prototype=Object.create(b.Material.prototype);b.ImposterMaterial.prototype.clone=function(){var a=new b.ImposterMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a.ambient.copy(this.ambient),a.emissive.copy(this.emissive),a.wrapAround=this.wrapAround,a.wrapRGB.copy(this.wrapRGB),a.map=this.map,a.lightMap=this.lightMap,a.specularMap=this.specularMap,a.envMap=this.envMap,a.combine=this.combine,a.reflectivity=this.reflectivity,
a.refractionRatio=this.refractionRatio,a.fog=this.fog,a.shading=this.shading,a.shaderID=this.shaderID,a.vertexColors=this.vertexColors,a.skinning=this.skinning,a.morphTargets=this.morphTargets,a.morphNormals=this.morphNormals,a};b.SphereImposterMaterial=function(a){b.ImposterMaterial.call(this);this.shaderID="sphereimposter";this.setValues(a)};b.SphereImposterMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.SphereImposterMaterial.prototype.clone=function(){var a=new b.SphereImposterMaterial;
return b.ImposterMaterial.prototype.clone.call(this,a),a};b.SphereImposterOutlineMaterial=function(a){b.ImposterMaterial.call(this);a=a||{};this.shaderID="sphereimposteroutline";this.outlineColor=a.color||new b.Color(0,0,0);this.outlineWidth=a.width||.1;this.outlinePushback=a.pushback||1;this.setValues(a)};b.SphereImposterOutlineMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.SphereImposterOutlineMaterial.prototype.clone=function(){var a=new b.SphereImposterOutlineMaterial;return b.ImposterMaterial.prototype.clone.call(this,
a),a.outlineColor=this.outlineColor,a.outlineWidth=this.outlineWidth,a.outlinePushback=this.outlinePushback,a};b.StickImposterMaterial=function(a){b.ImposterMaterial.call(this);this.shaderID="stickimposter";this.setValues(a)};b.StickImposterMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.StickImposterMaterial.prototype.clone=function(){var a=new b.StickImposterMaterial;return b.ImposterMaterial.prototype.clone.call(this,a),a};b.StickImposterOutlineMaterial=function(a){b.ImposterMaterial.call(this);
a=a||{};this.shaderID="stickimposteroutline";this.outlineColor=a.color||new b.Color(0,0,0);this.outlineWidth=a.width||.1;this.outlinePushback=a.pushback||1;this.setValues(a)};b.StickImposterOutlineMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.StickImposterOutlineMaterial.prototype.clone=function(){var a=new b.StickImposterOutlineMaterial;return b.ImposterMaterial.prototype.clone.call(this,a),a.outlineColor=this.outlineColor,a.outlineWidth=this.outlineWidth,a.outlinePushback=this.outlinePushback,
a};b.InstancedMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.ambient=new b.Color(1048575);this.emissive=new b.Color(0);this.wrapAround=!1;this.wrapRGB=new b.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=b.SmoothShading;this.shaderID="instanced";this.vertexColors=b.NoColors;
this.skinning=!1;this.sphere=null;this.setValues(a)};b.InstancedMaterial.prototype=Object.create(b.Material.prototype);b.InstancedMaterial.prototype.clone=function(){var a=new b.InstancedMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a.ambient.copy(this.ambient),a.emissive.copy(this.emissive),a.wrapAround=this.wrapAround,a.wrapRGB.copy(this.wrapRGB),a.map=this.map,a.lightMap=this.lightMap,a.specularMap=this.specularMap,a.envMap=this.envMap,a.combine=this.combine,
a.reflectivity=this.reflectivity,a.refractionRatio=this.refractionRatio,a.fog=this.fog,a.shading=this.shading,a.shaderID=this.shaderID,a.vertexColors=this.vertexColors,a.skinning=this.skinning,a.morphTargets=this.morphTargets,a.morphNormals=this.morphNormals,a.sphere=this.sphere,a};b.VolumetricMaterial=function(a){b.Material.call(this);this.transparent=!1;this.volumetric=!0;this.color=new b.Color(16777215);this.map=this.transferfn=null;this.volumetric=!0;this.extent=[];this.maxdepth=100;this.unit=
0;this.texmatrix=null;this.transfermin=-1;this.transfermax=1;this.subsamples=5;this.shaderID="volumetric";this.side=b.FrontSide;this.setValues(a)};b.VolumetricMaterial.prototype=Object.create(b.Material.prototype);b.VolumetricMaterial.prototype.clone=function(){var a=Object.assign(new b.VolumetricMaterial,this);return b.Material.prototype.clone.call(this,a),a};b.SpriteMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.map=new b.Texture;this.useScreenCoordinates=!0;this.depthTest=
!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;this.scaleByViewPort=!this.sizeAttenuation;this.alignment=b.SpriteAlignment.center.clone();this.fog=!1;this.uvOffset=new b.Vector2(0,0);this.uvScale=new b.Vector2(1,1);this.setValues(a);void 0===(a=a||{}).depthTest&&(this.depthTest=!this.useScreenCoordinates);void 0===a.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates);void 0===a.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)};b.SpriteMaterial.prototype=
Object.create(b.Material.prototype);b.SpriteMaterial.prototype.clone=function(){var a=new b.SpriteMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a.map=this.map,a.useScreenCoordinates=this.useScreenCoordinates,a.sizeAttenuation=this.sizeAttenuation,a.scaleByViewport=this.scaleByViewPort,a.alignment.copy(this.alignment),a.uvOffset.copy(this.uvOffset),a};b.SpriteAlignment={};b.SpriteAlignment.topLeft=new b.Vector2(1,-1);b.SpriteAlignment.topCenter=new b.Vector2(0,-1);
b.SpriteAlignment.topRight=new b.Vector2(-1,-1);b.SpriteAlignment.centerLeft=new b.Vector2(1,0);b.SpriteAlignment.center=new b.Vector2(0,0);b.SpriteAlignment.centerRight=new b.Vector2(-1,0);b.SpriteAlignment.bottomLeft=new b.Vector2(1,1);b.SpriteAlignment.bottomCenter=new b.Vector2(0,1);b.SpriteAlignment.bottomRight=new b.Vector2(-1,1);b.Texture=function(a,c){b.EventDispatcher.call(this);this.id=b.TextureIdCount++;this.name="";this.image=a;this.mapping=new b.UVMapping;this.wrapT=this.wrapS=b.ClampToEdgeWrapping;
this.anisotropy=1;c?(this.format=b.RFormat,this.type=b.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=b.NearestFilter,this.minFilter=b.NearestFilter):(this.format=b.RGBAFormat,this.type=b.UnsignedByteType,this.offset=new b.Vector2(0,0),this.repeat=new b.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=b.LinearFilter,this.minFilter=b.LinearMipMapLinearFilter);this.needsUpdate=!1;this.onUpdate=null};b.Texture.prototype=
{constructor:b.Texture,clone:function(a){return void 0===a&&(a=new b.Texture),a.image=this.image,a.mapping=this.mapping,a.wrapS=this.wrapS,a.wrapT=this.wrapT,a.magFilter=this.magFilter,a.minFilter=this.minFilter,a.anisotropy=this.anisotropy,a.format=this.format,a.type=this.type,a.offset.copy(this.offset),a.repeat.copy(this.repeat),a.premultiplyAlpha=this.premultiplyAlpha,a.flipY=this.flipY,a.unpackAlignment=this.unpackAlignment,a},dispose:function(){this.dispatchEvent({type:"dispose"})}};b.TextureIdCount=
0;b.FrontSide=0;b.BackSide=1;b.DoubleSide=2;b.NoShading=0;b.FlatShading=1;b.SmoothShading=2;b.NoColors=0;b.FaceColors=1;b.VertexColors=2;b.MultiplyOperation=0;b.MixOperation=1;b.AddOperation=2;b.UVMapping=function(){};b.ClampToEdgeWrapping=1001;b.LinearFilter=1006;b.NearestFilter=1007;b.LinearMipMapLinearFilter=1008;b.UnsignedByteType=1009;b.FloatType=1010;b.RGBAFormat=1021;b.RFormat=1022;b.R32Format=1023;b.Line=function(a,c,e){b.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new b.LineBasicMaterial({color:16777215*
Math.random()});this.type=void 0!==e?e:b.LineStrip};b.LineStrip=0;b.LinePieces=1;b.Line.prototype=Object.create(b.Object3D.prototype);b.Line.prototype.clone=function(a){return void 0===a&&(a=new b.Line(this.geometry,this.material,this.type)),b.Object3D.prototype.clone.call(this,a),a};b.Mesh=function(a,c){b.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new b.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})};b.Mesh.prototype=Object.create(b.Object3D.prototype);b.Mesh.prototype.clone=
function(a){return void 0===a&&(a=new b.Mesh(this.geometry,this.material)),b.Object3D.prototype.clone.call(this,a),a};b.Sprite=function(a){b.Object3D.call(this);this.material=void 0!==a?a:new b.SpriteMaterial;this.rotation3d=this.rotation;this.rotation=0};b.Sprite.prototype=Object.create(b.Object3D.prototype);b.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);1===this.scale.x&&1===
this.scale.y||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0};b.Sprite.prototype.clone=function(a){return void 0===a&&(a=new b.Sprite(this.material)),b.Object3D.prototype.clone.call(this,a),a};b.Renderer=function(a){function c(a){ja[a]||(q.enableVertexAttribArray(a),ja[a]=!0)}function e(a,b){var c;return 1==K||b.startsWith("#version")||(b=b.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),b="#version 300 es\n"+(b=(b=(b=(b=(b="fragment"==a?b.replace(/varying/g,"in"):b.replace(/varying/g,"out")).replace(/attribute/g,
"in")).replace(/texture2D/g,"texture")).replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;")).replace(/gl_FragColor/g,"glFragColor"))),"fragment"===a?c=q.createShader(q.FRAGMENT_SHADER):"vertex"===a&&(c=q.createShader(q.VERTEX_SHADER)),q.shaderSource(c,b),q.compileShader(c),q.getShaderParameter(c,q.COMPILE_STATUS)?c:(console.error(q.getShaderInfoLog(c)),console.error("could not initialize shader"),null)}function n(a,b,c,d){var g;var l=[];for(h in l.push(a),l.push(b),d)l.push(h),l.push(d[h]);l=
l.join();var h=0;for(g=ia.length;h<g;h++){var m=ia[h];if(m.code===l)return m.usedTimes++,m.program}if(1==K&&d.volumetric)throw Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");h=q.createProgram();m="precision "+x+" float;";g=[d.volumetric?"#version 300 es":"",m].join("\n");a=e("fragment",[d.volumetric?"#version 300 es":"",d.fragdepth&&1==K?"#extension GL_EXT_frag_depth: enable":"",d.wireframe?"#define WIREFRAME 1":"",m].join("\n")+a);b=e("vertex",g+b);for(p in q.attachShader(h,
b),q.attachShader(h,a),q.linkProgram(h),q.getProgramParameter(h,q.LINK_STATUS)||console.error("Could not initialize shader"),h.uniforms={},h.attributes={},b=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"],c)b.push(p);for(c=0;c<b.length;c++){var p=b[c];h.uniforms[p]=q.getUniformLocation(h,p)}b="position normal color lineDistance offset radius".split(" ");for(c=0;c<b.length;c++)p=b[c],h.attributes[p]=q.getAttribLocation(h,p);return h.id=X++,ia.push({program:h,code:l,usedTimes:1}),
M.info.memory.programs=ia.length,h}function t(a,c,d,g,e,l){g.needsUpdate&&(g.program&&Nb(g),M.initMaterial(g,c,d,e),g.needsUpdate=!1);var h=!1,m=g.program,p=m.uniforms,r=g.uniforms;if(m!=N&&(q.useProgram(m),N=m,h=!0),g.id!=H&&(H=g.id,h=!0),a!=Fa&&(Fa=a,h=!0),q.uniformMatrix4fv(p.projectionMatrix,!1,a.projectionMatrix.elements),q.uniformMatrix4fv(p.modelViewMatrix,!1,e._modelViewMatrix.elements),q.uniformMatrix3fv(p.normalMatrix,!1,e._normalMatrix.elements),h)(r.fogColor.value=d.color,r.fogNear.value=
d.near,r.fogFar.value=d.far,g.shaderID.startsWith("lambert")||"instanced"===g.shaderID||g.shaderID.endsWith("imposter"))?(q.uniformMatrix4fv(p.viewMatrix,!1,a.matrixWorldInverse.elements),aa&&(!function(a,c){var d,g,e,l,h=I,m=h.directional.colors,p=h.directional.positions,q=0,r=0;a=0;for(d=c.length;a<d;a++)(g=c[a],e=g.color,l=g.intensity,g.distance,g instanceof b.Light)&&(0,ca.getPositionFromMatrix(g.matrixWorld),ha.getPositionFromMatrix(g.target.matrixWorld),ca.sub(ha),ca.normalize(),0!==ca.x||0!==
ca.y||0!==ca.z)&&(p[r]=ca.x,p[r+1]=ca.y,p[r+2]=ca.z,m[r]=e.r*l,m[r+1]=e.g*l,m[r+2]=e.b*l,r+=3,q++);h.ambient[0]=0;h.ambient[1]=0;h.ambient[2]=0;h.directional.length=q}(0,c),aa=!1),r.directionalLightColor.value=I.directional.colors,r.directionalLightDirection.value=I.directional.positions):g.shaderID.endsWith("outline")?(r.outlineColor.value=g.outlineColor,r.outlineWidth.value=g.outlineWidth,r.outlinePushback.value=g.outlinePushback):"sphereimposter"===g.shaderID?(q.uniformMatrix4fv(p.viewMatrix,!1,
a.matrixWorldInverse.elements),r.directionalLightColor.value=I.directional.colors,r.directionalLightDirection.value=I.directional.positions):"volumetric"===g.shaderID&&(e._modelViewMatrix.getScale(ca),Z.getInverse(e._modelViewMatrix),ba.getInverse(a.projectionMatrix),F.multiplyMatrices(e.material.texmatrix,Z),q.uniformMatrix4fv(p.textmat,!1,F.elements),q.uniformMatrix4fv(p.projinv,!1,ba.elements),a=Math.min(Math.min(ca.x,ca.y),ca.z),r.step.value=e.material.unit*a,r.maxdepth.value=e.material.maxdepth*
a,r.transfermax.value=e.material.transfermax,r.transfermin.value=e.material.transfermin,r.subsamples.value=e.material.subsamples,l.setTexture(e.material.transferfn,4,!1),l.setTexture(e.material.map,3,!0),q.activeTexture(q.TEXTURE5),q.bindTexture(q.TEXTURE_2D,Ya)),r.opacity.value=g.opacity,function(a,b){var c,d,g,e;for(c in b)a[c]&&(d=b[c].type,g=b[c].value,e=a[c],"f"===d?q.uniform1f(e,g):"i"===d?q.uniform1i(e,g):"fv"===d?q.uniform3fv(e,g):"c"===d?q.uniform3f(e,g.r,g.g,g.b):"f4"===d&&q.uniform4f(e,
g[0],g[1],g[2],g[3]))}(p,r);return m}function m(a,b,c,d,g,e,l){var h,m,p,r,w,n,E;b?(w=a.length-1,n=-1,E=-1):(w=0,n=a.length,E=1);for(b=w;b!==n;b+=E)(h=a[b]).render&&(m=h.object,p=h.buffer,r=h[c])&&(l&&M.setBlending(!0),M.setDepthTest(r.depthTest),M.setDepthWrite(r.depthWrite),w=r.polygonOffset,r.polygonOffsetFactor,r.polygonOffsetUnits,null!==w&&(w?q.enable(q.POLYGON_OFFSET_FILL):q.disable(q.POLYGON_OFFSET_FILL)),w=m._modelViewMatrix.isReflected(),M.setMaterialFaces(r,w),M.renderBuffer(d,g,e,r,p,
m),(U||r.outline)&&("sphereimposter"==r.shaderID?M.renderBuffer(d,g,e,S,p,m):"stickimposter"==r.shaderID?M.renderBuffer(d,g,e,C,p,m):r.wireframe||"basic"===r.shaderID||0===r.opacity||M.renderBuffer(d,g,e,B,p,m)))}function h(a,c){a instanceof b.Mesh||a instanceof b.Line?function(a,b){for(var c=a.length-1;0<=c;--c)a[c].object===b&&a.splice(c,1)}(c.__webglObjects,a):a instanceof b.Sprite&&function(a,b){for(var c=a.length-1;0<=c;--c)a[c]===b&&a.splice(c,1)}(c.__webglSprites,a);a.__webglActive=!1}function r(a,
b){a==q.TEXTURE_2D?(q.texParameteri(a,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(a,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE),q.texParameteri(a,q.TEXTURE_MAG_FILTER,q.LINEAR),q.texParameteri(a,q.TEXTURE_MIN_FILTER,q.LINEAR)):(q.texParameteri(a,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(a,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE),q.texParameteri(a,q.TEXTURE_WRAP_R,q.CLAMP_TO_EDGE),v&&va?(q.texParameteri(a,q.TEXTURE_MAG_FILTER,q.LINEAR),q.texParameteri(a,q.TEXTURE_MIN_FILTER,q.LINEAR)):(q.texParameteri(a,
q.TEXTURE_MAG_FILTER,q.NEAREST),q.texParameteri(a,q.TEXTURE_MIN_FILTER,q.NEAREST)))}function u(a){return a===b.UnsignedByteType?q.UNSIGNED_BYTE:a===b.RGBAFormat?q.RGBA:a===b.NearestFilter?q.NEAREST:0}a=a||{};this.row=a.row;this.col=a.col;this.rows=a.rows;this.cols=a.cols;var y=void 0!==a.canvas?a.canvas:document.createElement("canvas"),x=void 0!==a.precision?a.precision:"highp",p=void 0===a.alpha||a.alpha,d=void 0===a.premultipliedAlpha||a.premultipliedAlpha,g=void 0!==a.antialias&&a.antialias,E=
void 0===a.stencil||a.stencil,l=void 0!==a.preserveDrawingBuffer&&a.preserveDrawingBuffer,L=void 0!==a.clearColor?new b.Color(a.clearColor):new b.Color(0),A=void 0!==a.clearAlpha?a.clearAlpha:0,B=new b.MeshOutlineMaterial(a.outline),S=new b.SphereImposterOutlineMaterial(a.outline),C=new b.StickImposterOutlineMaterial(a.outline),U=!!a.outline;this.domElement=y;this.context=null;this.devicePixelRatio=1;y.id=a.id;this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=
this.autoClearColor=this.autoClear=!0;this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var q,M=this,ia=[],X=0,K=1,N=null,H=-1,z=null,Fa=null,O=0,W=-1,V=-1,P=-1,J=-1,Q=null,R=0,T=0,ea=0,la=0,ja={},fa=new b.Matrix4,ha=new b.Vector3,Z=new b.Matrix4,ba=new b.Matrix4,F=new b.Matrix4,ca=new b.Vector3,aa=!0,I={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,
colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},qa=null,Y=null,xa=null,na=null,Za=null,Ya=null;!function(){try{if(!(q=y.getContext("webgl2",{alpha:p,premultipliedAlpha:d,antialias:g,stencil:E,preserveDrawingBuffer:l}))&&!(q=y.getContext("experimental-webgl",{alpha:p,premultipliedAlpha:d,antialias:g,stencil:E,preserveDrawingBuffer:l}))&&!(q=y.getContext("webgl",{alpha:p,premultipliedAlpha:d,antialias:g,stencil:E,
preserveDrawingBuffer:l})))throw"Error creating WebGL context.";var a=q.getParameter(q.VERSION);K=parseInt(a[6])}catch(w){console.error(w)}}();q.clearColor(0,0,0,1);q.clearDepth(1);q.clearStencil(0);q.enable(q.DEPTH_TEST);q.depthFunc(q.LEQUAL);q.frontFace(q.CCW);q.cullFace(q.BACK);q.enable(q.CULL_FACE);q.enable(q.BLEND);q.blendEquation(q.FUNC_ADD);q.blendFunc(q.SRC_ALPHA,q.ONE_MINUS_SRC_ALPHA);q.clearColor(L.r,L.g,L.b,A);this.context=q;var Qa=q.getExtension("ANGLE_instanced_arrays"),za=q.getExtension("EXT_frag_depth"),
va=q.getExtension("OES_texture_float_linear"),v=q.getExtension("EXT_color_buffer_float");this.supportedExtensions=function(){return{supportsAIA:!!Qa,supportsImposters:!!za||1!=K}};this.getContext=function(){return q};this.getPrecision=function(){return x};this.setClearColorHex=function(a,b){L.setHex(a);A=b;q.clearColor(L.r,L.g,L.b,A)};this.enableOutline=function(a){B=new b.MeshOutlineMaterial(a);S=new b.SphereImposterOutlineMaterial(a);C=new b.StickImposterOutlineMaterial(a);U=!0};this.disableOutline=
function(){U=!1};this.setViewport=function(){if(null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var a=y.width/this.cols,b=y.height/this.rows;R=a;T=b;q.enable(q.SCISSOR_TEST);q.scissor(a*this.col,b*this.row,a,b);q.viewport(a*this.col,b*this.row,a,b)}};this.setSize=function(a,b){if(this.devicePixelRatio=void 0!==window.devicePixelRatio?window.devicePixelRatio:1,g&&2>this.devicePixelRatio&&(this.devicePixelRatio*=2),null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var c=
a/this.cols,d=b/this.rows;y.width=a*this.devicePixelRatio;y.height=b*this.devicePixelRatio;R=c*this.devicePixelRatio;T=d*this.devicePixelRatio;y.style.width=a+"px";y.style.height=b+"px";this.setViewport()}else R=y.width=a*this.devicePixelRatio,T=y.height=b*this.devicePixelRatio,y.style.width=a+"px",y.style.height=b+"px",q.viewport(0,0,q.drawingBufferWidth,q.drawingBufferHeight);this.initFrameBuffer()};this.clear=function(a,b,c){var d=0;(void 0===a||a)&&(d|=q.COLOR_BUFFER_BIT);(void 0===b||b)&&(d|=
q.DEPTH_BUFFER_BIT);(void 0===c||c)&&(d|=q.STENCIL_BUFFER_BIT);q.clear(d)};this.clearTarget=function(a,b,c){this.clear(a,b,c)};this.setMaterialFaces=function(a,c){var d=a.side===b.DoubleSide;a=a.side===b.BackSide;a=c?!a:a;W!==d&&(d?q.disable(q.CULL_FACE):q.enable(q.CULL_FACE),W=d);V!==a&&(a?q.frontFace(q.CW):q.frontFace(q.CCW),V=a);q.cullFace(q.BACK)};this.setDepthTest=function(a){P!==a&&(a?q.enable(q.DEPTH_TEST):q.disable(q.DEPTH_TEST),P=a)};this.setDepthWrite=function(a){J!==a&&(q.depthMask(a),
J=a)};this.setBlending=function(a){a?(q.enable(q.BLEND),q.blendEquationSeparate(q.FUNC_ADD,q.FUNC_ADD),q.blendFuncSeparate(q.SRC_ALPHA,q.ONE_MINUS_SRC_ALPHA,q.ONE,q.ONE_MINUS_SRC_ALPHA)):q.disable(q.BLEND);a};this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};var Nb=function(a){var b=a.program;if(void 0!==b){var c,d;a.program=void 0;var g=!1;a=0;for(c=ia.length;a<c;a++)if((d=ia[a]).program===b){d.usedTimes--;0===d.usedTimes&&(g=!0);break}if(!0===g){g=[];a=0;for(c=ia.length;a<
c;a++)(d=ia[a]).program!==b&&g.push(d);ia=g;q.deleteProgram(b);M.info.memory.programs--}}},Aa=function(a){a=a.target;a.removeEventListener("dispose",Aa);if(a.__webglInit=void 0,void 0!==a.__webglVertexBuffer&&q.deleteBuffer(a.__webglVertexBuffer),void 0!==a.__webglColorBuffer&&q.deleteBuffer(a.__webglColorBuffer),void 0!==a.geometryGroups)for(var b=0,c=a.groups;b<c;b++){var d=a.geometryGroups[b];void 0!==d.__webglVertexBuffer&&q.deleteBuffer(d.__webglVertexBuffer);void 0!==d.__webglColorBuffer&&q.deleteBuffer(d.__webglColorBuffer);
void 0!==d.__webglNormalBuffer&&q.deleteBuffer(d.__webglNormalBuffer);void 0!==d.__webglFaceBuffer&&q.deleteBuffer(d.__webglFaceBuffer);void 0!==d.__webglLineBuffer&&q.deleteBuffer(d.__webglLineBuffer)}M.info.memory.geometries--},ma=function(a){a=a.target;a.removeEventListener("dispose",ma);a.image&&a.image.__webglTextureCube?q.deleteTexture(a.image.__webglTextureCube):a.__webglInit&&(a.__webglInit=!1,q.deleteTexture(a.__webglTexture));M.info.memory.textures--},mb=function(a){a=a.target;a.removeEventListener("dispose",
mb);Nb(a)};this.initMaterial=function(a){var c;if(a.addEventListener("dispose",mb),c=a.shaderID)c=b.ShaderLib[c],a.vertexShader=c.vertexShader,a.fragmentShader=c.fragmentShader,a.uniforms=b.ShaderUtils.clone(c.uniforms);a.program=n(a.fragmentShader,a.vertexShader,a.uniforms,{wireframe:a.wireframe,fragdepth:a.imposter,volumetric:a.volumetric})};this.renderBuffer=function(a,d,g,e,l,h){if(e.visible){d=(g=t(a,d,g,e,h,this)).attributes;a=!1;g=16777215*l.id+2*g.id+(e.wireframe?1:0);g!==z&&(z=g,a=!0);if(a){for(var m in ja)ja[m]&&
(q.disableVertexAttribArray(m),ja[m]=!1);!0;0<=d.position&&(q.bindBuffer(q.ARRAY_BUFFER,l.__webglVertexBuffer),c(d.position),q.vertexAttribPointer(d.position,3,q.FLOAT,!1,0,0));0<=d.color&&(q.bindBuffer(q.ARRAY_BUFFER,l.__webglColorBuffer),c(d.color),q.vertexAttribPointer(d.color,3,q.FLOAT,!1,0,0));0<=d.normal&&(q.bindBuffer(q.ARRAY_BUFFER,l.__webglNormalBuffer),c(d.normal),q.vertexAttribPointer(d.normal,3,q.FLOAT,!1,0,0));0<=d.offset&&(q.bindBuffer(q.ARRAY_BUFFER,l.__webglOffsetBuffer),c(d.offset),
q.vertexAttribPointer(d.offset,3,q.FLOAT,!1,0,0));0<=d.radius&&(q.bindBuffer(q.ARRAY_BUFFER,l.__webglRadiusBuffer),c(d.radius),q.vertexAttribPointer(d.radius,1,q.FLOAT,!1,0,0))}if(h instanceof b.Mesh){if("instanced"===e.shaderID){var p=e.sphere.geometryGroups[0];a&&(q.bindBuffer(q.ARRAY_BUFFER,l.__webglVertexBuffer),q.bufferData(q.ARRAY_BUFFER,p.vertexArray,q.STATIC_DRAW),q.bindBuffer(q.ARRAY_BUFFER,l.__webglNormalBuffer),q.bufferData(q.ARRAY_BUFFER,p.normalArray,q.STATIC_DRAW),q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,
l.__webglFaceBuffer),q.bufferData(q.ELEMENT_ARRAY_BUFFER,p.faceArray,q.STATIC_DRAW));p=p.faceidx;Qa.vertexAttribDivisorANGLE(d.offset,1);Qa.vertexAttribDivisorANGLE(d.radius,1);Qa.vertexAttribDivisorANGLE(d.color,1);Qa.drawElementsInstancedANGLE(q.TRIANGLES,p,q.UNSIGNED_SHORT,0,l.radiusArray.length);Qa.vertexAttribDivisorANGLE(d.offset,0);Qa.vertexAttribDivisorANGLE(d.radius,0);Qa.vertexAttribDivisorANGLE(d.color,0)}else e.wireframe?(h=l.lineidx,e=e.wireframeLinewidth,e!==Q&&(q.lineWidth(e),Q=e),
a&&q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,l.__webglLineBuffer),q.drawElements(q.LINES,h,q.UNSIGNED_SHORT,0)):(p=l.faceidx,a&&q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,l.__webglFaceBuffer),q.drawElements(q.TRIANGLES,p,q.UNSIGNED_SHORT,0));M.info.render.calls++;M.info.render.vertices+=p;M.info.render.faces+=p/3}else h instanceof b.Line&&(h=l.vertices,l=e.linewidth,l!==Q&&(q.lineWidth(l),Q=l),q.drawArrays(q.LINES,0,h),M.info.render.calls++)}};this.render=function(a,c,d){if(0!=c instanceof b.Camera){var g,e,l,
h=a.__lights,p=a.fog;H=-1;aa=!0;this.autoUpdateScene&&a.updateMatrixWorld();void 0===c.parent&&c.updateMatrixWorld();c.matrixWorldInverse.getInverse(c.matrixWorld);fa.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);this.autoUpdateObjects&&this.initWebGLObjects(a);M.info.render.calls=0;M.info.render.vertices=0;M.info.render.faces=0;M.info.render.points=0;ea=R;la=T;this.setViewport();this.setFrameBuffer();(this.autoClear||d)&&(q.clearColor(L.r,L.g,L.b,A),this.clear(this.autoClearColor,this.autoClearDepth,
this.autoClearStencil));var r=!1;d=0;for(g=(l=a.__webglObjects).length;d<g;d++){var n=(e=l[d]).object;e.render=!1;if(n.visible){n._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,n.matrixWorld);n._normalMatrix.getInverse(n._modelViewMatrix);n._normalMatrix.transpose();n=e;var E=n.object.material;E.volumetric?(n.opaque=null,n.transparent=null,n.volumetric=E):E.transparent?(n.opaque=null,n.volumetric=null,n.transparent=E,E.wireframe)||(E=E.clone(),E.opacity=0,n.blank=E):(n.opaque=E,n.transparent=
null,n.volumetric=null);e.render=!0;e.volumetric&&(r=!0)}}this.setBlending(!1);m(a.__webglObjects,!0,"opaque",c,h,p,!1);m(a.__webglObjects,!0,"blank",c,h,p,!0);m(a.__webglObjects,!1,"transparent",c,h,p,!0);r&&na&&(this.reinitFrameBuffer(),m(a.__webglObjects,!1,"volumetric",c,h,p,!0));h=this.renderPluginsPost;if(z=-1,N=null,Fa=null,-1,J=-1,P=-1,W=-1,H=-1,V=-1,h.length)for(p=0,d=h.length;p<d;p++)aa=!0,h[p].render(a,c,ea,la),z=-1,Fa=N=null,-1,V=H=W=P=J=-1;this.renderFrameBuffertoScreen();this.setDepthTest(!0);
this.setDepthWrite(!0)}else console.error("$3Dmol.Renderer.render: camera is not an instance of $3Dmol.Camera.")};this.reinitFrameBuffer=function(){1==K||(na=q.createFramebuffer(),q.bindFramebuffer(q.FRAMEBUFFER,na),q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Za,0))};this.setFrameBuffer=function(){if(1!=K&&na){var a=R,b=T;q.enable(q.SCISSOR_TEST);q.scissor(0,0,a,b);q.viewport(0,0,a,b);q.bindTexture(q.TEXTURE_2D,Za);q.texImage2D(q.TEXTURE_2D,0,q.RGBA,a,b,0,q.RGBA,q.UNSIGNED_BYTE,
null);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.LINEAR);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);q.bindTexture(q.TEXTURE_2D,Ya);q.texImage2D(q.TEXTURE_2D,0,q.DEPTH_COMPONENT32F,a,b,0,q.DEPTH_COMPONENT,q.FLOAT,null);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST);q.texParameteri(q.TEXTURE_2D,
q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);q.bindFramebuffer(q.FRAMEBUFFER,na);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Za,0);q.framebufferTexture2D(q.FRAMEBUFFER,q.DEPTH_ATTACHMENT,q.TEXTURE_2D,Ya,0)}};this.initFrameBuffer=function(){if(1!=K){var a=R,c=T;q.enable(q.SCISSOR_TEST);q.scissor(0,0,a,c);q.viewport(0,0,a,c);Za=q.createTexture();Ya=q.createTexture();na=q.createFramebuffer();a=b.ShaderLib.screen;qa=n(a.fragmentShader,
a.vertexShader,a.uniforms,{});Y=q.getAttribLocation(qa,"vertexPosition");xa=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,xa);q.bufferData(q.ARRAY_BUFFER,new Float32Array([1,1,-1,1,-1,-1,-1,-1,1,-1,1,1]),q.STATIC_DRAW)}};this.renderFrameBuffertoScreen=function(){1==K||null===na||(this.setViewport(),q.bindFramebuffer(q.FRAMEBUFFER,null),q.clear(q.COLOR_BUFFER_BIT|q.DEPTH_BUFFER_BIT),q.frontFace(q.CCW),q.cullFace(q.BACK),q.useProgram(qa),N=qa,this.setDepthTest(-1),this.setDepthWrite(-1),q.bindBuffer(q.ARRAY_BUFFER,
xa),q.enableVertexAttribArray(Y),q.vertexAttribPointer(Y,2,q.FLOAT,!1,0,0),q.activeTexture(q.TEXTURE0),q.bindTexture(q.TEXTURE_2D,Za),q.drawArrays(q.TRIANGLES,0,6))};this.initWebGLObjects=function(a){if(a.__webglObjects||(a.__webglObjects=[],a.__webglObjectsImmediate=[],a.__webglSprites=[],a.__webglFlares=[]),a.__objectsAdded.length){for(;a.__objectsAdded.length;){var c,d,g=a.__objectsAdded[0],e=a;if(!g.__webglInit&&(g.__webglInit=!0,g._modelViewMatrix=new b.Matrix4,g._normalMatrix=new b.Matrix3,
void 0!==g.geometry&&void 0===g.geometry.__webglInit&&(g.geometry.__webglInit=!0,g.geometry.addEventListener("dispose",Aa)),g instanceof b.Mesh||g instanceof b.Line)){var l=g.geometry;g.material;var m=0;for(d=l.geometryGroups.length;m<d;m++)(c=l.geometryGroups[m]).id=O++,c.__webglVertexBuffer||(g instanceof b.Mesh?(c.radiusArray&&(c.__webglRadiusBuffer=q.createBuffer()),c.useOffset&&(c.__webglOffsetBuffer=q.createBuffer()),c.__webglVertexBuffer=q.createBuffer(),c.__webglNormalBuffer=q.createBuffer(),
c.__webglColorBuffer=q.createBuffer(),c.__webglFaceBuffer=q.createBuffer(),c.__webglLineBuffer=q.createBuffer(),M.info.memory.geometries++,l.elementsNeedUpdate=!0,l.normalsNeedUpdate=!0):g instanceof b.Line&&(c.__webglVertexBuffer=q.createBuffer(),c.__webglColorBuffer=q.createBuffer(),M.info.memory.geometries++),l.verticesNeedUpdate=!0,l.colorsNeedUpdate=!0)}if(!g.__webglActive){if(g instanceof b.Mesh||g instanceof b.Line)for(m=0,d=(l=g.geometry).geometryGroups.length;m<d;m++)c=l.geometryGroups[m],
e.__webglObjects.push({buffer:c,object:g,opaque:null,transparent:null});else g instanceof b.Sprite&&e.__webglSprites.push(g);g.__webglActive=!0}a.__objectsAdded.splice(0,1)}z=-1}for(;a.__objectsRemoved.length;)h(a.__objectsRemoved[0],a),a.__objectsRemoved.splice(0,1);l=0;for(d=a.__webglObjects.length;l<d;l++)if(g=a.__webglObjects[l].object,m=g.geometry,g instanceof b.Mesh||g instanceof b.Line){g=0;for(e=m.geometryGroups.length;g<e;g++)if(c=m.geometryGroups[g],m.verticesNeedUpdate||m.elementsNeedUpdate||
m.colorsNeedUpdate||m.normalsNeedUpdate){var p=q.STATIC_DRAW,r=c.vertexArray,n=c.colorArray;if(void 0!==c.__webglOffsetBuffer?(q.bindBuffer(q.ARRAY_BUFFER,c.__webglOffsetBuffer),q.bufferData(q.ARRAY_BUFFER,r,p)):(q.bindBuffer(q.ARRAY_BUFFER,c.__webglVertexBuffer),q.bufferData(q.ARRAY_BUFFER,r,p)),q.bindBuffer(q.ARRAY_BUFFER,c.__webglColorBuffer),q.bufferData(q.ARRAY_BUFFER,n,p),c.normalArray&&void 0!==c.__webglNormalBuffer)r=c.normalArray,q.bindBuffer(q.ARRAY_BUFFER,c.__webglNormalBuffer),q.bufferData(q.ARRAY_BUFFER,
r,p);if(c.radiusArray&&void 0!==c.__webglRadiusBuffer&&(q.bindBuffer(q.ARRAY_BUFFER,c.__webglRadiusBuffer),q.bufferData(q.ARRAY_BUFFER,c.radiusArray,p)),c.faceArray&&void 0!==c.__webglFaceBuffer)r=c.faceArray,q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,c.__webglFaceBuffer),q.bufferData(q.ELEMENT_ARRAY_BUFFER,r,p);c.lineArray&&void 0!==c.__webglLineBuffer&&(r=c.lineArray,q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,c.__webglLineBuffer),q.bufferData(q.ELEMENT_ARRAY_BUFFER,r,p))}m.verticesNeedUpdate=!1;m.elementsNeedUpdate=
!1;m.normalsNeedUpdate=!1;m.colorsNeedUpdate=!1;m.buffersNeedUpdate=!1}};this.getYRatio=function(){return void 0!==this.rows&&void 0!==this.row?this.rows:1};this.getXRatio=function(){return void 0!==this.cols&&void 0!==this.col?this.cols:1};this.getAspect=function(a,b){null!=a&&null!=b||(a=y.width,b=y.height);var c=a/b;null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col&&(c=a/this.cols/(b/this.rows));return c};this.setTexture=function(a,b,c){if(a.needsUpdate){a.__webglInit||(a.__webglInit=
!0,a.addEventListener("dispose",ma),a.__webglTexture=q.createTexture(),M.info.memory.textures++);q.activeTexture(q.TEXTURE0+b);q.bindTexture(c?q.TEXTURE_3D:q.TEXTURE_2D,a.__webglTexture);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,a.flipY);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);q.pixelStorei(q.UNPACK_ALIGNMENT,a.unpackAlignment);q.pixelStorei(q.PACK_ALIGNMENT,a.unpackAlignment);b=u(a.format);var d=u(a.type);if(c)r(q.TEXTURE_3D,a),q.texImage3D(q.TEXTURE_3D,0,q.R32F,a.image.size.z,
a.image.size.y,a.image.size.x,0,q.RED,q.FLOAT,a.image.data);else{c=a.image;var g=c.width,e=c.height;void 0===g&&(g=c.length,b==q.RGBA&&(g/=4),e=1);r(q.TEXTURE_2D,a);1==K?q.texImage2D(q.TEXTURE_2D,0,b,b,d,a.image):q.texImage2D(q.TEXTURE_2D,0,b,g,e,0,b,d,a.image)}a.needsUpdate=!1;a.onUpdate&&a.onUpdate()}else q.activeTexture(q.TEXTURE0+b),c?q.bindTexture(q.TEXTURE_3D,a.__webglTexture):q.bindTexture(q.TEXTURE_2D,a.__webglTexture)};this.supportsVolumetric=function(){return 1!=K};this.addPostPlugin(new b.SpritePlugin)};
b.Scene=function(){b.Object3D.call(this);this.overrideMaterial=this.fog=null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};b.Scene.prototype=Object.create(b.Object3D.prototype);b.Scene.prototype.__addObject=function(a){if(a instanceof b.Light)-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target);else if(-1===this.__objects.indexOf(a)){this.__objects.push(a);this.__objectsAdded.push(a);
var c=this.__objectsRemoved.indexOf(a);-1!==c&&this.__objectsRemoved.splice(c,1)}for(c=0;c<a.children.length;c++)this.__addObject(a.children[c])};b.Scene.prototype.__removeObject=function(a){var c;a instanceof b.Light?-1!==(c=this.__lights.indexOf(a))&&this.__lights.splice(c,1):-1!==(c=this.__objects.indexOf(a))&&(this.__objects.splice(c,1),this.__objectsRemoved.push(a),-1!==this.__objectsAdded.indexOf(a)&&this.__objectsAdded.splice(c,1));for(c=0;c<a.children.length;c++)this.__removeObject(a.children[c])};
b.Fog=function(a,c,e){this.name="";this.color=new b.Color(a);this.near=void 0!==c?c:1;this.far=void 0!==e?e:1E3};b.Fog.prototype.clone=function(){return new b.Fog(this.color.getHex(),this.near,this.far)};b.ShaderUtils={clone:function(a){var c,e={};for(c in a){e[c]={};e[c].type=a[c].type;var n=a[c].value;n instanceof b.Color?e[c].value=n.clone():"number"==typeof n?e[c].value=n:n instanceof Array?e[c].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return e},
stickimposterFragmentShader:"uniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLight;\nvarying vec3 vColor;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\n//DEFINEFRAGCOLOR\nvoid main() {\n    vec3 color = abs(vColor);\n    vec3 pos = cposition;\n    vec3 p = pos;\n    vec3 v = normalize(pos);\n    vec3 pa = p1;\n    vec3 va = normalize(p2-p1);\n    vec3 tmp1 = v-(dot(v,va)*va);\n    vec3 deltap = p-pa;\n    float A = dot(tmp1,tmp1);\n    if(A == 0.0) discard;\n    vec3 tmp2 = deltap-(dot(deltap,va)*va);\n    float B = 2.0*dot(tmp1, tmp2);\n    float C = dot(tmp2,tmp2)-r*r;\n    float det = (B*B) - (4.0*A*C);\n    if(det < 0.0) discard;\n    float sqrtDet = sqrt(det);\n    float posT = (-B+sqrtDet)/(2.0*A);\n    float negT = (-B-sqrtDet)/(2.0*A);\n    float intersectionT = min(posT,negT);\n    vec3 qi = p+v*intersectionT;\n    float dotp1 = dot(va,qi-p1);\n    float dotp2 = dot(va,qi-p2);\n    vec3 norm;\n    if( dotp1 < 0.0 || dotp2 > 0.0) {\n       vec3 cp;\n       if( dotp1 < 0.0) {        cp = p1;\n       } else {\n          cp = p2;\n       }\n       vec3 diff = p-cp;\n       A = dot(v,v);\n       B = dot(diff,v)*2.0;\n       C = dot(diff,diff)-r*r;\n       det = (B*B) - (4.0*C);\n       if(det < 0.0) discard;\n       sqrtDet = sqrt(det);\n       posT = (-B+sqrtDet)/(2.0);\n       negT = (-B-sqrtDet)/(2.0);\n       float t = min(posT,negT);\n       qi = p+v*t;\n       norm = normalize(qi-cp);\n    } else {\n       norm = normalize(qi-(dotp1*va + p1));\n    }\n    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragDepthEXT = depth;"};
b.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\n//DEFINEFRAGCOLOR\nvoid main() {\n    gl_FragColor = vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},sphereimposter:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform float uDepth;\nuniform vec3 directionalLightColor[ 1 ];\nvarying vec3 vColor;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\n//DEFINEFRAGCOLOR\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));\n    float dotProduct = dot( norm, vLight );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_FragColor = vec4(vLight*vColor, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying vec3 vColor;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz );\n    mapping = normal.xy;\n    rval = abs(normal.x);\n    gl_Position = projPosition+adjust;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\n//DEFINEFRAGCOLOR\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},instanced:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\n//DEFINEFRAGCOLOR\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 offset;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},outline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\n//DEFINEFRAGCOLOR\nvoid main() {\n    gl_FragColor = vec4( outlineColor, 1 );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvoid main() {\n    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    mvPosition.xy += norm.xy*outlineWidth;\n    gl_Position = projectionMatrix * mvPosition;\n    mvPosition.z -= outlinePushback;\n    vec4 pushpos = projectionMatrix*mvPosition;\n    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;\n}",
uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new b.Color(0,0,0)},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},sphereimposteroutline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform mat4 projectionMatrix;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nuniform float outlinePushback;\n//DEFINEFRAGCOLOR\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragColor = vec4(outlineColor, 1 );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nvoid main() {\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);\n    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    mapping = norm.xy;\n    rval = abs(norm.x);\n    gl_Position = projPosition+adjust;\n}",
uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new b.Color(0,0,0)},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},stickimposter:{fragmentShader:[b.ShaderUtils.stickimposterFragmentShader,"    float dotProduct = dot( norm, vLight );\n    vec3 light = vec3( max( dotProduct, 0.0 ) );\n    gl_FragColor = vec4(light*color, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}"].join("\n"),
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = color; vColor.z = abs(vColor.z);\n    r = abs(radius);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz )*directionalLightColor[0];\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},stickimposteroutline:{fragmentShader:b.ShaderUtils.stickimposterFragmentShader+"gl_FragColor = vec4(color,1.0);}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nuniform vec3 outlineColor;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = outlineColor;\n    float rad = radius+sign(radius)*outlineWidth;\n    r = abs(rad);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    to.xyz += normalize(to.xyz)*outlinePushback;\n    pt.xyz += normalize(pt.xyz)*outlinePushback;\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vLight = vec3(1.0,1.0,1.0);\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},outlineColor:{type:"c",value:new b.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},lambertdouble:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvarying vec3 vColor;\n//DEFINEFRAGCOLOR\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    if ( gl_FrontFacing )\n       gl_FragColor.xyz *= vLightFront;\n    else\n       gl_FragColor.xyz *= vLightBack;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    vLightBack = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\n//DEFINEFRAGCOLOR\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",
vertexShader:"uniform int useScreenCoordinates;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;\n        finalPosition.xy += rotatedPosition; \n    }\n    gl_Position = finalPosition;\n}",
uniforms:{}},volumetric:{fragmentShader:"uniform highp sampler3D data;\nuniform highp sampler2D colormap;\nuniform highp sampler2D depthmap;\nuniform mat4 textmat;\nuniform mat4 projinv;\nuniform mat4 projectionMatrix;\nuniform float step;\nuniform float subsamples;\nuniform float maxdepth;\nuniform float transfermin;\nuniform float transfermax;\nin  vec4 mvPosition;\nout vec4 color;\nvoid main(void) {\n   vec4 pos = mvPosition;\n   bool seengood = false;\n   float i = 0.0;\n   color = vec4(1,1,1,0);\n   float increment = 1.0/subsamples;\n   float maxsteps = (maxdepth*subsamples/step);\n   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);\n   maxpos = projectionMatrix*maxpos;\n   vec4 startp = projectionMatrix*pos;\n   maxpos /= maxpos.w;\n   startp /= startp.w;\n   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);\n   maxpos = projinv*maxpos;\n   maxpos /= maxpos.w;\n   float incr = step/subsamples;\n   vec2 tpos = startp.xy/2.0+0.5;\n   float depth = texture(depthmap, tpos).r;\n   vec4 direction = maxpos-pos;\n   for( i = 0.0; i <= maxsteps; i++) {\n      vec4 pt = (pos+(i/maxsteps)*direction);\n      vec4 ppt = projectionMatrix*pt;\n      float ptdepth = ppt.z/ppt.w;\n      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n      if(ptdepth > depth) break;\n      pt = textmat*pt;\n      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {\n         seengood = true;\n      } else if(seengood) {\n         break;\n      }\n      float val = texture(data, pt.zyx).r;\n      if(isinf(val)) continue;\n      float cval = (val-transfermin)/(transfermax-transfermin);\n      vec4 val_color = texture(colormap, vec2(cval,0.5));\n      color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;\n      color.a += (1.0 - color.a) * val_color.a; \n      if(color.a > 0.0) color.rgb /= color.a;\n    }\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nin vec3 position;\nout vec4 mvPosition;\nvoid main() {\n    mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix*mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",
value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},screen:{fragmentShader:"uniform sampler2D colormap;\nvarying highp vec2 vTexCoords;\nuniform vec2 dimensions;\n//DEFINEFRAGCOLOR\nvoid main (void) {\n   gl_FragColor = texture2D(colormap, vTexCoords);\n}",vertexShader:"attribute vec2 vertexPosition;\nvarying highp vec2 vTexCoords;\nconst vec2 scale = vec2(0.5, 0.5);\nvoid main() {\n   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range\n   gl_Position = vec4(vertexPosition, 0.0, 1.0);\n}",
uniforms:{}},screenaa:{fragmentShader:"uniform sampler2D colormap;\nvarying highp vec2 vTexCoords;\nuniform vec2 dimensions;\n// Basic FXAA implementation based on the code on geeks3d.com \n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#define FXAA_SPAN_MAX     8.0\nvec4 applyFXAA(vec2 fragCoord, sampler2D tex)\n{\n    vec4 color;\n    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);\n    vec3 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP).xyz;\n    vec3 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP).xyz;\n    vec3 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP).xyz;\n    vec3 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP).xyz;\n    vec3 rgbM  = texture2D(tex, fragCoord  * inverseVP).xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n            dir * rcpDirMin)) * inverseVP;\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord  + dir * -0.5).xyz +\n        texture2D(tex, fragCoord  + dir * 0.5).xyz);\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, 1.0);\n    else\n        color = vec4(rgbB, 1.0);\n    return color;\n}\n//DEFINEFRAGCOLOR\nvoid main (void) {\n   gl_FragColor = applyFXAA(vTexCoords, colormap);\n}",
vertexShader:"attribute vec2 vertexPosition;\nvarying highp vec2 vTexCoords;\nconst vec2 scale = vec2(0.5, 0.5);\nvoid main() {\n   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range\n   gl_Position = vec4(vertexPosition, 0.0, 1.0);\n}",uniforms:{}}};"undefined"==typeof console&&(console={log:function(){}});b.ProteinSurface=function(){var a,c,e=0,n=0,t=0,m=2,h=0,r=0,u=0,y=0,x=null,p=null,d=null,g=0,E=0,l=0,L=0,A=0,B=0,S={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,
O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},C={},U={},q=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,
-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(b){for(var g={},l=0,h=b.length;l<h;l++)g[b[l]]=!0;b=c;l=0;for(h=b.length;l<h;l++)b[l].x=b[l].x/m-e,b[l].y=b[l].y/m-n,b[l].z=b[l].z/m-t;l=[];h=0;for(var q=a.length;h<q;h+=3){var r=a[h],E=a[h+1],A=a[h+2],L=b[E].atomid,B=b[A].atomid,
P=b[r].atomid;L<P&&(P=L);B<P&&(P=B);g[P]&&r!==E&&E!==A&&r!==A&&(l.push(r),l.push(E),l.push(A))}return x=null,p=null,d=null,{vertices:b,faces:l}};this.initparm=function(a,b,c){1E6<c&&(m=1);c=1/m*5.5;g=a[0][0];L=a[1][0];E=a[0][1];A=a[1][1];l=a[0][2];B=a[1][2];b?(g-=1.4+c,E-=1.4+c,l-=1.4+c,L+=1.4+c,A+=1.4+c,B+=1.4+c):(g-=c,E-=c,l-=c,L+=c,A+=c,B+=c);g=Math.floor(g*m)/m;E=Math.floor(E*m)/m;l=Math.floor(l*m)/m;L=Math.ceil(L*m)/m;A=Math.ceil(A*m)/m;B=Math.ceil(B*m)/m;e=-g;n=-E;t=-l;u=Math.ceil(m*(L-g))+
1;r=Math.ceil(m*(A-E))+1;h=Math.ceil(m*(B-l))+1;this.boundingatom(b);y=1.4*m;x=new Uint8Array(u*r*h);p=new Float64Array(u*r*h);d=new Int32Array(u*r*h)};this.boundingatom=function(a){var b,c,d=[],g;for(g in S)if(S.hasOwnProperty(g)){var e=S[g];d[g]=a?(e+1.4)*m+.5:e*m+.5;e=d[g]*d[g];U[g]=Math.floor(d[g])+1;C[g]=new Int32Array(U[g]*U[g]);for(var l=0,h=0;h<U[g];h++)for(var p=0;p<U[g];p++)(b=h*h+p*p)>e?C[g][l]=-1:(c=Math.sqrt(e-b),C[g][l]=Math.floor(c)),l++}};this.fillvoxels=function(a,b){for(var c=0,
g=x.length;c<g;c++)x[c]=0,p[c]=-1,d[c]=-1;for(var e in b)c=a[b[e]],void 0!==c&&this.fillAtom(c,a);a=0;for(b=x.length;a<b;a++)1&x[a]&&(x[a]|=2)};this.fillAtom=function(a,b){var c,g,l,p,q,E,A,L,B,J,Q,M,X;var ia=Math.floor(.5+m*(a.x+e));var y=Math.floor(.5+m*(a.y+n));var z=Math.floor(.5+m*(a.z+t));var fa=a.elem&&void 0!==S[a.elem]?a.elem:"X",ha=0,Z=r*h;var ba=0;for(X=U[fa];ba<X;ba++)for(q=0;q<X;q++){if(-1!=C[fa][ha])for(J=-1;2>J;J++)for(Q=-1;2>Q;Q++)for(M=-1;2>M;M++)if(0!==J&&0!==Q&&0!==M){var F=J*ba;
var ca=M*q;for(E=0;E<=C[fa][ha];E++)if(L=y+(p=E*Q),B=z+ca,!(0>(A=ia+F)||0>L||0>B||A>=u||L>=r||B>=h)){var aa=A*Z+L*h+B;if(1&x[aa]){var I=b[d[aa]];I.serial!=a.serial&&F*F+p*p+ca*ca<(c=ia+F-Math.floor(.5+m*(I.x+e)))*c+(g=y+p-Math.floor(.5+m*(I.y+n)))*g+(l=z+ca-Math.floor(.5+m*(I.z+t)))*l&&(d[aa]=a.serial)}else x[aa]|=1,d[aa]=a.serial}}ha++}};this.fillvoxelswaals=function(a,b){for(var c=0,d=x.length;c<d;c++)x[c]&=-3;for(var g in b)c=a[b[g]],void 0!==c&&this.fillAtomWaals(c,a)};this.fillAtomWaals=function(a,
b){var c,g,l,p,q,E,A,L,B,J,M,R,X,y=0;var ia=Math.floor(.5+m*(a.x+e));var z=Math.floor(.5+m*(a.y+n));var fa=Math.floor(.5+m*(a.z+t));var ha=a.elem&&void 0!==S[a.elem]?a.elem:"X",Z=r*h;var ba=0;for(X=U[ha];ba<X;ba++)for(L=0;L<X;L++){if(-1!=C[ha][y])for(J=-1;2>J;J++)for(M=-1;2>M;M++)for(R=-1;2>R;R++)if(0!==J&&0!==M&&0!==R){var F=J*ba;var ca=R*L;for(B=0;B<=C[ha][y];B++)if(E=z+(p=B*M),A=fa+ca,!(0>(q=ia+F)||0>E||0>A||q>=u||E>=r||A>=h)){var aa=q*Z+E*h+A;if(2&x[aa]){var I=b[d[aa]];I.serial!=a.serial&&F*F+
p*p+ca*ca<(c=ia+F-Math.floor(.5+m*(I.x+e)))*c+(g=z+p-Math.floor(.5+m*(I.y+n)))*g+(l=fa+ca-Math.floor(.5+m*(I.z+t)))*l&&(d[aa]=a.serial)}else x[aa]|=2,d[aa]=a.serial}}y++}};this.buildboundary=function(){for(var a=r*h,b=0;b<u;b++)for(var c=0;c<h;c++)for(var d=0;d<r;d++){var g=b*a+d*h+c;if(1&x[g])for(var e=0;26>e;){var l=b+q[e][0],m=c+q[e][2],p=d+q[e][1];if(-1<l&&l<u&&-1<p&&p<r&&-1<m&&m<h&&!(1&x[l*a+p*h+m])){x[g]|=4;break}e++}}};var M=function(a,b,c){var d=new Int32Array(a*b*c*3);this.set=function(a,
g,e,l){a=3*((a*b+g)*c+e);d[a]=l.ix;d[a+1]=l.iy;d[a+2]=l.iz};this.get=function(a,g,e){a=3*((a*b+g)*c+e);return{ix:d[a],iy:d[a+1],iz:d[a+2]}}};this.fastdistancemap=function(){var a,b,c,d,g=new M(u,r,h),e=r*h,l=y*y,q=[];for(a=0;a<u;a++)for(b=0;b<r;b++)for(c=0;c<h;c++)if(x[d=a*e+b*h+c]&=-3,1&x[d]&&4&x[d]){var n={ix:a,iy:b,iz:c};g.set(a,b,c,n);q.push(n);p[d]=0;x[d]|=2;x[d]&=-5}do for(c=this.fastoneshell(q,g),q=[],a=0,b=c.length;a<b;a++)d=e*c[a].ix+h*c[a].iy+c[a].iz,x[d]&=-5,p[d]<=1.0404*l&&q.push({ix:c[a].ix,
iy:c[a].iy,iz:c[a].iz});while(0!==q.length);a=m-.5;0>a&&(a=0);l-=.5/(.1+a);for(a=0;a<u;a++)for(b=0;b<r;b++)for(c=0;c<h;c++)x[d=a*e+b*h+c]&=-5,1&x[d]&&(2&x[d]&&!(2&x[d]&&p[d]>=l)||(x[d]|=4))};this.fastoneshell=function(a,b){var c,d,g,e,l,m,n,E=[];if(0===a.length)return E;var A=r*h;var L=0;for(l=a.length;L<l;L++){var B=a[L].ix;var S=a[L].iy;var t=a[L].iz;var M=b.get(B,S,t);for(e=0;6>e;e++){var U=B+q[e][0];var C=S+q[e][1];var y=t+q[e][2];U<u&&-1<U&&C<r&&-1<C&&y<h&&-1<y&&(n=U*A+h*C+y,1&x[n]&&!(2&x[n])?
(b.set(U,C,t+q[e][2],M),m=(c=U-M.ix)*c+(d=C-M.iy)*d+(g=y-M.iz)*g,p[n]=m,x[n]|=2,x[n]|=4,E.push({ix:U,iy:C,iz:y})):1&x[n]&&2&x[n]&&(m=(c=U-M.ix)*c+(d=C-M.iy)*d+(g=y-M.iz)*g)<p[n]&&(b.set(U,C,y,M),p[n]=m,4&x[n]||(x[n]|=4,E.push({ix:U,iy:C,iz:y}))))}}L=0;for(l=a.length;L<l;L++)for(B=a[L].ix,S=a[L].iy,t=a[L].iz,M=b.get(B,S,t),e=6;18>e;e++)U=B+q[e][0],C=S+q[e][1],y=t+q[e][2],U<u&&-1<U&&C<r&&-1<C&&y<h&&-1<y&&(n=U*A+h*C+y,1&x[n]&&!(2&x[n])?(b.set(U,C,t+q[e][2],M),m=(c=U-M.ix)*c+(d=C-M.iy)*d+(g=y-M.iz)*g,
p[n]=m,x[n]|=2,x[n]|=4,E.push({ix:U,iy:C,iz:y})):1&x[n]&&2&x[n]&&(m=(c=U-M.ix)*c+(d=C-M.iy)*d+(g=y-M.iz)*g)<p[n]&&(b.set(U,C,y,M),p[n]=m,4&x[n]||(x[n]|=4,E.push({ix:U,iy:C,iz:y}))));L=0;for(l=a.length;L<l;L++)for(B=a[L].ix,S=a[L].iy,t=a[L].iz,M=b.get(B,S,t),e=18;26>e;e++)U=B+q[e][0],C=S+q[e][1],y=t+q[e][2],U<u&&-1<U&&C<r&&-1<C&&y<h&&-1<y&&(n=U*A+h*C+y,1&x[n]&&!(2&x[n])?(b.set(U,C,t+q[e][2],M),m=(c=U-M.ix)*c+(d=C-M.iy)*d+(g=y-M.iz)*g,p[n]=m,x[n]|=2,x[n]|=4,E.push({ix:U,iy:C,iz:y})):1&x[n]&&2&x[n]&&
(m=(c=U-M.ix)*c+(d=C-M.iy)*d+(g=y-M.iz)*g)<p[n]&&(b.set(U,C,y,M),p[n]=m,4&x[n]||(x[n]|=4,E.push({ix:U,iy:C,iz:y}))));return E};this.marchingcubeinit=function(a){for(var b=0,c=x.length;b<c;b++)1==a?x[b]&=-5:4==a?(x[b]&=-3,4&x[b]&&(x[b]|=2),x[b]&=-5):2==a?4&x[b]&&2&x[b]?x[b]&=-5:4&x[b]&&!(2&x[b])&&(x[b]|=2):3==a&&(x[b]&=-5)};this.marchingcube=function(g){this.marchingcubeinit(g);c=[];a=[];b.MarchingCube.march(x,c,a,{smooth:1,nX:u,nY:r,nZ:h});g=r*h;for(var e=0,l=c.length;e<l;e++)c[e].atomid=d[c[e].x*
g+h*c[e].y+c[e].z];b.MarchingCube.laplacianSmooth(1,c,a)}};b.autoload=function(a,c){var e,n,t;if(void 0!==F(".viewer_3Dmoljs")[0]&&(b.autoinit=!0),b.autoinit){a=null!=a?a:null;b.viewers={};var m=0;F(".viewer_3Dmoljs").each(function(){var h=F(this),r=[],u=[],y="";"static"==h.css("position")&&h.css("position","relative");t=null;h.data("pdb")?(r.push("https://files.rcsb.org/view/"+h.data("pdb")+".pdb"),u.push("pdb")):h.data("cid")?(u.push("sdf"),r.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+
h.data("cid")+"/SDF?record_type=3d")):(h.data("href")||h.data("url"))&&(y=h.data("href"),r.push(y),t=y.substr(y.lastIndexOf(".")+1),u.push(t));var x=h.data();for(e in x)"pdb"===e.substring(0,3)&&"pdb"!==e?(r.push("https://files.rcsb.org/view/"+x[e]+".pdb"),u.push("pdb")):"href"===e.substring(0,4)&&"href"!==e?(y=x[e],r.push(y),u.push(y.substr(y.lastIndexOf(".")+1))):"cid"===e.substring(0,3)&&"cid"!==e&&(r.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+x[e]+"/SDF?record_type=3d"),u.push("sdf"));
var p={};h.data("options")&&(p=b.specStringToObject(h.data("options")));x=b.CC.color(h.data("backgroundcolor"));var d={line:{}};h.data("style")&&(d=b.specStringToObject(h.data("style")));var g={};h.data("select")&&(g=b.specStringToObject(h.data("select")));var E=[],l=[],L=[],A={},B=h.data(),S=/style(.+)/,C=/surface(.*)/,U=/labelres(.*)/,q=[];for(n in B)B.hasOwnProperty(n)&&q.push(n);q.sort();for(e=0;e<q.length;e++){n=q[e];var M=S.exec(n),ia,X,K;M&&(ia="select"+M[1],X=b.specStringToObject(B[ia]),K=
b.specStringToObject(B[n]),E.push([X,K]));(M=C.exec(n))&&(ia="select"+M[1],X=b.specStringToObject(B[ia]),K=b.specStringToObject(B[n]),l.push([X,K]));(M=U.exec(n))&&(ia="select"+M[1],X=b.specStringToObject(B[ia]),K=b.specStringToObject(B[n]),L.push([X,K]));"zoomto"==n&&(A=b.specStringToObject(B[n]))}var N=function(a){a.setStyle(g,d);for(e=0;e<E.length;e++){var c=E[e][0]||{};var h=E[e][1]||{line:{}};a.setStyle(c,h)}for(e=0;e<l.length;e++)c=l[e][0]||{},h=l[e][1]||{},a.addSurface(b.SurfaceType.VDW,h,
c,c);for(e=0;e<L.length;e++)c=L[e][0]||{},h=L[e][1]||{},a.addResLabels(c,h);a.zoomTo(A);a.render()},H=a;try{null==H&&(H=b.viewers[this.id||m++]=b.createViewer(h,{defaultcolors:b.rasmolElementColors})),H.setBackgroundColor(x)}catch(Fa){console.log(Fa),window.location="http://get.webgl.org"}if(0!=r.length){e=0;var z=function(a){y=r[e];var b=h.data("type")||h.data("datatype")||u[e];if(H.addModel(a,b,p),e+=1,e<r.length)F.get(r[e],z,"text");else{if(N(H),h.data("callback"))a=eval(h.data("callback")),"function"==
typeof a&&a(H);c&&c(H)}};F.get(r[0],z,"text")}else{h.data("element")&&(ia=F("#"+h.data("element")).val()||"",(t=h.data("type")||h.data("datatype"))||(console.log("Warning: No type specified for embedded viewer with moldata from "+h.data("element")+"\n assuming type 'pdb'"),t="pdb"),H.addModel(ia,t,p));if(N(H),h.data("callback"))ia=eval(h.data("callback")),"function"==typeof ia&&ia(H);c&&c(H)}})}};F(document).ready(function(){b.autoload()});var Ha=b.htmlColors={aliceblue:15792383,antiquewhite:16444375,
aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,
darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,
indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,
maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,
papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,
violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b.CC={cache:{0:new b.Color(0)},color:function e(c){if(!c)return this.cache[0];if(void 0!==this.cache[c])return this.cache[c];if(c&&c.constructor===Array)return c.map(e,this);if("number"==typeof(c=this.getHex(c))){var n=new b.Color(c);return this.cache[c]=n,n}return c},getHex:function(b){return isNaN(parseInt(b))?"string"==typeof b?(4==(b=b.trim()).length&&"#"==b[0]&&(b="#"+b[1]+b[1]+b[2]+b[2]+b[3]+
b[3]),7==b.length&&"#"==b[0]?parseInt(b.substring(1),16):Ha[b.toLowerCase()]||0):b:parseInt(b)}};b.CC=b.CC;b.CC.color=b.CC.color;b.ssColors=b.ssColors||{};b.ssColors.pyMol={h:16711680,s:16776960,c:65280};b.ssColors.Jmol={h:16711808,s:16762880,c:16777215};b.elementColors=b.elementColors||{};b.elementColors.defaultColor=16716947;b.elementColors.Jmol={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,
Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578E4,SI:1578E4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,
Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366E3,XE:4366E3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,
Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,
Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32E3,RA:32E3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,
SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998};b.elementColors.rasmol={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,
Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120};b.elementColors.defaultColors=b.elementColors.rasmol;b.elementColors.greenCarbon=F.extend({},b.elementColors.defaultColors);b.elementColors.greenCarbon.C=65280;b.elementColors.cyanCarbon=F.extend({},b.elementColors.defaultColors);b.elementColors.cyanCarbon.C=65535;b.elementColors.magentaCarbon=F.extend({},b.elementColors.defaultColors);b.elementColors.magentaCarbon.C=16711935;
b.elementColors.yellowCarbon=F.extend({},b.elementColors.defaultColors);b.elementColors.yellowCarbon.C=16776960;b.elementColors.whiteCarbon=F.extend({},b.elementColors.defaultColors);b.elementColors.whiteCarbon.C=16777215;b.elementColors.orangeCarbon=F.extend({},b.elementColors.defaultColors);b.elementColors.orangeCarbon.C=16753920;b.elementColors.purpleCarbon=F.extend({},b.elementColors.defaultColors);b.elementColors.purpleCarbon.C=8388736;b.elementColors.blueCarbon=F.extend({},b.elementColors.defaultColors);
b.elementColors.blueCarbon.C=255;b.residues={};b.residues.amino={ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740};b.residues.shapely={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,
MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935};b.residues.nucleic={A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576};b.chains={};b.chains.atom={A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146};
b.chains.hetatm={A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834};b.builtinColorSchemes={ssPyMol:{prop:"ss",map:b.ssColors.pyMol},ssJmol:{prop:"ss",map:b.ssColors.Jmol},Jmol:{prop:"elem",map:b.elementColors.Jmol},greenCarbon:{prop:"elem",map:b.elementColors.greenCarbon},default:{prop:"elem",
map:b.elementColors.defaultColors},amino:{prop:"resn",map:b.residues.amino},shapely:{prop:"resn",map:b.residues.shapely},nucleic:{prop:"resn",map:b.residues.nucleic},chain:{prop:"chain",map:b.chains.atom},chainHetatm:{prop:"chain",map:b.chains.hetatm}};b.getColorFromStyle=function(c,e){var n=e.colorscheme;if(void 0!==b.builtinColorSchemes[n])n=b.builtinColorSchemes[n];else if("string"==typeof n&&n.endsWith("Carbon")){var t=n.substring(0,n.lastIndexOf("Carbon")).toLowerCase();if(void 0!==Ha[t]){var m=
F.extend({},b.elementColors.defaultColors);m.C=Ha[t];b.builtinColorSchemes[n]={prop:"elem",map:m};n=b.builtinColorSchemes[n]}}var h;t=c.color;if(void 0!==e.color&&"spectrum"!=e.color&&(t=e.color),void 0!==n)if(void 0!==b.elementColors[n])void 0!==(n=b.elementColors[n])[c[n.prop]]&&(t=n.map[c[n.prop]]);else if(void 0!==n[c[n.prop]])t=n.map[c[n.prop]];else if(void 0!==n.prop&&void 0!==n.gradient){var r=n.prop;e=n.gradient;void 0!==b.Gradient.builtinGradients[e]&&(e=new b.Gradient.builtinGradients[e](n.min,
n.max,n.mid));n=e.range()||[-1,1];null!=(h=b.getAtomProperty(c,r))&&(t=e.valueToHex(h,n))}else void 0!==n.prop&&void 0!==n.map?(r=n.prop,h=b.getAtomProperty(c,r),void 0!==n.map[h]&&(t=n.map[h])):void 0!==e.colorscheme[c.elem]?t=e.colorscheme[c.elem]:console.log("Could not interpret colorscheme "+n);else void 0!==e.colorfunc&&(t=e.colorfunc(c));return b.CC.color(t)};b=b||{};b.subdivide_spline=function(c,e){var n,t,m,h,r,u=[],y;(y=[]).push(c[0]);var x=1;for(n=c.length-1;x<n;x++)if(m=c[x],h=c[x+1],m.smoothen){var p=
new b.Vector3((m.x+h.x)/2,(m.y+h.y)/2,(m.z+h.z)/2);p.atom=m.atom;y.push(p)}else y.push(m);y.push(c[c.length-1]);x=-1;for(c=y.length;x<=c-3;x++)if(t=y[-1===x?0:x],m=y[x+1],h=y[x+2],r=y[x===c-3?c-1:x+3],n=(new b.Vector3).subVectors(h,t).multiplyScalar(.5),p=(new b.Vector3).subVectors(r,m).multiplyScalar(.5),!h.skip)for(var d=0;d<e;d++){var g=1/e*d;g=new b.Vector3(m.x+g*n.x+g*g*(-3*m.x+3*h.x-2*n.x-p.x)+g*g*g*(2*m.x-2*h.x+n.x+p.x),m.y+g*n.y+g*g*(-3*m.y+3*h.y-2*n.y-p.y)+g*g*g*(2*m.y-2*h.y+n.y+p.y),m.z+
g*n.z+g*g*(-3*m.z+3*h.z-2*n.z-p.z)+g*g*g*(2*m.z-2*h.z+n.z+p.z));g.atom=d<e/2?m.atom:h.atom;u.push(g)}return u.push(y[y.length-1]),u};b.drawCartoon=function(){var c=function(c,d,g,e){for(var l,h,m,p,r=0,n=d.length;r<n;r++){p=Math.round(r*(e.length-1)/n);m=b.CC.color(e[p]);p=c.updateGeoGroup(2);var E=p.vertexArray,q=p.colorArray,M=p.faceArray;E[h=3*(l=p.vertices)]=d[r].x;E[h+1]=d[r].y;E[h+2]=d[r].z;E[h+3]=g[r].x;E[h+4]=g[r].y;E[h+5]=g[r].z;for(E=0;6>E;++E)q[h+3*E]=m.r,q[h+1+3*E]=m.g,q[h+2+3*E]=m.b;
0<r&&(l=[l,l+1,l-1,l-2],h=p.faceidx,M[h]=l[0],M[h+1]=l[1],M[h+2]=l[3],M[h+3]=l[1],M[h+4]=l[2],M[h+5]=l[3],p.faceidx+=6);p.vertices+=2}},e=function(c,d,g,e,l){0!==d.length&&(d=new b.Geometry,g=new b.LineBasicMaterial({linewidth:g}),g.vertexColors=!0,g=new b.Line(d,g),g.type=b.LineStrip,c.add(g))},n=function(e,d,g,h,l,m,r){r&&"default"!==r||(r="rectangle");"edged"===r?function(d,g,e,l,h,m){if(!(2>g.length)){var p,q;if(p=g[0],q=g[g.length-1],p=b.subdivide_spline(p,l),q=b.subdivide_spline(q,l),!h)return c(d,
p,q,e);var r,n,E,L,A,B,t,M,P,J,C,u,U,S;l=[];var x=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]];g=0;for(J=p.length;g<J;g++){if(M=Math.round(g*(e.length-1)/J),t=b.CC.color(e[M]),l.push(r=p[g]),l.push(r),l.push(n=q[g]),l.push(n),g<J-1){var y=p[g+1].clone().sub(p[g]);y=q[g].clone().sub(p[g]).cross(y).normalize().multiplyScalar(h)}l.push(E=p[g].clone().add(y));l.push(E);l.push(L=q[g].clone().add(y));l.push(L);void 0!==r.atom&&(P=r.atom);var z=(S=d.updateGeoGroup(8)).vertexArray;var F=S.colorArray;
var Z=S.faceArray;z[A=3*(m=S.vertices)]=r.x;z[A+1]=r.y;z[A+2]=r.z;z[A+3]=r.x;z[A+4]=r.y;z[A+5]=r.z;z[A+6]=n.x;z[A+7]=n.y;z[A+8]=n.z;z[A+9]=n.x;z[A+10]=n.y;z[A+11]=n.z;z[A+12]=E.x;z[A+13]=E.y;z[A+14]=E.z;z[A+15]=E.x;z[A+16]=E.y;z[A+17]=E.z;z[A+18]=L.x;z[A+19]=L.y;z[A+20]=L.z;z[A+21]=L.x;z[A+22]=L.y;z[A+23]=L.z;for(z=0;8>z;++z)F[A+3*z]=t.r,F[A+1+3*z]=t.g,F[A+2+3*z]=t.b;if(0<g)for(A=void 0!==pa&&void 0!==P&&pa.serial!==P.serial,z=0;4>z;z++){var ba=[m+x[z][0],m+x[z][1],m+x[z][2],m+x[z][3]];if(Z[B=S.faceidx]=
ba[0],Z[B+1]=ba[1],Z[B+2]=ba[3],Z[B+3]=ba[1],Z[B+4]=ba[2],Z[B+5]=ba[3],S.faceidx+=6,P.clickable||pa.clickable||P.hoverable||pa.hoverable){F=l[ba[3]].clone();E=l[ba[0]].clone();L=l[ba[2]].clone();var I=l[ba[1]].clone();if(F.atom=l[ba[3]].atom||null,L.atom=l[ba[2]].atom||null,E.atom=l[ba[0]].atom||null,I.atom=l[ba[1]].atom||null,A){ba=F.clone().add(E).multiplyScalar(.5);var ca=L.clone().add(I).multiplyScalar(.5),aa=F.clone().add(I).multiplyScalar(.5);0==z%2?((pa.clickable||pa.hoverable)&&(C=new b.Triangle(ba,
aa,F),u=new b.Triangle(ca,L,aa),U=new b.Triangle(aa,L,F),pa.intersectionShape.triangle.push(C),pa.intersectionShape.triangle.push(u),pa.intersectionShape.triangle.push(U)),(P.clickable||P.hoverable)&&(C=new b.Triangle(E,I,aa),u=new b.Triangle(I,ca,aa),U=new b.Triangle(E,aa,ba),P.intersectionShape.triangle.push(C),P.intersectionShape.triangle.push(u),P.intersectionShape.triangle.push(U))):((P.clickable||P.hoverable)&&(C=new b.Triangle(ba,aa,F),u=new b.Triangle(ca,L,aa),U=new b.Triangle(aa,L,F),P.intersectionShape.triangle.push(C),
P.intersectionShape.triangle.push(u),P.intersectionShape.triangle.push(U)),(pa.clickable||pa.hoverable)&&(C=new b.Triangle(E,I,aa),u=new b.Triangle(I,ca,aa),U=new b.Triangle(E,aa,ba),pa.intersectionShape.triangle.push(C),pa.intersectionShape.triangle.push(u),pa.intersectionShape.triangle.push(U)))}else(P.clickable||P.hoverable)&&(C=new b.Triangle(E,I,F),u=new b.Triangle(I,L,F),P.intersectionShape.triangle.push(C),P.intersectionShape.triangle.push(u))}}S.vertices+=8;var pa=P}e=l.length-8;z=(S=d.updateGeoGroup(8)).vertexArray;
F=S.colorArray;Z=S.faceArray;A=3*(m=S.vertices);B=S.faceidx;for(g=0;4>g;g++)l.push(l[2*g]),l.push(l[e+2*g]),d=l[2*g],h=l[e+2*g],z[A+6*g]=d.x,z[A+1+6*g]=d.y,z[A+2+6*g]=d.z,z[A+3+6*g]=h.x,z[A+4+6*g]=h.y,z[A+5+6*g]=h.z,F[A+6*g]=t.r,F[A+1+6*g]=t.g,F[A+2+6*g]=t.b,F[A+3+6*g]=t.r,F[A+4+6*g]=t.g,F[A+5+6*g]=t.b;C=[m,m+2,m+6,m+4];u=[m+1,m+5,m+7,m+3];Z[B]=C[0];Z[B+1]=C[1];Z[B+2]=C[3];Z[B+3]=C[1];Z[B+4]=C[2];Z[B+5]=C[3];Z[B+6]=u[0];Z[B+7]=u[1];Z[B+8]=u[3];Z[B+9]=u[1];Z[B+10]=u[2];Z[B+11]=u[3];S.faceidx+=12;S.vertices+=
8}}(e,d,g,h,l):"rectangle"!==r&&"oval"!==r&&"parabola"!==r||function(d,g,e,l,h,m,p){var q,r;if(!(2>(r=g.length)||2>g[0].length)){for(m=0;m<r;m++)g[m]=b.subdivide_spline(g[m],l);if(l=g[0].length,!h)return c(d,g[0],g[r-1],e);var n,E=[],A=[],L=[];for(q=0;q<r;q++)E.push(.25+1.5*Math.sqrt((r-1)*q-Math.pow(q,2))/(r-1)),A.push(.5),L.push(2*(Math.pow(q/r,2)-q/r)+.6);var B,t=[];for(q=0;q<2*r-1;q++)t[q]=[q,q+1,q+1-2*r,q-2*r];t[2*r-1]=[q,q+1-2*r,q+1-4*r,q-2*r];d=d.updateGeoGroup(2*r*l);for(m=0;m<l;m++){q=Math.round(m*
(e.length-1)/l);var u=b.CC.color(e[q]);var P=C;var J=U;var C=[];var U=[];var M=[];void 0!==g[0][m].atom&&(B=g[0][m].atom,"oval"===p?n=E:"rectangle"===p?n=A:"parabola"===p&&(n=L));n||(n=A);for(q=0;q<r;q++){var S=m<l-1?g[q][m+1].clone().sub(g[q][m]):g[q][m-1].clone().sub(g[q][m]).negate();var x=q<r-1?g[q+1][m].clone().sub(g[q][m]):g[q-1][m].clone().sub(g[q][m]).negate();M[q]=x.cross(S).normalize().multiplyScalar(h*n[q])}for(q=0;q<r;q++)C[q]=g[q][m].clone().add(M[q].clone().negate());for(q=0;q<r;q++)U[q]=
g[q][m].clone().add(M[q]);var y=d.vertexArray;var z=d.colorArray;S=d.faceArray;x=3*(M=d.vertices);for(q=0;q<r;q++)y[x+3*q+0]=C[q].x,y[x+3*q+1]=C[q].y,y[x+3*q+2]=C[q].z;for(q=0;q<r;q++)y[x+3*q+0+3*r]=U[r-1-q].x,y[x+3*q+1+3*r]=U[r-1-q].y,y[x+3*q+2+3*r]=U[r-1-q].z;for(q=0;q<2*r;++q)z[x+3*q+0]=u.r,z[x+3*q+1]=u.g,z[x+3*q+2]=u.b;if(0<m){for(q=0;q<2*r;q++)x=[M+t[q][0],M+t[q][1],M+t[q][2],M+t[q][3]],S[u=d.faceidx]=x[0],S[u+1]=x[1],S[u+2]=x[3],S[u+3]=x[1],S[u+4]=x[2],S[u+5]=x[3],d.faceidx+=6;if(B.clickable||
B.hoverable)for(q in u=[],u.push(new b.Triangle(P[0],C[0],C[r-1])),u.push(new b.Triangle(P[0],C[r-1],P[r-1])),u.push(new b.Triangle(P[r-1],C[r-1],U[r-1])),u.push(new b.Triangle(P[r-1],U[r-1],J[r-1])),u.push(new b.Triangle(U[0],J[0],J[r-1])),u.push(new b.Triangle(U[r-1],U[0],J[r-1])),u.push(new b.Triangle(C[0],P[0],J[0])),u.push(new b.Triangle(U[0],C[0],J[0])),u)B.intersectionShape.triangle.push(u[q])}d.vertices+=2*r}S=d.faceArray;M=d.vertices;for(m=0;m<r-1;m++)x=[m,m+1,2*r-2-m,2*r-1-m],S[u=d.faceidx]=
x[0],S[u+1]=x[1],S[u+2]=x[3],S[u+3]=x[1],S[u+4]=x[2],S[u+5]=x[3],d.faceidx+=6;for(m=0;m<r-1;m++)x=[M-1-m,M-2-m,M-2*r+m+1,M-2*r+m],S[u=d.faceidx]=x[0],S[u+1]=x[1],S[u+2]=x[3],S[u+3]=x[1],S[u+4]=x[2],S[u+5]=x[3],d.faceidx+=6}}(e,d,g,h,l,0,r)},t=function(b,c){if(b&&c&&b.chain===c.chain){if(b.reschain===c.reschain&&(b.resi===c.resi||b.resi===c.resi-1))return!0;if(b.resi<c.resi){var d=b.x-c.x,e=b.y-c.y;b=b.z-c.z;if(16>d*d+e*e+b*b)return!0}}return!1},m=function(c,d,g,e,l){null!=d&&0!=d.vertices&&(l&&(d.initTypedArrays(),
d.setUpNormals()),l=new b.MeshDoubleLambertMaterial,l.vertexColors=b.FaceColors,"number"==typeof g&&0<=g&&1>g&&(l.transparent=!0,l.opacity=g),l.outline=e,d=new b.Mesh(d,l),c.add(d))},h=function(c,d,g,e,l,h,m,r,n){var p,E,q;if(e&&l&&m){var A=l.sub(e);A.normalize();var L=r[n];for(n+=1;n<r.length&&(L=r[n]).atom!=m.atom;n++);if((L=L?new b.Vector3(L.x,L.y,L.z):new b.Vector3(0,0,0)).sub(e),"arrow start"===m.ss)n=L.clone().multiplyScalar(.3).cross(l),e.add(n),n=L.clone().cross(A).normalize(),A.rotateAboutVector(n,
.43);m.style.cartoon.ribbon?p=m.style.cartoon.thickness||.4:m.style.cartoon.width?p=m.style.cartoon.width:"c"===m.ss?p="P"===m.atom?.8:.5:"arrow start"===m.ss?(p=1.3,E=!0):p="arrow end"===m.ss?.5:"h"===m.ss&&m.style.cartoon.tubes||"tube start"===m.ss?.5:1.3;null!=h&&0>A.dot(h)&&A.negate();A.multiplyScalar(p);for(n=0;n<d;n++)h=2*n/(d-1)-1,(h=new b.Vector3(e.x+h*A.x,e.y+h*A.y,e.z+h*A.z)).atom=m,g&&"s"===m.ss&&(h.smoothen=!0),c[n].push(h);if(E)for(A.multiplyScalar(2),n=0;n<d;n++)h=2*n/(d-1)-1,(h=new b.Vector3(e.x+
h*A.x,e.y+h*A.y,e.z+h*A.z)).atom=m,h.smoothen=!1,h.skip=!0,c[n].push(h);return q=m.style.cartoon.style||"default",c.style?c.style!=q&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),c.style="default"):c.style=q,"arrow start"!==m.ss&&"arrow end"!==m.ss||(m.ss="s"),E}},r={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},u={DA:!0,DG:!0,A:!0,G:!0},y={DT:!0,DC:!0,U:!0,C:!0,T:!0},x={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,
U:!0,C:!0,T:!0};return function(c,d,g,E){!function(c,d,g,p,E,C,U){var l,A,L,B,S,z,H,ta,I,O,W,V,P;C=C||5;U=U||5;var J=new b.Geometry(!0),Q=new b.Geometry(!0),R=[],T=[],ea=1,la=!1,ja={};for(fa in b.Gradient.builtinGradients)b.Gradient.builtinGradients.hasOwnProperty(fa)&&(ja[fa]=new b.Gradient.builtinGradients[fa](g[1],g[0]));var fa=function(c,d){return g&&"spectrum"===d.color?d.colorscheme in ja?ja[d.colorscheme].valueToHex(c.resi):ja.sinebow.valueToHex(c.resi):b.getColorFromStyle(c,d).getHex()};for(S=
0;S<C;S++)T[S]=[];var ha=!1,Z=!1,ba=[];for(S in d){if("C"===(A=d[S]).elem&&"CA"===A.atom){var ua=t(aa,A);ua&&"s"===A.ss?ha=!0:ha&&(aa&&ca&&aa.style.cartoon.arrows&&ca.style.cartoon.arrows&&(aa.ss="arrow end",ca.ss="arrow start"),ha=!1);ua&&("h"===aa.ss||"tube start"==aa.ss)&&aa.style.cartoon.tubes?!Z&&"tube start"!=aa.ss&&A.style.cartoon.tubes&&(A.ss="tube start",Z=!0):Z&&("tube start"===aa.ss?aa.ss="tube end":ca&&ca.style.cartoon.tubes&&(ca.ss="tube end"),Z=!1);var ca=aa;var aa=A}A&&A.atom in r&&
ba.push(A)}Z&&aa.style.cartoon.tubes&&(aa.ss="tube end",Z=!1);d=function(d){for(var g=0;!B&&g<C;g++)e(c,T[g],1,0,U);p&&0<T[0].length&&n(Q,T,R,U,B,0,T.style);var l=[],h=null;if(d){for(g=0;g<C;g++)l[g]=T[g][T[g].length-1];h=R[R.length-1]}T=[];for(g=0;g<C;g++)T[g]=[];if(R=[],d){for(g=0;g<C;g++)T[g].push(l[g]);R.push(h)}m(c,Q,ea,la,!0);m(c,J,ea,la,!1);Q=new b.Geometry(!0);J=new b.Geometry(!0)};aa=void 0;for(ca=0;ca<ba.length;ca++)if(S=(A=ba[ca]).resn.trim(),ha=S in x,ea=1,l=A.style.cartoon,aa&&aa.style.cartoon&&
(ea=aa.style.cartoon.opacity),aa&&aa.style.cartoon&&aa.style.cartoon.outline&&(la=aa.style.cartoon.outline),!aa||!aa.style.cartoon||A.style.cartoon&&aa.style.cartoon.opacity==A.style.cartoon.opacity||d(aa.chain==A.chain),T.length&&T[0].length>3E4/C/U/2&&d(!0),"trace"===l.style){if(!A.hetflag&&("C"===A.elem&&"CA"===A.atom||ha&&"P"===A.atom)){if(L=fa(A,l),B=F.isNumeric(l.thickness)?l.thickness:.4,t(aa,A))if(L==pa){var pa=b.CC.color(L);b.GLDraw.drawCylinder(J,aa,A,B,pa,2,2)}else S=(new b.Vector3).addVectors(aa,
A).multiplyScalar(.5),pa=b.CC.color(pa),ha=b.CC.color(L),b.GLDraw.drawCylinder(J,aa,S,B,pa,2,0),b.GLDraw.drawCylinder(J,S,A,B,ha,0,2);!0!==A.clickable&&!A.hoverable||void 0===A.intersectionShape||(aa=new b.Vector3(A.x,A.y,A.z),A.intersectionShape.sphere.push(new b.Sphere(aa,B)));aa=A;pa=L}}else{if(A&&"C"===A.elem&&"CA"===A.atom||ha&&("P"===A.atom||0==A.atom.indexOf("O5"))){if(qa)if("tube end"===A.ss){var qa=!1;S=new b.Vector3(A.x,A.y,A.z);b.GLDraw.drawCylinder(J,P,S,2,b.CC.color(pa),1,1);A.ss="h"}else{if(aa.chain==
A.chain&&"tube end"!==aa.ss)continue;qa=!1;aa.ss="h";S=new b.Vector3(aa.x,aa.y,aa.z);b.GLDraw.drawCylinder(J,P,S,2,b.CC.color(pa),1,1)}if(aa&&(!t(aa,A)||"tube start"===aa.ss)){"tube start"===aa.ss&&(qa=!0,P=new b.Vector3(aa.x,aa.y,aa.z),aa.ss="h");V&&(W=I?(new b.Vector3).addVectors(aa,I).multiplyScalar(.5):new b.Vector3(aa.x,aa.y,aa.z),b.GLDraw.drawCylinder(J,W,V,.4,b.CC.color(V.color),0,2),h(T,C,!E,I,O,ta,aa,ba,ca),R.push(L),W=null,V=null);for(S=0;!B&&S<C;S++)e(c,T[S],1,0,U);p&&0<T[0].length&&n(Q,
T,R,U,B,0,T.style);T=[];for(S=0;S<C;S++)T[S]=[];R=[]}if(void 0===aa||aa.rescode!=A.rescode||aa.resi!=A.resi)V&&(L=(W=(new b.Vector3).addVectors(aa,A).multiplyScalar(.5)).clone().sub(V).multiplyScalar(.02),W.add(L),b.GLDraw.drawCylinder(J,W,V,.4,b.CC.color(V.color),0,2),V=W=null),L=fa(A,l),R.push(L),B=F.isNumeric(l.thickness)?l.thickness:.4,aa=A,(z=new b.Vector3(aa.x,aa.y,aa.z)).resi=aa.resi,pa=L;!0!==A.clickable&&!0!==A.hoverable||void 0!==A.intersectionShape&&void 0!==A.intersectionShape.triangle||
(A.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else aa&&"C"===aa.elem&&"CA"===aa.atom&&"O"===A.atom||ha&&"P"===aa.atom&&("OP2"===A.atom||"O2P"===A.atom)||ha&&0==aa.atom.indexOf("O5")&&0==A.atom.indexOf("C5")?((H=new b.Vector3(A.x,A.y,A.z)).resi=A.resi,"OP2"!==A.atom&&"O2P"!==A.atom||(O=new b.Vector3(A.x,A.y,A.z))):ha&&0==A.atom.indexOf("O3")?I=new b.Vector3(A.x,A.y,A.z):("N1"===A.atom&&S in u||"N3"===A.atom&&S in y)&&((V=new b.Vector3(A.x,A.y,A.z)).color=b.getColorFromStyle(A,
l).getHex());H&&z&&H.resi===z.resi&&(h(T,C,!E,z,H,ta,aa,ba,ca),ta=H,z=null,H=null,R.push(L))}V&&(W=I?(new b.Vector3).addVectors(aa,I).multiplyScalar(.5):new b.Vector3(aa.x,aa.y,aa.z),b.GLDraw.drawCylinder(J,W,V,.4,b.CC.color(V.color),0,2),h(T,C,!E,I,O,ta,aa,ba,ca),R.push(L));d()}(c,d,g,!0,!1,E=E||5,E)}}();b=b||{};b.CAP={NONE:0,FLAT:1,ROUND:2};b.GLDraw=function(){var c,e={},n=(c=new b.Vector3,function(b){c.set(b[0],b[1],b[2]);var e,h,m,p,d;b=c.x;var g=c.y,r=c.z,l=Math.sqrt(b*b+g*g);1E-4>l?(h=0,m=1):
(h=-b/l,m=g/l);g=-h*b+m*g;1E-4>(e=Math.sqrt(g*g+r*r))?(p=0,d=1):(p=r/e,d=g/e);e=new Float32Array(9);return e[0]=m,e[1]=h,e[2]=0,e[3]=-h*d,e[4]=m*d,e[5]=p,e[6]=h*p,e[7]=-m*p,e[8]=d,e}),t=function(){var c,e=[],h=Math.pow(2,4),m,p=Math.pow(2,2),d=h/p;e[0]=new b.Vector3(-1,0,0);e[d]=new b.Vector3(0,0,1);e[2*d]=new b.Vector3(1,0,0);e[3*d]=new b.Vector3(0,0,-1);for(m=3;4>=m;m++){d=h/(p=Math.pow(2,m-1));for(c=0;c<p-1;c++)e[d/2+c*d]=e[c*d].clone().add(e[(c+1)*d]).normalize();e[d/2+(c=p-1)*d]=e[c*d].clone().add(e[0]).normalize()}return e}(),
m={cache:{},getVerticesForRadius:function(c,e,h){if(void 0!==this.cache[c]&&void 0!==this.cache[c][e+h])return this.cache[c][e+h];for(var m,p=t.length,d=[],g=[],r=0;r<p;r++)d.push(t[r].clone().multiplyScalar(c)),d.push(t[r].clone().multiplyScalar(c)),m=t[r].clone().normalize(),g.push(m),g.push(m);r=[];var l,n,A=2*Math.PI,B=Math.PI;for(n=0;10>=n;n++){var u=0===n||10===n;var C=5===n;var U=[],q=[];for(l=0;l<=p;l++)if(C){var y=l<p?2*l:0;q.push(y+1);U.push(y)}else{y=l/p;var z=n/10;if(u&&0!==l)u&&U.push(d.length-
1);else if(l<p){var X=new b.Vector3;X.x=-c*Math.cos(y*A)*Math.sin(z*B);X.y=1==e?0:c*Math.cos(z*B);X.z=c*Math.sin(y*A)*Math.sin(z*B);1E-5>Math.abs(X.x)&&(X.x=0);1E-5>Math.abs(X.y)&&(X.y=0);1E-5>Math.abs(X.z)&&(X.z=0);e==b.CAP.FLAT?(m=new b.Vector3(0,Math.cos(z*B),0)).normalize():(m=new b.Vector3(X.x,X.y,X.z)).normalize();d.push(X);g.push(m);U.push(d.length-1)}else U.push(d.length-p)}C&&r.push(q);r.push(U)}m={vertices:d,normals:g,verticesRows:r,w:p,h:10};return c in this.cache||(this.cache[c]={}),this.cache[c][e+
h]=m,m}};e.drawCylinder=function(b,c,e,h,p,d,g){if(c&&e){0;var r=g||d;p=p||{r:0,g:0,b:0};var l=[e.x,e.y,e.z];l[0]-=c.x;l[1]-=c.y;l[2]-=c.z;var L;l=n(l);var A=m.getVerticesForRadius(h,g,"to");var B=A.w,t=A.h,C=r?t*B+2:2*B;b=b.updateGeoGroup(C);var u=A.vertices,q=A.normals,x=A.verticesRows,y=x[t/2],z=x[t/2+1],K=b.vertices,N=b.vertexArray,H=b.normalArray,F=b.colorArray,I=b.faceArray;for(L=0;L<B;++L){var O=2*L;var W=l[0]*u[O].x+l[3]*u[O].y+l[6]*u[O].z;A=l[1]*u[O].x+l[4]*u[O].y+l[7]*u[O].z;var V=l[5]*
u[O].y+l[8]*u[O].z;var P=3*(K+O);O=b.faceidx;N[P]=W+c.x;N[P+1]=A+c.y;N[P+2]=V+c.z;N[P+3]=W+e.x;N[P+4]=A+e.y;N[P+5]=V+e.z;H[P]=W;H[P+3]=W;H[P+1]=A;H[P+4]=A;H[P+2]=V;H[P+5]=V;F[P]=p.r;F[P+3]=p.r;F[P+1]=p.g;F[P+4]=p.g;F[P+2]=p.b;F[P+5]=p.b;I[O]=z[L]+K;I[O+1]=z[L+1]+K;I[O+2]=y[L]+K;I[O+3]=y[L]+K;I[O+4]=z[L+1]+K;I[O+5]=y[L+1]+K;b.faceidx+=6}if(r)for(r=d?t+1:t/2+1,A=g?0:t/2;A<r;A++)if(A!==t/2)for(L=A<=t/2?e:c,W=m.getVerticesForRadius(h,g,"to"),O=m.getVerticesForRadius(h,d,"from"),L===e?(u=W.vertices,q=
W.normals,x=W.verticesRows):L==c&&(u=O.vertices,q=O.normals,x=O.verticesRows),W=0;W<B;W++){O=b.faceidx;var J=3*((V=x[A][W+1])+K);var Q=3*((y=x[A][W])+K);var R=3*((z=x[A+1][W])+K);var T=3*((P=x[A+1][W+1])+K);var ea=l[0]*u[V].x+l[3]*u[V].y+l[6]*u[V].z;var la=l[0]*u[y].x+l[3]*u[y].y+l[6]*u[y].z;var ja=l[0]*u[z].x+l[3]*u[z].y+l[6]*u[z].z;var fa=l[0]*u[P].x+l[3]*u[P].y+l[6]*u[P].z;var ha=l[1]*u[V].x+l[4]*u[V].y+l[7]*u[V].z;var Z=l[1]*u[y].x+l[4]*u[y].y+l[7]*u[y].z;var ba=l[1]*u[z].x+l[4]*u[z].y+l[7]*u[z].z;
var ua=l[1]*u[P].x+l[4]*u[P].y+l[7]*u[P].z;var ca=l[5]*u[V].y+l[8]*u[V].z;var aa=l[5]*u[y].y+l[8]*u[y].z;var pa=l[5]*u[z].y+l[8]*u[z].z;var qa=l[5]*u[P].y+l[8]*u[P].z;N[J]=ea+L.x;N[Q]=la+L.x;N[R]=ja+L.x;N[T]=fa+L.x;N[J+1]=ha+L.y;N[Q+1]=Z+L.y;N[R+1]=ba+L.y;N[T+1]=ua+L.y;N[J+2]=ca+L.z;N[Q+2]=aa+L.z;N[R+2]=pa+L.z;N[T+2]=qa+L.z;F[J]=p.r;F[Q]=p.r;F[R]=p.r;F[T]=p.r;F[J+1]=p.g;F[Q+1]=p.g;F[R+1]=p.g;F[T+1]=p.g;F[J+2]=p.b;F[Q+2]=p.b;F[R+2]=p.b;F[T+2]=p.b;ea=l[0]*q[V].x+l[3]*q[V].y+l[6]*q[V].z;la=l[0]*q[y].x+
l[3]*q[y].y+l[6]*q[y].z;ja=l[0]*q[z].x+l[3]*q[z].y+l[6]*q[z].z;fa=l[0]*q[P].x+l[3]*q[P].y+l[6]*q[P].z;ha=l[1]*q[V].x+l[4]*q[V].y+l[7]*q[V].z;Z=l[1]*q[y].x+l[4]*q[y].y+l[7]*q[y].z;ba=l[1]*q[z].x+l[4]*q[z].y+l[7]*q[z].z;ua=l[1]*q[P].x+l[4]*q[P].y+l[7]*q[P].z;ca=l[5]*q[V].y+l[8]*q[V].z;aa=l[5]*q[y].y+l[8]*q[y].z;pa=l[5]*q[z].y+l[8]*q[z].z;qa=l[5]*q[P].y+l[8]*q[P].z;0===A?(H[J]=ea,H[R]=ja,H[T]=fa,H[J+1]=ha,H[R+1]=ba,H[T+1]=ua,H[J+2]=ca,H[R+2]=pa,H[T+2]=qa,I[O]=V+K,I[O+1]=z+K,I[O+2]=P+K,b.faceidx+=3):
A===r-1?(H[J]=ea,H[Q]=la,H[R]=ja,H[J+1]=ha,H[Q+1]=Z,H[R+1]=ba,H[J+2]=ca,H[Q+2]=aa,H[R+2]=pa,I[O]=V+K,I[O+1]=y+K,I[O+2]=z+K,b.faceidx+=3):(H[J]=ea,H[Q]=la,H[T]=fa,H[J+1]=ha,H[Q+1]=Z,H[T+1]=ua,H[J+2]=ca,H[Q+2]=aa,H[T+2]=qa,H[Q]=la,H[R]=ja,H[T]=fa,H[Q+1]=Z,H[R+1]=ba,H[T+1]=ua,H[Q+2]=aa,H[R+2]=pa,H[T+2]=qa,I[O]=V+K,I[O+1]=y+K,I[O+2]=P+K,I[O+3]=y+K,I[O+4]=z+K,I[O+5]=P+K,b.faceidx+=6)}b.vertices+=C}};e.drawCone=function(c,e,h,m,p){if(e&&h){p=p||{r:0,g:0,b:0};var d=[h.x,h.y,h.z];d.x-=e.x;d.y-=e.y;d.z-=e.z;
var g=n(d),r=t.length;c=c.updateGeoGroup(r+2);var l=c.vertices,L=c.vertexArray,A=c.normalArray,B=c.colorArray,u=c.faceArray;var C=3*l;d=(new b.Vector3(d[0],d[1],d[2])).normalize();L[C]=e.x;L[C+1]=e.y;L[C+2]=e.z;A[C]=-d.x;A[C+1]=-d.y;A[C+2]=-d.z;B[C]=p.r;B[C+1]=p.g;B[C+2]=p.b;L[C+3]=h.x;L[C+4]=h.y;L[C+5]=h.z;A[C+3]=d.x;A[C+4]=d.y;A[C+5]=d.z;B[C+3]=p.r;B[C+4]=p.g;B[C+5]=p.b;C+=6;for(h=0;h<r;++h){var x=t[h].clone();x.multiplyScalar(m);d=g[0]*x.x+g[3]*x.y+g[6]*x.z;var q=g[1]*x.x+g[4]*x.y+g[7]*x.z;x=g[5]*
x.y+g[8]*x.z;L[C]=d+e.x;L[C+1]=q+e.y;L[C+2]=x+e.z;A[C]=d;A[C+1]=q;A[C+2]=x;B[C]=p.r;B[C+1]=p.g;B[C+2]=p.b;C+=3}c.vertices+=r+2;e=c.faceidx;for(h=0;h<r;h++)m=l+2+h,p=l+2+(h+1)%r,u[e]=m,u[e+1]=p,u[e+2]=l,u[e+=3]=m,u[e+1]=p,u[e+2]=l+1,e+=3;c.faceidx+=6*r}};var h={cache:{},getVerticesForRadius:function(c){if(void 0!==this.cache[c])return this.cache[c];var e={vertices:[],verticesRows:[],normals:[]},h=16,m=10;1>c&&(h=10,m=8);var p,d,g=2*Math.PI,r=Math.PI;for(d=0;d<=m;d++){var l=[];for(p=0;p<=h;p++){var n=
p/h,A=d/m,B={};B.x=-c*Math.cos(n*g)*Math.sin(A*r);B.y=c*Math.cos(A*r);B.z=c*Math.sin(n*g)*Math.sin(A*r);n=new b.Vector3(B.x,B.y,B.z);n.normalize();e.vertices.push(B);e.normals.push(n);l.push(e.vertices.length-1)}e.verticesRows.push(l)}return this.cache[c]=e,e}};return e.drawSphere=function(b,c,e,m){var p=h.getVerticesForRadius(e),d=p.vertices,g=p.normals;b=b.updateGeoGroup(d.length);for(var r=b.vertices,l=b.vertexArray,n=b.colorArray,A=b.faceArray,B=b.lineArray,t=b.normalArray,u=0,x=d.length;u<x;++u){var q=
3*(r+u),y=d[u];l[q]=y.x+c.x;l[q+1]=y.y+c.y;l[q+2]=y.z+c.z;n[q]=m.r;n[q+1]=m.g;n[q+2]=m.b}b.vertices+=d.length;p=p.verticesRows;l=p.length-1;for(m=0;m<l;m++)for(n=p[m].length-1,c=0;c<n;c++){u=b.faceidx;x=b.lineidx;q=p[m][c+1]+r;y=3*q;var z=p[m][c]+r,X=3*z,K=p[m+1][c]+r,N=3*K,H=p[m+1][c+1]+r,F=3*H,I=g[q-r],O=g[z-r],W=g[K-r],V=g[H-r];Math.abs(d[q-r].y)===e?(t[y]=I.x,t[N]=W.x,t[F]=V.x,t[y+1]=I.y,t[N+1]=W.y,t[F+1]=V.y,t[y+2]=I.z,t[N+2]=W.z,t[F+2]=V.z,A[u]=q,A[u+1]=K,A[u+2]=H,B[x]=q,B[x+1]=K,B[x+2]=q,B[x+
3]=H,B[x+4]=K,B[x+5]=H,b.faceidx+=3,b.lineidx+=6):Math.abs(d[K-r].y)===e?(t[y]=I.x,t[X]=O.x,t[N]=W.x,t[y+1]=I.y,t[X+1]=O.y,t[N+1]=W.y,t[y+2]=I.z,t[X+2]=O.z,t[N+2]=W.z,A[u]=q,A[u+1]=z,A[u+2]=K,B[x]=q,B[x+1]=z,B[x+2]=q,B[x+3]=K,B[x+4]=z,B[x+5]=K,b.faceidx+=3,b.lineidx+=6):(t[y]=I.x,t[X]=O.x,t[F]=V.x,t[y+1]=I.y,t[X+1]=O.y,t[F+1]=V.y,t[y+2]=I.z,t[X+2]=O.z,t[F+2]=V.z,t[X]=O.x,t[N]=W.x,t[F]=V.x,t[X+1]=O.y,t[N+1]=W.y,t[F+1]=V.y,t[X+2]=O.z,t[N+2]=W.z,t[F+2]=V.z,A[u]=q,A[u+1]=z,A[u+2]=H,A[u+3]=z,A[u+4]=K,
A[u+5]=H,B[x]=q,B[x+1]=z,B[x+2]=q,B[x+3]=H,B[x+4]=z,B[x+5]=K,B[x+6]=K,B[x+7]=H,b.faceidx+=6,b.lineidx+=8)}},e}();b=b||{};b.GLModel=function(){function c(m,h){var r=[],t=[],y=null,x=null,p=!1,d=null,g=null,E=null,l={},L=new b.Matrix4,A=!0,B=b.elementColors.defaultColor,S=(h=h||{}).defaultcolors?h.defaultcolors:b.elementColors.defaultColors,C=h.defaultSphereRadius?h.defaultSphereRadius:1.5,U=h.cartoonQuality?h.cartoonQuality:5,q=function(b,c){var d=C;return void 0!==c.radius?d=c.radius:n[b.elem]&&(d=
n[b.elem]),void 0!==c.scale&&(d*=c.scale),d},z=function(c,d,g){var e,l,h,m,p,q=new b.Vector3(c.x,c.y,c.z),n=(new b.Vector3(d.x,d.y,d.z)).clone(),A=null;n.sub(q);var E=function(c,d){for(var g=null,e=-1,E=0,t=c.bonds.length;E<t;E++)if(c.bonds[E]!=d.index){l=c.bonds[E];h=r[l];m=new b.Vector3(h.x,h.y,h.z);(p=m.clone()).sub(q);(A=p.clone()).cross(n);var L=A.lengthSq();if(L>e&&(g=A,.1<(e=L)))break}return g};1===c.bonds.length?1===d.bonds.length?(A=n.clone(),1E-4<Math.abs(A.x)?A.y+=1:A.x+=1):(e=(g+1)%d.bonds.length,
l=d.bonds[e],h=r[l],m=new b.Vector3(h.x,h.y,h.z),(p=m.clone()).sub(q),(A=p.clone()).cross(n)):.01>(A=E(c,d)).lengthSq()&&(c=E(d,c),null!=c&&(A=c));return.01>A.lengthSq()&&(A=n.clone(),1E-4<Math.abs(A.x)?A.y+=1:A.x+=1),A.cross(n),A.normalize(),A},ia=function(b,c,d,g,e,l){b[d]=g.x;b[d+1]=g.y;b[d+2]=g.z;c[d]=l.r;c[d+1]=l.g;c[d+2]=l.b;b[d+3]=e.x;b[d+4]=e.y;b[d+5]=e.z;c[d+3]=l.r;c[d+4]=l.g;c[d+5]=l.b},X=function(c,d){if(c.style.sphere){var g=c.style.sphere;if(!g.hidden){var e=b.getColorFromStyle(c,g);
g=q(c,g);if((!0===c.clickable||c.hoverable)&&void 0!==c.intersectionShape){var l=new b.Vector3(c.x,c.y,c.z);c.intersectionShape.sphere.push(new b.Sphere(l,g))}b.GLDraw.drawSphere(d,c,g,e)}}},K=function(c,d){if(c.style.sphere){var g=c.style.sphere;if(!g.hidden){var e=q(c,g);g=b.getColorFromStyle(c,g);d=d.updateGeoGroup(1);var l=d.vertices,h=3*l,m=d.vertexArray,p=d.colorArray,r=d.radiusArray;(m[h]=c.x,m[h+1]=c.y,m[h+2]=c.z,p[h]=g.r,p[h+1]=g.g,p[h+2]=g.b,r[l]=e,!0!==c.clickable&&!c.hoverable||void 0===
c.intersectionShape)||(g=new b.Vector3(c.x,c.y,c.z),c.intersectionShape.sphere.push(new b.Sphere(g,e)));d.vertices+=1}}},N=function(b,c,d,g){var e;b=b.updateGeoGroup(4);var l=b.vertices,h=3*l,m=b.vertexArray,p=b.colorArray;for(e=0;4>e;e++)m[h+3*e]=c.x,m[h+3*e+1]=c.y,m[h+3*e+2]=c.z;c=b.normalArray;for(e=0;4>e;e++)p[h+3*e]=g.r,p[h+3*e+1]=g.g,p[h+3*e+2]=g.b;c[h+0]=-d;c[h+1]=d;c[h+2]=0;c[h+3]=-d;c[h+4]=-d;c[h+5]=0;c[h+6]=d;c[h+7]=-d;c[h+8]=0;c[h+9]=d;c[h+10]=d;c[h+11]=0;b.vertices+=4;d=b.faceArray;g=
b.faceidx;d[g+0]=l;d[g+1]=l+1;d[g+2]=l+2;d[g+3]=l+2;d[g+4]=l+3;d[g+5]=l;b.faceidx+=6},H=function(c,d){if(c.style.sphere){var g=c.style.sphere;if(!g.hidden){var e=q(c,g);g=b.getColorFromStyle(c,g);if((!0===c.clickable||c.hoverable)&&void 0!==c.intersectionShape){var l=new b.Vector3(c.x,c.y,c.z);c.intersectionShape.sphere.push(new b.Sphere(l,e))}N(d,c,e,g)}}},I=function(b,c,d,g,e){var l;b=b.updateGeoGroup(4);var h=b.vertices,m=b.vertexArray,p=b.colorArray,q=b.radiusArray,r=b.normalArray,n=e.r,A=e.g;
e=e.b;for(var E=3*h,t=0;4>t;t++)m[E]=c.x,r[E]=d.x,p[E]=n,m[++E]=c.y,r[E]=d.y,p[E]=A,m[++E]=c.z,r[E]=d.z,p[E]=2>t?e:(l=void 0,0==(l=-e)&&(l=-1E-4),l),E++;b.vertices+=4;q[h]=-g;q[h+1]=g;q[h+2]=-g;q[h+3]=g;c=b.faceArray;d=b.faceidx;c[d+0]=h;c[d+1]=h+1;c[d+2]=h+2;c[d+3]=h+2;c[d+4]=h+3;c[d+5]=h;b.faceidx+=6},Fa=function(c,d){d=d||{};var g,e,h,m=new b.Object3D,p=[],r={},n={},E=X,t=null,L=null;d.supportsImposters?(E=H,(t=new b.Geometry(!0)).imposter=!0,(L=new b.Geometry(!0,!0)).imposter=!0,L.sphereGeometry=
new b.Geometry(!0),L.sphereGeometry.imposter=!0,L.drawnCaps={}):d.supportsAIA?(E=K,(t=new b.Geometry(!1,!0,!0)).instanced=!0,L=new b.Geometry(!0)):(t=new b.Geometry(!0),L=new b.Geometry(!0));var B={},u=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];var C=0;for(e=c.length;C<e;C++){var x=c[C];if(x&&x.style){for(g in(x.clickable||x.hoverable)&&void 0===x.intersectionShape&&(x.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),h={line:void 0,cross:void 0,stick:void 0,sphere:void 0})x.style[g]?
x.style[g].opacity?h[g]=parseFloat(x.style[g].opacity):h[g]=1:h[g]=void 0,B[g]?null!=h[g]&&B[g]!=h[g]&&(console.log("Warning: "+g+" opacity is ambiguous"),B[g]=1):B[g]=h[g];E(x,t);var J=x;if(J.style.clicksphere){var S=J.style.clicksphere;if(!S.hidden){var y=q(J,S);if((!0===J.clickable||J.hoverable)&&void 0!==J.intersectionShape){var P=new b.Vector3(J.x,J.y,J.z);J.intersectionShape.sphere.push(new b.Sphere(P,y))}}}var M=x,O=n;if(M.style.cross){var F=M.style.cross;if(!F.hidden){var V=F.linewidth||1;
O[V]||(O[V]=new b.Geometry);var ta=O[V].updateGeoGroup(6),v=q(M,F),W=[[v,0,0],[-v,0,0],[0,v,0],[0,-v,0],[0,0,v],[0,0,-v]],Fa=M.clickable||M.hoverable;Fa&&void 0===M.intersectionShape&&(M.intersectionShape={sphere:[],cylinder:[],line:[]});for(var Y=b.getColorFromStyle(M,F),na=ta.vertexArray,Na=ta.colorArray,w=0;6>w;w++){var hb=3*ta.vertices;if(ta.vertices++,na[hb]=M.x+W[w][0],na[hb+1]=M.y+W[w][1],na[hb+2]=M.z+W[w][2],Na[hb]=Y.r,Na[hb+1]=Y.g,Na[hb+2]=Y.b,Fa){var Ka=new b.Vector3(W[w][0],W[w][1],W[w][2]);
Ka.multiplyScalar(.1);Ka.set(Ka.x+M.x,Ka.y+M.y,Ka.z+M.z);M.intersectionShape.line.push(Ka)}}}}var eb=void 0,za=void 0,bb=void 0,pb=void 0,Ga=x,Ua=c,ib=r;if(Ga.style.line){var Ha=Ga.style.line;if(!Ha.hidden){var cb=Ha.linewidth||1;ib[cb]||(ib[cb]=new b.Geometry);for(var La=ib[cb].updateGeoGroup(6*Ga.bonds.length),Ea=La.vertexArray,ka=La.colorArray,Ia=0;Ia<Ga.bonds.length;Ia++){var db=Ua[Ga.bonds[Ia]];if(db.style.line&&!(Ga.serial>=db.serial)){var fb=new b.Vector3(Ga.x,Ga.y,Ga.z),oa=new b.Vector3(db.x,
db.y,db.z),Ja=fb.clone().add(oa).multiplyScalar(.5),da=!1,Va=Ga.clickable||Ga.hoverable,Kb=db.clickable||db.hoverable;(Va||Kb)&&(Va&&(void 0===Ga.intersectionShape&&(Ga.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Ga.intersectionShape.line.push(fb),Ga.intersectionShape.line.push(Ja)),Kb&&(void 0===db.intersectionShape&&(db.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),db.intersectionShape.line.push(Ja),db.intersectionShape.line.push(oa)));var Ba=b.getColorFromStyle(Ga,
Ga.style.line),Ma=b.getColorFromStyle(db,db.style.line);if(Ga.bondStyles&&Ga.bondStyles[Ia]){var wa=Ga.bondStyles[Ia];if(!wa.iswire)continue;wa.singleBond&&(da=!0);void 0!==wa.color1&&(Ba=b.CC.color(wa.color1));void 0!==wa.color2&&(Ma=b.CC.color(wa.color2))}var gb,Wa,ya=3*La.vertices;if(1<Ga.bondOrder[Ia]&&4>Ga.bondOrder[Ia]&&!da){var Cb=z(Ga,db,Ia),jb=oa.clone();jb.sub(fb);2==Ga.bondOrder[Ia]?(Cb.multiplyScalar(.1),(pb=fb.clone()).add(Cb),(bb=fb.clone()).sub(Cb),(za=pb.clone()).add(jb),(eb=bb.clone()).add(jb),
Ba==Ma?(La.vertices+=4,ia(Ea,ka,ya,pb,za,Ba),ia(Ea,ka,ya+6,bb,eb,Ba)):(La.vertices+=8,jb.multiplyScalar(.5),(gb=pb.clone()).add(jb),(Wa=bb.clone()).add(jb),ia(Ea,ka,ya,pb,gb,Ba),ia(Ea,ka,ya+6,gb,za,Ma),ia(Ea,ka,ya+12,bb,Wa,Ba),ia(Ea,ka,ya+18,Wa,eb,Ma))):3==Ga.bondOrder[Ia]&&(Cb.multiplyScalar(.1),(pb=fb.clone()).add(Cb),(bb=fb.clone()).sub(Cb),(za=pb.clone()).add(jb),(eb=bb.clone()).add(jb),Ba==Ma?(La.vertices+=6,ia(Ea,ka,ya,fb,oa,Ba),ia(Ea,ka,ya+6,pb,za,Ba),ia(Ea,ka,ya+12,bb,eb,Ba)):(La.vertices+=
12,jb.multiplyScalar(.5),(gb=pb.clone()).add(jb),(Wa=bb.clone()).add(jb),ia(Ea,ka,ya,fb,Ja,Ba),ia(Ea,ka,ya+6,Ja,oa,Ma),ia(Ea,ka,ya+12,pb,gb,Ba),ia(Ea,ka,ya+18,gb,za,Ma),ia(Ea,ka,ya+24,bb,Wa,Ba),ia(Ea,ka,ya+30,Wa,eb,Ma)))}else Ba==Ma?(La.vertices+=2,ia(Ea,ka,ya,fb,oa,Ba)):(La.vertices+=4,ia(Ea,ka,ya,fb,Ja,Ba),ia(Ea,ka,ya+6,Ja,oa,Ma))}}}}var qb=void 0,kb=void 0,Ra=void 0,nb=void 0,Wb=void 0,Xb=void 0,jc=void 0,Tb=void 0,Yb=void 0,ub=void 0,Jb=void 0,Sa=void 0,xb=void 0,sb=void 0,sa=x,oc=c,Oa=L;if(sa.style.stick){var Qb=
sa.style.stick;if(!Qb.hidden){var Db=Qb.radius||.25,$a=Db,kc=Qb.singleBonds||!1,Sb=0,ob=0,Ta=b.getColorFromStyle(sa,Qb);!sa.capDrawn&&4>sa.bonds.length&&(Sb=2);var ab=b.GLDraw.drawCylinder;Oa.imposter&&(ab=I);for(Sa=0;Sa<sa.bonds.length;Sa++){var Pa=oc[sa.bonds[Sa]];if(sa.serial<Pa.serial){var Ob=Pa.style;if(Ob.stick&&!Ob.stick.hidden){var yb=b.getColorFromStyle(Pa,Ob.stick);if($a=Db,Jb=kc,sa.bondStyles&&sa.bondStyles[Sa]){if((ub=sa.bondStyles[Sa]).iswire)continue;ub.radius&&($a=ub.radius);ub.singleBond&&
(Jb=!0);void 0!==ub.color1&&(Ta=b.CC.color(ub.color1));void 0!==ub.color2&&(yb=b.CC.color(ub.color2))}var Xa=new b.Vector3(sa.x,sa.y,sa.z),tb=new b.Vector3(Pa.x,Pa.y,Pa.z);if(1===sa.bondOrder[Sa]||Jb){if(!Pa.capDrawn&&4>Pa.bonds.length&&(ob=2),Ta!=yb?(ab(Oa,Xa,Ra=(new b.Vector3).addVectors(Xa,tb).multiplyScalar(.5),$a,Ta,Sb,0),ab(Oa,Ra,tb,$a,yb,0,ob)):ab(Oa,Xa,tb,$a,Ta,Sb,ob),sb=sa.clickable||sa.hoverable,xb=Pa.clickable||Pa.hoverable,sb||xb){if(Ra||(Ra=(new b.Vector3).addVectors(Xa,tb).multiplyScalar(.5)),
sb){var dc=new b.Cylinder(Xa,Ra,$a),qc=new b.Sphere(Xa,$a);sa.intersectionShape.cylinder.push(dc);sa.intersectionShape.sphere.push(qc)}if(xb){var ec=new b.Cylinder(tb,Ra,$a),Ub=new b.Sphere(tb,$a);Pa.intersectionShape.cylinder.push(ec);Pa.intersectionShape.sphere.push(Ub)}}}else if(1<sa.bondOrder[Sa]){var Eb=0,zb=0;$a!=Db&&(Eb=2,zb=2);var Da,lb,rb,vb,wb,Pb=tb.clone(),Ab=null;Pb.sub(Xa);Ab=z(sa,Pa,Sa);2==sa.bondOrder[Sa]?(Da=$a/2.5,(Ab=z(sa,Pa,Sa)).multiplyScalar(1.5*Da),(lb=Xa.clone()).add(Ab),(rb=
Xa.clone()).sub(Ab),(vb=lb.clone()).add(Pb),(wb=rb.clone()).add(Pb),Ta!=yb?(Ra=(new b.Vector3).addVectors(lb,vb).multiplyScalar(.5),kb=(new b.Vector3).addVectors(rb,wb).multiplyScalar(.5),ab(Oa,lb,Ra,Da,Ta,Eb,0),ab(Oa,Ra,vb,Da,yb,0,zb),ab(Oa,rb,kb,Da,Ta,Eb,0),ab(Oa,kb,wb,Da,yb,0,zb)):(ab(Oa,lb,vb,Da,Ta,Eb,zb),ab(Oa,rb,wb,Da,Ta,Eb,zb)),sb=sa.clickable||sa.hoverable,xb=Pa.clickable||Pa.hoverable,(sb||xb)&&(Ra||(Ra=(new b.Vector3).addVectors(lb,vb).multiplyScalar(.5)),kb||(kb=(new b.Vector3).addVectors(rb,
wb).multiplyScalar(.5)),sb&&(Yb=new b.Cylinder(lb,Ra,Da),Tb=new b.Cylinder(rb,kb,Da),sa.intersectionShape.cylinder.push(Yb),sa.intersectionShape.cylinder.push(Tb)),xb&&(Xb=new b.Cylinder(vb,Ra,Da),Wb=new b.Cylinder(wb,kb,Da),Pa.intersectionShape.cylinder.push(Xb),Pa.intersectionShape.cylinder.push(Wb)))):3==sa.bondOrder[Sa]&&(Da=$a/4,Ab.cross(Pb),Ab.normalize(),Ab.multiplyScalar(3*Da),(lb=Xa.clone()).add(Ab),(rb=Xa.clone()).sub(Ab),(vb=lb.clone()).add(Pb),(wb=rb.clone()).add(Pb),Ta!=yb?(Ra=(new b.Vector3).addVectors(lb,
vb).multiplyScalar(.5),kb=(new b.Vector3).addVectors(rb,wb).multiplyScalar(.5),qb=(new b.Vector3).addVectors(Xa,tb).multiplyScalar(.5),ab(Oa,lb,Ra,Da,Ta,Eb,0),ab(Oa,Ra,vb,Da,yb,0,zb),ab(Oa,Xa,qb,Da,Ta,Sb,0),ab(Oa,qb,tb,Da,yb,0,ob),ab(Oa,rb,kb,Da,Ta,Eb,0),ab(Oa,kb,wb,Da,yb,0,zb)):(ab(Oa,lb,vb,Da,Ta,Eb,zb),ab(Oa,Xa,tb,Da,Ta,Sb,ob),ab(Oa,rb,wb,Da,Ta,Eb,zb)),sb=sa.clickable||sa.hoverable,xb=Pa.clickable||Pa.hoverable,(sb||xb)&&(Ra||(Ra=(new b.Vector3).addVectors(lb,vb).multiplyScalar(.5)),kb||(kb=(new b.Vector3).addVectors(rb,
wb).multiplyScalar(.5)),qb||(qb=(new b.Vector3).addVectors(Xa,tb).multiplyScalar(.5)),sb&&(Yb=new b.Cylinder(lb.clone(),Ra.clone(),Da),Tb=new b.Cylinder(rb.clone(),kb.clone(),Da),jc=new b.Cylinder(Xa.clone(),qb.clone(),Da),sa.intersectionShape.cylinder.push(Yb),sa.intersectionShape.cylinder.push(Tb),sa.intersectionShape.cylinder.push(jc)),xb&&(Xb=new b.Cylinder(vb.clone(),Ra.clone(),Da),Wb=new b.Cylinder(wb.clone(),kb.clone(),Da),nb=new b.Cylinder(tb.clone(),qb.clone(),Da),Pa.intersectionShape.cylinder.push(Xb),
Pa.intersectionShape.cylinder.push(Wb),Pa.intersectionShape.cylinder.push(nb))))}}}}var Zb=!1,Vb=0,lc=!1;for(Sa=0;Sa<sa.bonds.length;Sa++)Jb=kc,sa.bondStyles&&sa.bondStyles[Sa]&&((ub=sa.bondStyles[Sa]).singleBond&&(Jb=!0),ub.radius&&ub.radius!=Db&&(lc=!0)),(Jb||1==sa.bondOrder[Sa])&&Vb++;lc?0<Vb&&(Zb=!0):0==Vb&&0<sa.bonds.length&&(Zb=!0);Zb&&($a=Db,Oa.imposter?N(Oa.sphereGeometry,sa,$a,Ta):b.GLDraw.drawSphere(Oa,sa,$a,Ta))}}void 0===x.style.cartoon||x.style.cartoon.hidden||("spectrum"!==x.style.cartoon.color||
"number"!=typeof x.resi||x.hetflag||(x.resi<u[0]&&(u[0]=x.resi),x.resi>u[1]&&(u[1]=x.resi)),p.push(x))}}if(0<p.length&&b.drawCartoon(m,p,u,U),t&&0<t.vertices){t.initTypedArrays();var Bb=null,Hb=null;t.imposter?Bb=new b.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):t.instanced?(Hb=new b.Geometry(!0),b.GLDraw.drawSphere(Hb,{x:0,y:0,z:0},1,new b.Color(.5,.5,.5)),Hb.initTypedArrays(),Bb=new b.InstancedMaterial({sphereMaterial:new b.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),
sphere:Hb})):Bb=new b.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});1>B.sphere&&0<=B.sphere&&(Bb.transparent=!0,Bb.opacity=B.sphere);Hb=new b.Mesh(t,Bb);m.add(Hb)}if(0<L.vertices){var Lb=null,Ib=null,Fb=L.sphereGeometry;Fb&&void 0!==Fb.vertices&&0!=Fb.vertices||(Fb=null);L.initTypedArrays();Fb&&Fb.initTypedArrays();var Mb={ambient:0,vertexColors:!0,reflectivity:0};L.imposter?(Lb=new b.StickImposterMaterial(Mb),Ib=new b.SphereImposterMaterial(Mb)):(Lb=new b.MeshLambertMaterial(Mb),
Ib=new b.MeshLambertMaterial(Mb),Lb.wireframe&&(L.setUpWireframe(),Fb&&Fb.setUpWireframe()));1>B.stick&&0<=B.stick&&(Lb.transparent=!0,Lb.opacity=B.stick,Ib.transparent=!0,Ib.opacity=B.stick);var k=new b.Mesh(L,Lb);if(m.add(k),Fb){var G=new b.Mesh(Fb,Ib);m.add(G)}}for(C in r)if(r.hasOwnProperty(C)){var Gb=C;var fc=new b.LineBasicMaterial({linewidth:Gb,vertexColors:!0});1>B.line&&0<=B.line&&(fc.transparent=!0,fc.opacity=B.line);r[C].initTypedArrays();var f=new b.Line(r[C],fc,b.LinePieces);m.add(f)}for(C in n)if(n.hasOwnProperty(C)){Gb=
C;var D=new b.LineBasicMaterial({linewidth:Gb,vertexColors:!0});1>B.cross&&0<=B.cross&&(D.transparent=!0,D.opacity=B.cross);n[C].initTypedArrays();var ra=new b.Line(n[C],D,b.LinePieces);m.add(ra)}if(A&&l.symmetries&&0<l.symmetries.length){var $b,rc=new b.Object3D;for($b=0;$b<l.symmetries.length;$b++){var gc=new b.Object3D;(gc=m.clone()).matrix.copy(l.symmetries[$b]);gc.matrixAutoUpdate=!1;rc.add(gc)}return rc}return m};this.getInternalState=function(){return{atoms:r,frames:t}};this.setInternalState=
function(b){r=b.atoms;t=b.frames;d=null};this.getCrystData=function(){return l.cryst?l.cryst:null};this.getSymmetries=function(){return void 0===l.symmetries&&(l.symmetries=[L]),l.symmetries};this.setSymmetries=function(b){l.symmetries=void 0===b?[L]:b};this.getID=function(){return m};this.getNumFrames=function(){return null!=t.numFrames?t.numFrames:t.length};var O=function(b,c,d,g){b=c-b;return b<-d?c+g:b>d?c-g:c};this.setFrame=function(c){var g=this.getNumFrames();return new Promise(function(e,
l){(0==g&&e(),(0>c||c>=g)&&(c=g-1),null!=t.url)?b.getbin(t.url+"/traj/frame/"+c+"/"+t.path,null,"POST").then(function(b){b=new Float32Array(b,44);for(var c=0,d=0;d<r.length;d++)r[d].x=b[c++],r[d].y=b[c++],r[d].z=b[c++];if(y&&x&&y&&x){b=y[0];c=y[1];d=y[2];for(var g=.9*b,l=.9*c,h=.9*d,m=0;m<x.length;m++)for(var p=x[m],q=1;q<p.length;q++){var n=r[p[q][0]],A=r[p[q][1]];n.x=O(A.x,n.x,g,b);n.y=O(A.y,n.y,l,c);n.z=O(A.z,n.z,h,d)}}e()}).catch(l):(r=t[c],e());d=null})};this.addFrame=function(b){t.push(b)};
this.vibrate=function(c,d,g,e,l){d=d||1;var h=0,m=c=c||10;g&&(h=-c,m=c);h<m&&(t=[]);for(g=h;g<m;g++){h=[];var p=t.length;if(0!=g||l){for(var q=0;q<r.length;q++){var n=b.getAtomProperty(r[q],"dx"),A=b.getAtomProperty(r[q],"dy"),E=b.getAtomProperty(r[q],"dz"),L=new b.Vector3(n,A,E),B=new b.Vector3(r[q].x,r[q].y,r[q].z);L.multiplyScalar(g*d/c);B.add(L);L={};for(var x in r[q])L[x]=r[q][x];if(L.x=B.x,L.y=B.y,L.z=B.z,h.push(L),e&&l){var C=F.extend({},l);n=new b.Vector3(n,A,E);(n.multiplyScalar(d),n.add(B),
C.start=B,C.end=n,C.frame=p,C.color)||((B=L.style.sphere)||(B=L.style.stick),B||(B=L.style.line),C.color=b.getColorFromStyle(L,B));e.addArrow(C)}}t.push(h)}else t.push(r)}};this.setAtomDefaults=function(b){for(var c=0;c<b.length;c++){var d=b[c];d&&(d.style=d.style||F.extend(!0,{},e),d.color=d.color||S[d.elem]||B,d.model=m,(d.clickable||d.hoverable)&&(d.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}};this.addMolData=function(c,d,g){g=g||{};c=b.GLModel.parseMolData(c,d,g);A=!g.duplicateAssemblyAtoms;
d=c.modelData;if(d&&(l=Array.isArray(d)?d[0]:d),y=c.box?c.box:null,0==t.length){for(d=0;d<c.length;d++)0!=c[d].length&&t.push(c[d]);t[0]&&(r=t[0])}else if(g.frames)for(d=0;d<c.length;d++)t.push(c[d]);else for(d=0;d<c.length;d++)this.addAtoms(c[d]);for(c=0;c<t.length;c++)this.setAtomDefaults(t[c],m);g.vibrate&&g.vibrate.frames&&g.vibrate.amplitude&&this.vibrate(g.vibrate.frames,g.vibrate.amplitude);g.style&&this.setStyle({},g.style)};this.setDontDuplicateAtoms=function(b){A=b};this.setModelData=function(b){l=
b};var W=function(b,c){if(b==c)return!0;if("string"==typeof c&&"number"==typeof b&&(c=c.match(/(-?\d+)\s*-\s*(-?\d+)/))){var d=parseInt(c[1]),g=parseInt(c[2]);if(c&&b>=d&&b<=g)return!0}return!1};this.atomIsSelected=function(b,c){if(void 0===c)return!0;var d=!!c.invert,g=!0,e;for(e in c)if("and"==e||"or"==e||"not"==e)if("not"==e){if(this.atomIsSelected(b,c[e])){g=!1;break}}else if("and"==e)for(var l=c[e],h=0;h<l.length;h++){if(!this.atomIsSelected(b,l[h])){g=!1;break}}else{if("or"==e){g=c[e];l=!0;
for(h=0;h<g.length;h++){if(this.atomIsSelected(b,g[h])){l=!0;break}l=!1}g=l}}else if("predicate"===e){if(!c.predicate(b)){g=!1;break}}else if("properties"==e&&b[e])for(var m in c.properties){if(void 0===b.properties[m]){g=!1;break}if(b.properties[m]!=c.properties[m]){g=!1;break}}else if(c.hasOwnProperty(e)&&"props"!=e&&"invert"!=e&&"model"!=e&&"byres"!=e&&"expand"!=e&&"within"!=e&&"and"!=e&&"or"!=e&&"not"!=e){if(void 0===b[e]){g=!1;break}l=!1;if("bonds"===e){if(c[e]!=b.bonds.length){g=!1;break}}else if(F.isArray(c[e])){h=
c[e];for(var p=b[e],q=0;q<h.length;q++)if(W(p,h[q])){l=!0;break}if(!l){g=!1;break}}else if(!W(b[e],c[e])){g=!1;break}}return d?!g:g};var V=function(b,c){return Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2)+Math.pow(c.z-b.z,2)};this.selectedAtoms=function(c,d){var g=[];c=c||{};d||(d=r);for(var e=d.length,l=0;l<e;l++){var h=d[l];h&&this.atomIsSelected(h,c)&&g.push(h)}if(c.hasOwnProperty("expand")){l=parseFloat(c.expand);if(0>=l)d=g;else{d=b.getExtent(g);e=[[],[],[]];for(h=0;3>h;h++)e[0][h]=d[0][h]-l,e[1][h]=
d[1][h]+l,e[2][h]=d[2][h];l=[];for(h=0;h<r.length;h++){var m=r[h].x,p=r[h].y,q=r[h].z;m>=e[0][0]&&m<=e[1][0]&&p>=e[0][1]&&p<=e[1][1]&&q>=e[0][2]&&q<=e[1][2]&&(m>=d[0][0]&&m<=d[1][0]&&p>=d[0][1]&&p<=d[1][1]&&q>=d[0][2]&&q<=d[1][2]||l.push(r[h]))}d=l}e=g.length;for(l=0;l<d.length;l++)for(h=0;h<e;h++)m=V(d[l],g[h]),m<Math.pow(c.expand,2)&&0<m&&g.push(d[l])}if(c.hasOwnProperty("within")&&c.within.hasOwnProperty("sel")&&c.within.hasOwnProperty("distance")){e=this.selectedAtoms(c.within.sel,r);d={};for(l=
0;l<e.length;l++)for(h=0;h<g.length;h++)m=V(e[l],g[h]),m<Math.pow(parseFloat(c.within.distance),2)&&0<m&&(d[h]=1);e=[];if(c.within.invert)for(var n=0;n<g.length;n++)d[n]||e.push(g[n]);else for(n in d)e.push(g[n]);g=e}if(c.hasOwnProperty("byres"))for(c={},n=[],d=[],e=0;e<g.length;e++)if(l=g[e],h=l.chain,m=l.resi,void 0===c[h]&&(c[h]={}),l.hasOwnProperty("resi")&&void 0===c[h][m])for(c[h][m]=!0,d.push(l);0<d.length;)if(h=(l=d.pop()).chain,m=l.resi,void 0===n[l.index])for(n[l.index]=!0,p=0;p<l.bonds.length;p++)q=
r[l.bonds[p]],void 0===n[q.index]&&q.hasOwnProperty("resi")&&q.chain==h&&q.resi==m&&(d.push(q),g.push(q));return g};this.addAtoms=function(b){d=null;var c,g=r.length,l=[];for(c=0;c<b.length;c++)void 0===b[c].index&&(b[c].index=c),void 0===b[c].serial&&(b[c].serial=c),l[b[c].index]=g+c;for(c=0;c<b.length;c++){g=b[c];var h=l[g.index],p=F.extend(!1,{},g);p.index=h;p.bonds=[];p.bondOrder=[];p.model=m;p.style=p.style||F.extend(!0,{},e);void 0===p.color&&(p.color=S[p.elem]||B);h=g.bonds?g.bonds.length:
0;for(var q=0;q<h;q++){var n=l[g.bonds[q]];void 0!==n&&(p.bonds.push(n),p.bondOrder.push(g.bondOrder?g.bondOrder[q]:1))}r.push(p)}};this.removeAtoms=function(b){d=null;var c,g=[];for(c=0;c<b.length;c++)g[b[c].index]=!0;b=[];for(c=0;c<r.length;c++){var e=r[c];g[e.index]||b.push(e)}r=[];this.addAtoms(b)};this.setStyle=function(b,g,e){for(var l in void 0===g&&void 0===e&&(g=b,b={}),b)c.validAtomSelectionSpecs.hasOwnProperty(l)||console.log("Unknown selector "+l);for(l in g)c.validAtomStyleSpecs.hasOwnProperty(l)||
console.log("Unknown style "+l);var h=!1,m=this;l=function(c){for(var d=m.selectedAtoms(b,c),l=0;l<c.length;l++)c[l]&&(c[l].capDrawn=!1);for(c=0;c<d.length;c++){h=!0;(d[c].clickable||d[c].hoverable)&&(d[c].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});e||(d[c].style={});for(var p in g)g.hasOwnProperty(p)&&(d[c].style[p]=d[c].style[p]||{},Object.assign(d[c].style[p],g[p]))}};l(r);for(var p=0;p<t.length;p++)t[p]!==r&&l(t[p]);h&&(d=null)};this.setClickable=function(b,g,e){for(var l in b)c.validAtomSelectionSpecs.hasOwnProperty(l)||
console.log("Unknown selector "+l);if(g=!!g,e&&"function"!=typeof e)console.log("Callback is not a function");else{l=this.selectedAtoms(b,r);var h=l.length;for(b=0;b<h;b++)l[b].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},l[b].clickable=g,e&&(l[b].callback=e);0<h&&(d=null)}};this.setHoverable=function(b,g,e,l){for(var h in b)c.validAtomSelectionSpecs.hasOwnProperty(h)||console.log("Unknown selector "+h);if(g=!!g,e&&"function"!=typeof e)console.log("Hover_callback is not a function");
else if(l&&"function"!=typeof l)console.log("Unhover_callback is not a function");else{h=this.selectedAtoms(b,r);var m=h.length;for(b=0;b<m;b++)h[b].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},h[b].hoverable=g,e&&(h[b].hover_callback=e),l&&(h[b].unhover_callback=l);0<m&&(d=null)}};this.setColorByElement=function(b,c){var g;(g=null===d)||(g=E,g=!(c&&g?JSON.stringify(c)==JSON.stringify(g):c==g));if(g){E=c;var e=this.selectedAtoms(b,e);0<e.length&&(d=null);for(b=0;b<e.length;b++)g=
e[b],void 0!==c[g.elem]&&(g.color=c[g.elem])}};this.setColorByProperty=function(c,g,e,l){var h=this.selectedAtoms(c,h);E=null;0<h.length&&(d=null);void 0!==b.Gradient.builtinGradients[e]&&(e=new b.Gradient.builtinGradients[e]);l||(l=e.range());l||(l=b.getPropertyRange(h,g));for(c=0;c<h.length;c++){var m=h[c];null!=b.getAtomProperty(m,g)&&(m.color=e.valueToHex(parseFloat(m.properties[g]),l))}};this.setColorByFunction=function(b,c){var g=this.selectedAtoms(b,g);if("function"==typeof c)for(E=null,0<
g.length&&(d=null),b=0;b<g.length;b++){var e=g[b];e.color=c(e)}};this.toCDObject=function(b){var c={a:[],b:[]};b&&(c.s=[]);for(var d=0;d<r.length;d++){var g={},e=r[d];if(g.x=e.x,g.y=e.y,g.z=e.z,"C"!=e.elem&&(g.l=e.elem),b){for(var l=0;l<c.s.length&&JSON.stringify(e.style)!==JSON.stringify(c.s[l]);)l++;l===c.s.length&&c.s.push(e.style);0!==l&&(g.s=l)}c.a.push(g);for(g=0;g<e.bonds.length;g++){l=d;var h=e.bonds[g];l>=h||(l={b:l,e:h},h=e.bondOrder[g],1!=h&&(l.o=h),c.b.push(l))}}return c};this.globj=function(b,
c){(null===d||c.regen)&&(d=Fa(r,c),g&&(b.remove(g),g=null),g=d.clone(),p&&(g.setVisible(!1),d.setVisible(!1)),b.add(g))};this.exportVRML=function(){return Fa(r,{supportsImposters:!1,supportsAIA:!1}).vrml()};this.removegl=function(b){g&&(void 0!==g.geometry&&g.geometry.dispose(),void 0!==g.material&&g.material.dispose(),b.remove(g),g=null);d=null};this.hide=function(){p=!0;g&&g.setVisible(!1);d&&d.setVisible(!1)};this.show=function(){p=!1;g&&g.setVisible(!0);d&&d.setVisible(!0)};this.addPropertyLabels=
function(b,c,d,g){var e=this.selectedAtoms(c,e);c=F.extend(!0,{},g);for(g=0;g<e.length;g++){var l=e[g],h=null;void 0!==l[b]?h=String(l[b]):(l.properties[b],h=String(l.properties[b]));null!=h&&(c.position=l,d.addLabel(h,c))}};this.addResLabels=function(c,d,g,e){var l=[],h=function(e,h){var m=e.selectedAtoms(c,m);e={};for(var p=0;p<m.length;p++){var q=m[p],n=q.chain,r=q.resn+""+q.resi;e[n]||(e[n]={});e[n][r]||(e[n][r]=[]);e[n][r].push(q)}m=F.extend(!0,{},g);for(var A in e)if(e.hasOwnProperty(A)){p=
e[A];for(var E in p)if(p.hasOwnProperty(E)){q=p[E];n=new b.Vector3(0,0,0);for(r=0;r<q.length;r++){var t=q[r];n.x+=t.x;n.y+=t.y;n.z+=t.z}n.divideScalar(q.length);m.position=n;m.frame=h;q=d.addLabel(E,m,void 0,!0);l.push(q)}}};if(e){e=this.getNumFrames();for(var m=r,p=0;p<e;p++)t[p]&&(r=t[p],h(this,p));r=m}else h(this);return l};this.setCoordinatesFromURL=function(b,c){t=[];var d=this;return y&&function(){x=[];var b=new Int8Array(r.length);b.fill(0);for(var c=function(d,g,e){e.push([d,g]);g=r[d];b[d]=
1;for(var l=0;l<g.bonds.length;l++){var h=g.bonds[l];r[h]&&!b[h]&&c(h,d,e)}},d=0;d<r.length;d++)if(r[d]&&!b[d]){var g=[];c(d,-1,g);x.push(g)}}(),new Promise(function(g,e){b.startsWith("http://")||(b="http://"+b);F.get(b+"/traj/numframes/"+c,function(l){isNaN(parseInt(l))||(t.push(r),t.numFrames=l,t.url=b,t.path=c,d.setFrame(0).then(function(){g()}).catch(e))})})};this.setCoordinates=function(b,d){if(!b)return[];if(/\.gz$/.test(d=d||"")){d=d.replace(/\.gz$/,"");try{b=pako.inflate(b,{to:"string"})}catch(ja){console.log(ja)}}if({mdcrd:"",
inpcrd:"",pdb:"",netcdf:""}.hasOwnProperty(d)){t=[];var g=r.length;b=c.parseCrd(b,d);for(d=0;d<b.length;){for(var e=[],l=0;l<g;l++){var h={},m;for(m in r[l])h[m]=r[l][m];e[l]=h;e[l].x=b[d++];e[l].y=b[d++];e[l].z=b[d++]}t.push(e)}return r=t[0],t}return[]};this.addAtomSpecs=function(b){for(var d=0;d<b.length;d++)c.validAtomSelectionSpecs.hasOwnProperty(b[d])&&c.validAtomSelectionSpecs.push(b[d])}}var e={line:{}},n={H:1.2,Li:1.82,LI:1.82,Na:2.27,NA:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,
CL:1.75,Cl:1.75,BR:1.85,Br:1.85,SE:1.9,Se:1.9,ZN:1.39,Zn:1.39,CU:1.4,Cu:1.4,NI:1.63,Ni:1.63};c.validElements="H Li LI Na NA K C N O F P S CL Cl BR Br SE Se ZN Zn CU Cu NI Ni".split(" ");c.validAtomSpecs={resn:{type:"string",valid:!0},x:{type:"number",valid:!1,step:.1},y:{type:"number",valid:!1,step:.1},z:{type:"number",valid:!1,step:.1},color:{type:"color",gui:!0},surfaceColor:{type:"color",gui:!0},elem:{type:"element",gui:!0},hetflag:{type:"boolean",valid:!1},chain:{type:"string",gui:!0},resi:{type:"number",
gui:!0},icode:{type:"number",valid:!1,step:.1},rescode:{type:"number",valid:!1,step:.1},serial:{type:"number",valid:!1,step:.1},atom:{type:"string",valid:!1},bonds:{type:"array",valid:!1},ss:{type:"string",valid:!1},singleBonds:{type:"boolean",valid:!1},bondOrder:{type:"array",valid:!1},properties:{type:"properties",valid:!1},b:{type:"number",valid:!1,step:.1},pdbline:{type:"string",valid:!1},clickable:{type:"boolean",valid:!1},callback:{type:"function",valid:!1},invert:{type:"boolean",valid:!1},
reflectivity:{type:"number",gui:!0,step:.1},altLoc:{type:"invalid",valid:!1}};c.validAtomSelectionSpecs=function(b,c){for(var e in c)c.hasOwnProperty(e)&&(b[e]=c[e]);return b}(c.validAtomSpecs,{model:{type:"string",valid:!1},bonds:{type:"string",valid:!1},predicate:{type:"string",valid:!1},invert:{type:"string",valid:!1},byres:{type:"string",valid:!1},expand:{type:"string",valid:!1},within:{type:"string",valid:!1},and:{type:"string",valid:!1},or:{type:"string",valid:!1},not:{type:"string",valid:!1}});
var t={hidden:{type:"boolean",gui:!0},singleBonds:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1.5,min:0}};c.validAtomStyleSpecs={line:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!0,step:.1,default:1},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0}},gui:!0},cross:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!1,step:.1,default:1,min:0},
colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1,min:.1},scale:{type:"number",gui:!0,step:.1,default:1,min:0}},gui:!0},stick:{validItems:{hidden:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:.25,min:.1},singleBonds:{type:"boolean",gui:!0}},gui:!0},sphere:{validItems:t,gui:!0},cartoon:{validItems:{style:{validItems:["trace","oval","rectangle",
"parabola","edged"],gui:!0},color:{type:"color",gui:!0},arrows:{type:"boolean",gui:!0},ribbon:{type:"boolean",gui:!0},hidden:{type:"boolean",gui:!0},tubes:{type:"boolean",gui:!0},thickness:{type:"number",gui:!0,step:.1,default:1,min:0},width:{type:"number",gui:!0,step:.1,default:1,min:0},opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1}},gui:!0},colorfunc:{validItems:null,valid:!1},clicksphere:{validItems:t}};c.validSurfaceSpecs={opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},
colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},voldata:{type:"number",gui:!1},volscheme:{type:"number",gui:!1},map:{type:"number",gui:!1}};c.validLabelResSpecs={font:{type:"string",gui:!0},fontSize:{type:"number",gui:!0,step:1,default:12,min:1},fontColor:{type:"color",gui:!0},fontOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},borderThickness:{type:"number",gui:!0,step:.1,default:1,min:0},borderColor:{type:"color",gui:!0},borderOpacity:{type:"number",gui:!0,step:.1,
default:1,min:0,max:1},backgroundColor:{type:"color",gui:!0},backgroundOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},position:{type:"array",valid:!1},inFront:{type:"boolean",gui:!0},showBackground:{type:"boolean",gui:!0},fixed:{type:"boolean",gui:!0},alignment:{validItems:"topLeft topCenter topRight centerLeft center centerRight bottomLeft bottomCenter bottomRight".split(" "),gui:!0},scale:{type:"boolean",gui:!1}};return c.parseCrd=function(b,c){var e=[],h=0;if("pdb"==c)for(c=b.indexOf("\nATOM");-1!=
c;){for(;"\nATOM"==b.slice(c,c+5)||"\nHETATM"==b.slice(c,c+7);)e[h++]=parseFloat(b.slice(c+31,c+39)),e[h++]=parseFloat(b.slice(c+39,c+47)),e[h++]=parseFloat(b.slice(c+47,c+55)),c=b.indexOf("\n",c+54),"\nTER"==b.slice(c,c+4)&&(c=b.indexOf("\n",c+5));c=b.indexOf("\nATOM",c)}else"netcdf"==c?(b=new netcdfjs(b),e=[].concat.apply([],b.getDataVariable("coordinates"))):(e=b.indexOf("\n"),"inpcrd"==c&&(e=b.indexOf("\n",e+1)),e=b.slice(e+1).match(/\S+/g).map(parseFloat));return e},c.parseMolData=function(c,
e,n){if(!c)return[];if(/\.gz$/.test(e=e||"")){e=e.replace(/\.gz$/,"");try{c=pako.inflate(c,{to:"string"})}catch(u){console.log(u)}}return void 0===b.Parsers[e]&&(e=e.split(".").pop(),void 0===b.Parsers[e]&&(console.log("Unknown format: "+e),e=c instanceof Uint8Array?"mmtf":c.match(/^@<TRIPOS>MOLECULE/gm)?"mol2":c.match(/^HETATM/gm)||c.match(/^ATOM/gm)?"pdb":c.match(/ITEM: TIMESTEP/gm)?"lammpstrj":c.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?"sdf":c.match(/^%VERSION\s+VERSION_STAMP/gm)?"prmtop":"xyz",console.log("Best guess: "+
e))),(0,b.Parsers[e])(c,n)},c}();b.GLShape=function(){function c(c){c=c||{};b.ShapeIDCount++;this.boundingSphere=new b.Sphere;this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]};m(this,c);var h=[],u=null,y=null,x=new b.Geometry(!0),p=new b.Geometry(!0);this.updateStyle=function(b){for(var d in b)c[d]=b[d];m(this,c)};this.addCustom=function(b){b.vertexArr=b.vertexArr||[];b.faceArr=b.faceArr||[];b.normalArr=b.normalArr||[];t(this,x,b)};this.addSphere=function(c){c.center=c.center||{x:0,
y:0,z:0};c.radius=c.radius?b.Math.clamp(c.radius,0,1/0):1.5;c.color=b.CC.color(c.color);this.intersectionShape.sphere.push(new b.Sphere(c.center,c.radius));b.GLDraw.drawSphere(x,c.center,c.radius,c.color);h.push({centroid:new b.Vector3(c.center.x,c.center.y,c.center.z)});c=x.updateGeoGroup(0);n(this.boundingSphere,h,c.vertexArray,c.vertices)};this.addBox=function(c){var d=c.dimensions||{w:1,h:1,d:1},e=d.w;"number"==typeof d.w&&(e={x:d.w,y:0,z:0});var l=d.h;"number"==typeof d.h&&(l={x:0,y:d.h,z:0});
var m=d.d;"number"==typeof d.d&&(m={x:0,y:0,z:d.d});d=c.corner;null==d&&(d=void 0!==c.center?{x:c.center.x-.5*(e.x+l.x+m.x),y:c.center.y-.5*(e.y+l.y+m.y),z:c.center.z-.5*(e.z+l.z+m.z)}:{x:0,y:0,z:0});e=[{x:d.x,y:d.y,z:d.z},{x:d.x+e.x,y:d.y+e.y,z:d.z+e.z},{x:d.x+l.x,y:d.y+l.y,z:d.z+l.z},{x:d.x+e.x+l.x,y:d.y+e.y+l.y,z:d.z+e.z+l.z},{x:d.x+m.x,y:d.y+m.y,z:d.z+m.z},{x:d.x+e.x+m.x,y:d.y+e.y+m.y,z:d.z+e.z+m.z},{x:d.x+l.x+m.x,y:d.y+l.y+m.y,z:d.z+l.z+m.z},{x:d.x+e.x+l.x+m.x,y:d.y+e.y+l.y+m.y,z:d.z+e.z+l.z+
m.z}];l=[];m=[];l.splice(l.length,0,e[0],e[1],e[2],e[3]);m.splice(m.length,0,0,2,1,1,2,3);d=4;l.splice(l.length,0,e[2],e[3],e[6],e[7]);m.splice(m.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;l.splice(l.length,0,e[4],e[5],e[0],e[1]);m.splice(m.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;l.splice(l.length,0,e[6],e[7],e[4],e[5]);m.splice(m.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;l.splice(l.length,0,e[3],e[1],e[7],e[5]);m.splice(m.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;l.splice(l.length,0,e[2],e[6],e[0],e[4]);m.splice(m.length,
0,d+0,d+2,d+1,d+1,d+2,d+3);c=F.extend({},c);c.vertexArr=l;c.faceArr=m;c.normalArr=[];t(this,x,c);c=new b.Vector3;h.push({centroid:c.addVectors(e[0],e[7]).multiplyScalar(.5)});c=x.updateGeoGroup(0);n(this.boundingSphere,h,c.vertexArray,c.vertices)};this.addCylinder=function(c){c.start=c.start||{};c.end=c.end||{};var d=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),e=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);void 0===e.x&&(e.x=3);var l=c.radius||.1,m=b.CC.color(c.color);this.intersectionShape.cylinder.push(new b.Cylinder(d,
e,l));b.GLDraw.drawCylinder(x,d,e,l,m,c.fromCap,c.toCap);c=new b.Vector3;h.push({centroid:c.addVectors(d,e).multiplyScalar(.5)});d=x.updateGeoGroup(0);n(this.boundingSphere,h,d.vertexArray,d.vertices)};this.addDashedCylinder=function(c){c.start=c.start||{};c.end=c.end||{};c.dashLength=c.dashLength||.25;c.gapLength=c.gapLength||.25;var d=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),e=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);void 0===e.x&&(e.x=3);var l=c.radius||.1,m=b.CC.color(c.color),
p=Math.sqrt(Math.pow(d.x-e.x,2)+Math.pow(d.y-e.y,2)+Math.pow(d.z-e.z,2)),r=p/(c.gapLength+c.dashLength),t=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0);new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);for(var C=new b.Vector3((e.x-d.x)/(p/c.gapLength),(e.y-d.y)/(p/c.gapLength),(e.z-d.z)/(p/c.gapLength)),u=new b.Vector3((e.x-d.x)/(p/c.dashLength),(e.y-d.y)/(p/c.dashLength),(e.z-d.z)/(p/c.dashLength)),q=0;q<r;q++)p=new b.Vector3(t.x+u.x,t.y+u.y,t.z+u.z),this.intersectionShape.cylinder.push(new b.Cylinder(t,
p,l)),b.GLDraw.drawCylinder(x,t,p,l,m,c.fromCap,c.toCap),t=new b.Vector3(p.x+C.x,p.y+C.y,p.z+C.z);c=new b.Vector3;h.push({centroid:c.addVectors(d,e).multiplyScalar(.5)});d=x.updateGeoGroup(0);n(this.boundingSphere,h,d.vertexArray,d.vertices)};this.addCurve=function(c){c.points=c.points||[];c.smooth=c.smooth||10;void 0===c.fromCap&&(c.fromCap=2);void 0===c.toCap&&(c.toCap=2);var d=b.subdivide_spline(c.points,c.smooth);if(3>d.length)console.log("Too few points in addCurve");else{var e=c.radius||.1,
l=b.CC.color(c.color),h=0,m=d.length-1,p=d[0].distanceTo(d[1]);p=Math.ceil(2*e/p);if(c.toArrow){var n={start:d[m-=p],end:d[d.length-1],radius:e,color:l,mid:1E-4};this.addArrow(n)}c.fromArrow&&(c={start:d[h+=p],end:d[0],radius:e,color:l,mid:1E-4},this.addArrow(c));c=Math.ceil(d.length/2);for(e={radius:e,color:l,fromCap:2,toCap:2};h<m;h++)e.start=d[h],e.end=d[h+1],e.fromCap=2,e.toCap=2,h<c?(e.fromCap=2,e.toCap=0):h>c?(e.fromCap=0,e.toCap=2):(e.fromCap=2,e.toCap=2),this.addCylinder(e)}};this.addLine=
function(c){c.start=c.start||{};c.end=c.end||{};var d=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0);c=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);void 0===c.x&&(c.x=3);var e=x.updateGeoGroup(2),l=e.vertices,m=3*l,p=e.vertexArray;p[m]=d.x;p[m+1]=d.y;p[m+2]=d.z;p[m+3]=c.x;p[m+4]=c.y;p[m+5]=c.z;e.vertices+=2;m=e.lineArray;p=e.lineidx;m[p]=l;m[p+1]=l+1;e.lineidx+=2;e=new b.Vector3;h.push({centroid:e.addVectors(d,c).multiplyScalar(.5)});e=x.updateGeoGroup(0);n(this.boundingSphere,h,e.vertexArray,
e.vertices)};this.addArrow=function(c){if(c.start=c.start||{},c.end=c.end||{},c.start=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),c.dir instanceof b.Vector3&&"number"==typeof c.length){var d=c.dir.clone().multiplyScalar(c.length).add(c.start);c.end=d}else c.end=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0),void 0===c.end.x&&(c.end.x=3);c.radius=c.radius||.1;c.radiusRatio=c.radiusRatio||1.618034;c.mid=0<c.mid&&1>c.mid?c.mid:.618034;var e=c.start,l=c.end,m=c.radius,p=c.radiusRatio,r=c.mid;
if(e&&l){d=x.updateGeoGroup(51);var t=l.clone();t.sub(e).multiplyScalar(r);var C=e.clone().add(t);r=t.clone().negate();this.intersectionShape.cylinder.push(new b.Cylinder(e.clone(),C.clone(),m));this.intersectionShape.sphere.push(new b.Sphere(e.clone(),m));var u=[];u[0]=t.clone();1E-4<Math.abs(u[0].x)?u[0].y+=1:u[0].x+=1;u[0].cross(t);u[0].normalize();u[0]=u[0];u[4]=u[0].clone();u[4].crossVectors(u[0],t);u[4].normalize();u[8]=u[0].clone().negate();u[12]=u[4].clone().negate();u[2]=u[0].clone().add(u[4]).normalize();
u[6]=u[4].clone().add(u[8]).normalize();u[10]=u[8].clone().add(u[12]).normalize();u[14]=u[12].clone().add(u[0]).normalize();u[1]=u[0].clone().add(u[2]).normalize();u[3]=u[2].clone().add(u[4]).normalize();u[5]=u[4].clone().add(u[6]).normalize();u[7]=u[6].clone().add(u[8]).normalize();u[9]=u[8].clone().add(u[10]).normalize();u[11]=u[10].clone().add(u[12]).normalize();u[13]=u[12].clone().add(u[14]).normalize();u[15]=u[14].clone().add(u[0]).normalize();var q,y,z,X=d.vertices;var K=d.vertexArray;var N=
d.faceArray,H=d.normalArray,F=d.lineArray;var I=0;for(q=u.length;I<q;++I){var O=3*(X+3*I);var W=u[I].clone().multiplyScalar(m).add(e);var V=u[I].clone().multiplyScalar(m).add(C);var P=u[I].clone().multiplyScalar(m*p).add(C);if(K[O]=W.x,K[O+1]=W.y,K[O+2]=W.z,K[O+3]=V.x,K[O+4]=V.y,K[O+5]=V.z,K[O+6]=P.x,K[O+7]=P.y,K[O+8]=P.z,0<I)O=new b.Vector3(K[O-3],K[O-2],K[O-1]),W=l.clone(),V=C.clone(),P=new b.Vector3(P.x,P.y,P.z),this.intersectionShape.triangle.push(new b.Triangle(P,W,O)),this.intersectionShape.triangle.push(new b.Triangle(O.clone(),
V,P.clone()))}d.vertices+=48;K[O=3*d.vertices]=e.x;K[O+1]=e.y;K[O+2]=e.z;K[O+3]=C.x;K[O+4]=C.y;K[O+5]=C.z;K[O+6]=l.x;K[O+7]=l.y;K[O+8]=l.z;d.vertices+=3;var J=d.vertices-3,Q=d.vertices-2,R=d.vertices-1,T=3*J,ea=3*Q,la=3*R;I=0;for(q=u.length-1;I<q;++I){var ja=X+3*I;e=d.faceidx;l=d.lineidx;O=3*(m=ja);W=3*(p=ja+1);V=3*(C=ja+2);var fa=3*(K=ja+4);var ha=3*(P=ja+5);var Z=3*(ja+=3);[u[I],u[I],u[I+1],u[I+1]];var ba=y=u[I];var Y=z=u[I+1];H[O]=ba.x;H[W]=y.x;H[Z]=z.x;H[O+1]=ba.y;H[W+1]=y.y;H[Z+1]=z.y;H[O+2]=
ba.z;H[W+2]=y.z;H[Z+2]=z.z;H[W]=y.x;H[fa]=Y.x;H[Z]=z.x;H[W+1]=y.y;H[fa+1]=Y.y;H[Z+1]=z.y;H[W+2]=y.z;H[fa+2]=Y.z;H[Z+2]=z.z;H[V]=y.x;H[ha]=Y.x;H[V+1]=y.y;H[ha+1]=Y.y;H[V+2]=y.z;H[ha+2]=Y.z;N[e]=m;N[e+1]=p;N[e+2]=ja;N[e+3]=p;N[e+4]=K;N[e+5]=ja;N[e+6]=m;N[e+7]=ja;N[e+8]=J;N[e+9]=C;N[e+10]=Q;N[e+11]=P;N[e+12]=C;N[e+13]=R;N[e+14]=P;F[l]=m;F[l+1]=p;F[l+2]=m;F[l+3]=ja;F[l+4]=K;F[l+5]=ja;F[l+6]=m;F[l+7]=ja;F[l+8]=C;F[l+9]=p;F[l+10]=C;F[l+11]=P;F[l+12]=K;F[l+13]=P;F[l+14]=C;F[l+15]=R;F[l+16]=C;F[l+17]=P;F[l+
18]=R;F[l+19]=P;d.faceidx+=15;d.lineidx+=20}I=[X+45,X+46,X+1,X,X+47,X+2];[u[15],u[15],u[0],u[0]];e=d.faceidx;l=d.lineidx;O=3*(m=I[0]);W=3*(p=I[1]);V=3*(C=I[4]);fa=3*(K=I[2]);ha=3*(P=I[5]);Z=3*(ja=I[3]);ba=y=u[15];Y=z=u[0];H[O]=ba.x;H[W]=y.x;H[Z]=z.x;H[O+1]=ba.y;H[W+1]=y.y;H[Z+1]=z.y;H[O+2]=ba.z;H[W+2]=y.z;H[Z+2]=z.z;H[W]=y.x;H[fa]=Y.x;H[Z]=z.x;H[W+1]=y.y;H[fa+1]=Y.y;H[Z+1]=z.y;H[W+2]=y.z;H[fa+2]=Y.z;H[Z+2]=z.z;H[V]=y.x;H[ha]=Y.x;H[V+1]=y.y;H[ha+1]=Y.y;H[V+2]=y.z;H[ha+2]=Y.z;t.normalize();r.normalize();
H[T]=r.x;H[ea]=H[la]=t.x;H[T+1]=r.y;H[ea+1]=H[la+1]=t.y;H[T+2]=r.z;H[ea+2]=H[la+2]=t.z;N[e]=m;N[e+1]=p;N[e+2]=ja;N[e+3]=p;N[e+4]=K;N[e+5]=ja;N[e+6]=m;N[e+7]=ja;N[e+8]=J;N[e+9]=C;N[e+10]=Q;N[e+11]=P;N[e+12]=C;N[e+13]=R;N[e+14]=P;F[l]=m;F[l+1]=p;F[l+2]=m;F[l+3]=ja;F[l+4]=K;F[l+5]=ja;F[l+6]=m;F[l+7]=ja;F[l+8]=C;F[l+9]=p;F[l+10]=C;F[l+11]=P;F[l+12]=K;F[l+13]=P;F[l+14]=C;F[l+15]=R;F[l+16]=C;F[l+17]=P;F[l+18]=R;F[l+19]=P;d.faceidx+=15;d.lineidx+=20}d=new b.Vector3;h.push({centroid:d.addVectors(c.start,
c.end).multiplyScalar(.5)});c=x.updateGeoGroup(0);n(this.boundingSphere,h,c.vertexArray,c.vertices)};this.addIsosurface=function(c,e,h){var d,g=void 0!==e.isoval&&"number"==typeof e.isoval?e.isoval:0,m=!!e.voxel,p=void 0===e.smoothness?1:e.smoothness,n=c.size.x,r=c.size.y,u=c.size.z,q=new Int16Array(n*r*u),E=c.data;var y=0;for(d=q.length;y<d;++y)q[y]=-1;q=new Uint8Array(n*r*u);y=0;for(d=E.length;y<d;++y)0<(0<=g?E[y]-g:g-E[y])&&(q[y]|=2);y=[];d=[];b.MarchingCube.march(q,y,d,{fulltable:!0,voxel:m,unitCube:c.unit,
origin:c.origin,matrix:c.matrix,nX:n,nY:r,nZ:u});!m&&0<p&&b.MarchingCube.laplacianSmooth(p,y,d);m=[];p=[];n=[];if(e.selectedRegion&&void 0===e.coords&&(e.coords=e.selectedRegion),void 0!==e.coords){r=e.coords[0].x;u=e.coords[0].y;q=e.coords[0].z;g=e.coords[0].x;E=e.coords[0].y;for(var z=e.coords[0].z,K=0;K<e.coords.length;K++)e.coords[K].x>r?r=e.coords[K].x:e.coords[K].x<g&&(g=e.coords[K].x),e.coords[K].y>u?u=e.coords[K].y:e.coords[K].y<E&&(E=e.coords[K].y),e.coords[K].z>q?q=e.coords[K].z:e.coords[K].z<
z&&(z=e.coords[K].z);K=2;void 0!==e.radius&&(K=e.radius);void 0!==e.selectedOffset&&(K=e.selectedOffset);void 0!==e.seldist&&(K=e.seldist);g-=K;r+=K;E-=K;u+=K;z-=K;q+=K;for(var N=0;N<y.length;N++){var H;if(H=y[N].x>g&&y[N].x<r&&y[N].y>E&&y[N].y<u&&y[N].z>z&&y[N].z<q)a:{for(var F=H=void 0,I=e.coords,O=0;O<I.length;O++)if(F=I[O],H=y[N],Math.sqrt(Math.pow(F.x-H.x,2)+Math.pow(F.y-H.y,2)+Math.pow(F.z-H.z,2))<=K){H=!0;break a}H=!1}H?(m.push(p.length),p.push(y[N])):m.push(-1)}for(y=0;y+2<d.length;y+=3)-1!==
m[d[y]]&&-1!==m[d[y+1]]&&-1!==m[d[y+2]]&&(n.push(d[y]-(d[y]-m[d[y]])),n.push(d[y+1]-(d[y+1]-m[d[y+1]])),n.push(d[y+2]-(d[y+2]-m[d[y+2]])));y=p;d=n}t(this,x,{vertexArr:y,faceArr:d,normalArr:[],clickable:e.clickable,hoverable:e.hoverable});this.updateStyle(e);d=new b.Vector3(c.origin.x,c.origin.y,c.origin.z);m=new b.Vector3(c.size.x*c.unit.x,c.size.y*c.unit.y,c.size.z*c.unit.z);c=new b.Vector3(0,0,0);e=d.clone();d=d.clone().add(m);for(m=0;m<y.length;m++)c.add(y[m]),e.max(y[m]),d.min(y[m]);c.divideScalar(y.length);
y=c.distanceTo(d);e=c.distanceTo(e);this.boundingSphere.center=c;this.boundingSphere.radius=Math.max(y,e);"function"==typeof h&&h()};this.addVolumetricData=function(c,e,h){c=new b.VolumeData(c,e);this.addIsosurface(c,h)};this.finalize=function(){return e(x),x.initTypedArrays(),x};this.globj=function(c){if(y&&(c.remove(y),y=null),!this.hidden){e(x);x.initTypedArrays();this.wireframe&&x.setUpWireframe();if(void 0!==this.color){var d=this.color,h,l,m,n;for(n in d=d||b.CC.color(d),x.colorsNeedUpdate=
!0,d.constructor!==Array&&(h=d.r,l=d.g,m=d.b),x.geometryGroups){var r=x.geometryGroups[n],t=r.colorArray,C=0;for(r=r.vertices;C<r;++C)d.constructor===Array&&(m=d[C],h=m.r,l=m.g,m=m.b),t[3*C]=h,t[3*C+1]=l,t[3*C+2]=m}}u=new b.Object3D;d=this.side==b.DoubleSide?new b.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,wireframeLinewidth:this.linewidth}):new b.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,
opacity:this.opacity,wireframeLinewidth:this.linewidth});d=new b.Mesh(x,d);u.add(d);d=new b.LineBasicMaterial({linewidth:this.linewidth,color:this.color});d=new b.Line(p,d,b.LinePieces);u.add(d);y=u.clone();c.add(y)}};this.removegl=function(b){y&&(void 0!==y.geometry&&y.geometry.dispose(),void 0!==y.material&&y.material.dispose(),b.remove(y),y=null);u=null}}var e=function(b){b=b.updateGeoGroup(0);0<b.vertices&&b.truncateArrayBuffers(!0,!0)},n=function(b,c,e,m){var h;if(b.center.set(0,0,0),0<c.length){var p=
0;for(h=c.length;p<h;++p)b.center.add(c[p].centroid);b.center.divideScalar(c.length)}c=b.radius*b.radius;e.length/3<m&&(m=e.length/3);p=0;for(h=m;p<h;p++)m=b.center.distanceToSquared({x:e[3*p],y:e[3*p+1],z:e[3*p+2]}),c=Math.max(c,m);b.radius=Math.sqrt(c)},t=function(c,e,m){var h=m.faceArr;0!==m.vertexArr.length&&0!==h.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");h=m.color;void 0===h&&(h=c.color);h=b.CC.color(h);for(var r=b.splitMesh(m),p=0,
d=r.length;p<d;p++){var g=void 0,t=void 0,l,u=void 0,A=void 0;var B=c;var S=e,C=r[p],z=r[p].colorArr?r[p].colorArr:h,q=m.clickable,M=S.addGeoGroup(),F=C.vertexArr,X=C.normalArr;C=C.faceArr;M.vertices=F.length;M.faceidx=C.length;var K=M.vertexArray,N=M.colorArray;z.constructor!==Array&&(t=z.r,g=z.g,A=z.b);var H=0;for(l=M.vertices;H<l;++H){var I=3*H;var Y=F[H];K[I]=Y.x;K[I+1]=Y.y;K[I+2]=Y.z;z.constructor===Array&&(t=(u=z[H]).r,g=u.g,A=u.b);N[I]=t;N[I+1]=g;N[I+2]=A}if(q)for(H=0,l=M.faceidx/3;H<l;++H)g=
C[I=3*H],A=C[I+1],u=C[I+2],I=new b.Vector3,t=new b.Vector3,z=new b.Vector3,B.intersectionShape.triangle.push(new b.Triangle(I.copy(F[g]),t.copy(F[A]),z.copy(F[u])));if(q){l=new b.Vector3(0,0,0);for(u=H=0;u<S.geometryGroups.length;u++)l.add(S.geometryGroups[u].getCentroid()),H++;l.divideScalar(H);n(B.boundingSphere,{centroid:l},K,M.vertices)}if(M.faceArray=new Uint16Array(C),M.truncateArrayBuffers(!0,!0),X.length<M.vertices)M.setNormals();else for(S=M.normalArray=new Float32Array(3*M.vertices),H=0,
l=M.vertices;H<l;++H)I=3*H,B=X[H],S[I]=B.x,S[I+1]=B.y,S[I+2]=B.z;M.setLineIndices();M.lineidx=M.lineArray.length}},m=function(c,e){void 0!==e.color?(c.color=e.color||new b.Color,e.color instanceof b.Color||(c.color=b.CC.color(e.color))):c.color=b.CC.color(0);c.wireframe=!!e.wireframe;c.opacity=e.alpha?b.Math.clamp(e.alpha,0,1):1;void 0!==e.opacity&&(c.opacity=b.Math.clamp(e.opacity,0,1));c.side=void 0!==e.side?e.side:b.DoubleSide;c.linewidth=void 0===e.linewidth?1:e.linewidth;c.clickable=!!e.clickable;
c.callback="function"==typeof e.callback?e.callback:null;c.hoverable=!!e.hoverable;c.hover_callback="function"==typeof e.hover_callback?e.hover_callback:null;c.unhover_callback="function"==typeof e.unhover_callback?e.unhover_callback:null;c.hidden=e.hidden;c.frame=e.frame};return Object.defineProperty(c.prototype,"position",{get:function(){return this.boundingSphere.center}}),Object.defineProperty(c.prototype,"x",{get:function(){return this.boundingSphere.center.x}}),Object.defineProperty(c.prototype,
"y",{get:function(){return this.boundingSphere.center.y}}),Object.defineProperty(c.prototype,"z",{get:function(){return this.boundingSphere.center.z}}),c}();b.ShapeIDCount=0;b.splitMesh=function(b){if(64E3>b.vertexArr.length)return[b];var c=[{vertexArr:[],normalArr:[],faceArr:[]}];b.colorArr&&(c.colorArr=[]);for(var n=[],t=[],m=0,h=b.faceArr,r=0,u=h.length;r<u;r+=3){for(var y=c[m],x=0;3>x;x++){var p=h[r+x];n[p]!==m&&(n[p]=m,t[p]=y.vertexArr.length,y.vertexArr.push(b.vertexArr[p]),b.normalArr&&b.normalArr[p]&&
y.normalArr.push(b.normalArr[p]),b.colorArr&&b.colorArr[p]&&y.colorArr.push(b.colorArr[p]));y.faceArr.push(t[p])}64E3<=y.vertexArr.length&&(c.push({vertexArr:[],normalArr:[],faceArr:[]}),b.colorArr&&(c.colorArr=[]),m++)}return c};b.GLViewer=function(){return function(c,e){function n(b){var c=[];if(void 0===b||void 0===b.model)for(b=0;b<l.length;b++)l[b]&&c.push(l[b]);else for(c=b.model,F.isArray(c)||(c=[c]),b=0;b<c.length;b++)if("number"==typeof c[b]){var d=c[b];0>d&&(d+=l.length);c[b]=l[d]}return c}
function t(b){var c=[];void 0===b&&(b={});for(var d=n(b),e=0;e<d.length;e++)c=c.concat(d[e].selectedAtoms(b));return c}function m(b,c,d,e,g,l,h){for(var m=n(c),p=0;p<m.length;p++)m[p][b](c,d,e,g,l,h)}function h(c){var d=new b.MeshLambertMaterial,e;for(e in d.vertexColors=b.VertexColors,c)"color"===e||"map"===e||c.hasOwnProperty(e)&&(d[e]=c[e]);return void 0!==c.opacity&&(1===c.opacity?d.transparent=!1:d.transparent=!0),d}var r=(e=e||{}).callback,u=e.defaultcolors;u||(u=b.elementColors.defaultColors);
var y=e.nomouse,x=0;e.backgroundColor=e.backgroundColor||"#ffffff";x=b.CC.color(e.backgroundColor).getHex();var p=0;p=parseFloat(e.camerax);var d=this,g=c,E=null,l=[],L={},A=[],B=[],S=[],C=[],z=[],q=null,M=500,I=0;null!=e.hoverDuration&&(M=e.hoverDuration);void 0===e.antialias&&(e.antialias=!0);var X=function(){var b=g[0],c=b.getBoundingClientRect();if(0==c.width&&0==c.height&&"none"===b.style.display){var d=b.style.position,e=b.style.visibility;b.style.display="block";b.style.visibility="hidden";
b.style.position="absolute";c=b.getBoundingClientRect();b.style.display="none";b.style.visibility=e;b.style.position=d}return c},K=X().width,N=X().height,H=null,Y=null,na=[],O=new b.Renderer({antialias:e.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:e.id,row:e.row,col:e.col,rows:e.rows,cols:e.cols,canvas:e.canvas,containerWidth:K,containerHeight:N});O.domElement.style.width="100%";O.domElement.style.height="100%";O.domElement.style.padding="0";O.domElement.style.position="absolute";
O.domElement.style.top="0px";O.domElement.style.left="0px";O.domElement.style.zIndex="0";var W=e.row,V=e.col,P=e.cols,J=e.rows,Q=e.viewers,R=e.control_all,T=O.getAspect(K,N),ea=new b.Camera(20,T,1,800,e.orthographic);ea.position=new b.Vector3(p,0,150);var la=new b.Vector3;ea.lookAt(la);var ja=new b.Raycaster(new b.Vector3(0,0,0),new b.Vector3(0,0,0)),fa=new b.Projector,ha=null,Z=null,ba=null,ua=-50,ca=50,aa=new b.Quaternion(0,0,0,1),pa=new b.Quaternion(0,0,0,1),qa=0,za=!1,xa=0,Ha=0,Za=0,Ya=0,Qa=0,
Ua=0,va=0,v=function(){0>--qa&&(qa=0)},Nb=function(){var b=0,c;for(c in L)if(L.hasOwnProperty(c)){var d=parseInt(c);isNaN(d)||(c=d);c>b&&(b=c)}return b+1},Aa=function(){var b=ea.position.z-Z.position.z;1>b&&(b=1);ea.near=b+ua;1>ea.near&&(ea.near=1);ea.far=b+ca;ea.near+1>ea.far&&(ea.far=ea.near+1);ea.fov=20;ea.right=b*Math.tan(Math.PI/180*20);ea.left=-ea.right;ea.top=ea.right/T;ea.bottom=-ea.top;ea.updateProjectionMatrix();ha.fog.near=ea.near+.4*(ea.far-ea.near);ha.fog.far=ea.far;e.disableFog&&(ha.fog.near=
ha.fog.far)},ma=function(b){if(O.setViewport(),ha&&(Aa(),O.render(ha,ea),H&&H(d.getView()),!b&&0<na.length)){b=d.getView();for(var c=0;c<na.length;c++)na[c].setView(b,!0)}};!function(){(ha=new b.Scene).fog=new b.Fog(x,100,200);ba=new b.Object3D;(Z=new b.Object3D).useQuaternion=!0;Z.quaternion=new b.Quaternion(0,0,0,1);Z.add(ba);ha.add(Z);var c=new b.Light(16777215);c.position=(new b.Vector3(.2,.2,1)).normalize();c.intensity=1;ha.add(c)}();O.setClearColorHex(x,1);ha.fog.color=b.CC.color(x);var mb=
function(b,c){q!=b&&(q&&q.unhover_callback(q,d,c,g),q=b,b&&void 0!==b.hover_callback&&"function"==typeof b.hover_callback&&b.hover_callback(b,d,c,g))},Na=function(b){var c=b.originalEvent.targetTouches[0].pageX-b.originalEvent.targetTouches[1].pageX;b=b.originalEvent.targetTouches[0].pageY-b.originalEvent.targetTouches[1].pageY;return Math.sqrt(c*c+b*b)},w=function(b){var c=b.pageX;return null==c&&(c=b.originalEvent.pageX),b.originalEvent.targetTouches&&b.originalEvent.targetTouches[0]?c=b.originalEvent.targetTouches[0].pageX:
b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(c=b.originalEvent.changedTouches[0].pageX),c},hb=function(b){var c=b.pageY;return null==c&&(c=b.originalEvent.pageY),b.originalEvent.targetTouches&&b.originalEvent.targetTouches[0]?c=b.originalEvent.targetTouches[0].pageY:b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(c=b.originalEvent.changedTouches[0].pageY),c},Ka=function(){var b=E.get(0),c=b.getBoundingClientRect(),d=b.ownerDocument;b=d.documentElement;d=
d.defaultView;return{top:c.top+d.pageYOffset-b.clientTop,left:c.left+d.pageXOffset-b.clientLeft}},eb=function(b,c){if(null!=Q&&!R){var d=K/P,e=N/J,g=Ka();b=Math.floor((b-g.left)/d);if(J-Math.floor((c-g.top)/e)-1!=W||b!=V)return!1}return!0};F("body").bind("mouseup touchend",function(b){if(za&&ha){var c=w(b),e=hb(b);if(c==xa&&e==Ha){var l=Ka();0!=C.length&&(ja.setFromCamera({x:(c-l.left)/K*2-1,y:-(e-l.top)/N*2+1,z:-1},ea),(c=ja.intersectObjects(ba,C)).length)&&(c=c[0].clickable,void 0!==c.callback&&
"function"==typeof c.callback&&c.callback(c,d,b,g));!0}}za=!1});var Rb,bb=function(b){if(e.lowerZoomLimit&&0<e.lowerZoomLimit){var c=150-e.lowerZoomLimit;b>c&&(b=c)}e.upperZoomLimit&&0<e.upperZoomLimit&&(c=150-e.upperZoomLimit,b<c&&(b=c));return 150<b&&(b=149.85),b};this.setViewChangeCallback=function(b){"function"!=typeof b&&null!=b||(H=b)};this.setStateChangeCallback=function(b){"function"!=typeof b&&null!=b||(Y=b)};this.getInternalState=function(){for(var b={models:[],surfaces:[],shapes:[],labels:[]},
c=0;c<l.length;c++)l[c]&&(b.models[c]=l[c].getInternalState());return b};this.setInternalState=function(c){this.clear();c=c.models;for(var d=0;d<c.length;d++)c[d]&&(l[d]=new b.GLModel(d),l[d].setInternalState(c[d]));this.render()};this.setZoomLimits=function(b,c){void 0!==b&&(e.lowerZoomLimit=b);c&&(e.upperZoomLimit=c);Z.position.z=bb(Z.position.z);ma()};var pb,Ga=this._handleMouseDown=function(b){if(b.preventDefault(),ha){var c=w(b),d=hb(b);void 0!==c&&(za=!0,Rb=b.which,xa=c,Ha=d,Za=0,b.originalEvent.targetTouches&&
2==b.originalEvent.targetTouches.length&&(Za=Na(b)),aa=Z.quaternion.clone(),Qa=Z.position.z,Ya=ba.position.clone(),Ua=ua,va=ca)}},nc=this._handleMouseScroll=function(b){if(b.preventDefault(),ha){var c=w(b),d=hb(b);void 0!==c&&eb(c,d)&&(c=.85*(150-Z.position.z),d=1,b.originalEvent.ctrlKey&&(d=-1),b.originalEvent.detail?Z.position.z+=d*c*b.originalEvent.detail/10:b.originalEvent.wheelDelta&&(Z.position.z-=d*c*b.originalEvent.wheelDelta/400),Z.position.z=bb(Z.position.z),ma())}};this.pngURI=function(){return this.getCanvas().toDataURL("image/png")};
this.getCanvas=function(){return E.get(0)};this.setHoverDuration=function(b){M=b};var ib=this._handleMouseMove=function(c){clearTimeout(pb);var d=Ka(),e=(w(c)-d.left)/K*2-1,g=-(hb(c)-d.top)/N*2+1;if(null!==q&&function(b,c){var d;ja.setFromCamera({x:b,y:c,z:-1},ea);0!=(d=ja.intersectObjects(ba,z)).length&&void 0!==d[0]||mb(null);void 0!==d[0]&&d[0].clickable!==q&&mb(null)}(e,g),0<z.length&&(pb=setTimeout(function(){if(0!=z.length){var b;(ja.setFromCamera({x:e,y:g,z:-1},ea),(b=ja.intersectObjects(ba,
z)).length)?(b=b[0].clickable,mb(b),q=b):mb(null)}!0},M)),c.preventDefault(),ha&&za){var l=0,h=w(c),m=hb(c);if(void 0!==h&&eb(h,m)){var p=(h-xa)/K;d=(m-Ha)/N;0!=Za&&c.originalEvent.targetTouches&&2==c.originalEvent.targetTouches.length?(l=2,d=2*(Na(c)-Za)/(K+N)):c.originalEvent.targetTouches&&3==c.originalEvent.targetTouches.length&&(l=1);var n=O.getXRatio(),r=O.getYRatio();p*=n;d*=r;var t=Math.sqrt(p*p+d*d);3==l||3==Rb&&c.ctrlKey?(ua=Ua+100*p,ca=va-100*d):2==l||3==Rb||c.shiftKey?(80>(c=.85*(150-
Z.position.z))&&(c=80),Z.position.z=Qa+d*c,Z.position.z=bb(Z.position.z)):1==l||2==Rb||c.ctrlKey?(d=function(c,d){c/=K;d/=N;var e=Z.quaternion,g=new b.Vector3(0,0,Z.position.z);return fa.projectVector(g,ea),g.x+=2*c,g.y-=2*d,fa.unprojectVector(g,ea),g.z=0,g.applyQuaternion(e),g}(n*(h-xa),r*(m-Ha)),ba.position.addVectors(Ya,d)):0!==l&&1!=Rb||0===t||(c=Math.sin(t*Math.PI)/t,pa.x=Math.cos(t*Math.PI),pa.y=0,pa.z=c*p,pa.w=-c*d,Z.quaternion.set(1,0,0,0),Z.quaternion.multiply(pa),Z.quaternion.multiply(aa));
ma()}}},ic=function(b){g=b;K=X().width;N=X().height;T=O.getAspect(K,N);O.setSize(K,N);g.append(O.domElement);E=F(O.domElement);y||(E.bind("mousedown touchstart",Ga),E.bind("DOMMouseScroll mousewheel",nc),E.bind("mousemove touchmove",ib),E.bind("contextmenu",function(b){b.preventDefault()}))};ic(g);this.setContainer=function(b){return"string"===F.type(b)&&(b=F("#"+b)),b||(b=g),ic(b),this};this.setBackgroundColor=function(c,d){void 0===d?d=1:(0>d||1<d)&&(d=1);c=b.CC.color(c);return ha.fog.color=c,x=
c.getHex(),O.setClearColorHex(c.getHex(),d),ma(),this};this.setProjection=function(b){ea.ortho="orthographic"===b;Aa()};this.setViewStyle=function(c){if("outline"===c.style){var d={};c.color&&(d.color=b.CC.color(c.color));c.width&&(d.width=c.width);O.enableOutline(d)}else O.disableOutline();return this};e.style&&this.setViewStyle(e);this.setWidth=function(b){return K=b||K,O.setSize(K,N),this};this.setHeight=function(b){return N=b||N,O.setSize(K,N),this};this.resize=function(){return K=X().width,N=
X().height,T=O.getAspect(K,N),O.setSize(K,N),ea.aspect=T,ea.updateProjectionMatrix(),ma(),this};F(window).resize(this.resize);this.getModel=function(b){return b in l?l[b]:0==l.length?null:l[l.length-1]};var cb,La=function(c,d,e){if(1==e)return d;if(0==e)return c;var g=c.x*d.x+c.y*d.y+c.z*d.z+c.w*d.w;if(.9995<g)return c=new b.Quaternion(c.x+e*(d.x-c.x),c.y+e*(d.y-c.y),c.z+e*(d.z-c.z),c.w+e*(d.w-c.w)),c.normalize(),c;0>g&&(d=d.clone().multiplyScalar(-1),g=-g);1<g?g=1:-1>g&&(g=-1);e*=Math.acos(g);d=
d.clone();d.sub(c.clone().multiplyScalar(g));d.normalize();g=Math.cos(e);e=Math.sin(e);c=new b.Quaternion(c.x*g+d.x*e,c.y*g+d.y*e,c.z*g+d.z*e,c.w*g+d.w*e);return c.normalize(),c};this.spin=function(b){if(clearInterval(cb),void 0===b&&(b="y"),"boolean"==typeof b){if(!b)return;b="y"}Array.isArray(b)&&(b={x:b[0],y:b[1],z:b[2]});var c=this;cb=setInterval(function(){c.rotate(1,b)},25)};var Ea=function(b,c,d,e,g,l){var h=Math.ceil(b/20);1>h&&(h=1);qa++;var m=ba.position.clone(),p=Z.position.z;b=Z.quaternion.clone();
var q=la.clone();if(c){c=(h=Array(h)).length;for(var n=0;n<c;n++){var r=(n+1)/c,t={mpos:m,rz:p,rot:b};d&&(t.mpos=d.clone().sub(m).multiplyScalar(r).add(m));void 0!==e&&null!=e&&(t.rz=p+r*(e-p));g&&(t.rot=La(b,g,r));l&&(t.cam=l.clone().sub(q).multiplyScalar(r).add(q));h[n]=t}var A=0,w=function(){var b=h[A];A+=1;b.mpos&&(ba.position=b.mpos);b.rz&&(Z.position.z=b.rz);b.rot&&(Z.quaternion=b.rot);b.cam&&ea.lookAt(b.cam);A<h.length?setTimeout(w,20):v();ma()};setTimeout(w,20)}else{var u,E,B;c=1/h;if(d&&
(u=d.clone().sub(m).multiplyScalar(c)),void 0!==e&&null!=e&&(E=c*(e-p)),g){d=La(b,g,c);var L=b.clone().inverse().multiply(d)}l&&(B=l.clone().sub(q).multiplyScalar(c));var x=0,C=function(){x+=1;u&&ba.position.add(u);E&&(Z.position.z+=E);L&&Z.quaternion.multiply(L);B&&(la.add(B),ea.lookAt(la));x<h?setTimeout(C,20):v();ma()};setTimeout(C,20)}};this.rotate=function(c,d,e,g){e=void 0!==e?e:0;void 0===d&&(d="y");"x"==d?d={x:1,y:0,z:0}:"y"==d?d={x:0,y:1,z:0}:"z"==d&&(d={x:0,y:0,z:1});var l=Math.PI*c/180,
h,m,p;c=Math.sin(l/2);l=Math.cos(l/2);d=(h=d.x*c,m=d.y*c,p=d.z*c,(new b.Quaternion(h,m,p,l)).normalize());e?(h=(new b.Quaternion).copy(Z.quaternion).multiply(d),Ea(e,g,ba.position,Z.position.z,h,la)):(Z.quaternion.multiply(d),ma());return this};this.surfacesFinished=function(){for(var b in L)if(!L[b][0].done)return!1;return!0};this.getView=function(){if(!ba)return[0,0,0,0,0,0,0,1];var b=ba.position,c=Z.quaternion;return[b.x,b.y,b.z,Z.position.z,c.x,c.y,c.z,c.w]};this.setView=function(b,c){return void 0!==
b&&(b instanceof Array||8!==b.length)&&ba&&Z?(ba.position.x=b[0],ba.position.y=b[1],ba.position.z=b[2],Z.position.z=b[3],Z.quaternion.x=b[4],Z.quaternion.y=b[5],Z.quaternion.z=b[6],Z.quaternion.w=b[7],void 0!==b[8]&&(Z.position.x=b[8],Z.position.y=b[9]),ma(c),this):this};this.render=function(c,d){O.setViewport();C.splice(0,C.length);z.splice(0,z.length);for(var e=0,g=l.length;e<g;e++){var h=l[e];if(h){var m=h.selectedAtoms({clickable:!0});h=h.selectedAtoms({hoverable:!0});Array.prototype.push.apply(z,
h);Array.prototype.push.apply(C,m)}}e=0;for(g=A.length;e<g;e++)(m=A[e])&&m.clickable&&C.push(m),m&&m.hoverable&&z.push(m);m=this.getView();Y&&Y(this.getInternalState());d||(d=O.supportedExtensions());for(e=0;e<l.length;e++)l[e]&&l[e].globj(ba,d);for(e=0;e<A.length;e++)A[e]&&(void 0===A[e].frame||0>I||0>A[e].frame||A[e].frame==I?A[e].globj(ba,d):A[e].removegl(ba));for(e=0;e<B.length;e++)B[e]&&void 0!==B[e].frame&&0<=B[e].frame&&(ba.remove(B[e].sprite),(0>I||B[e].frame==I)&&ba.add(B[e].sprite));for(e in L)if(L.hasOwnProperty(e))for(h=
L[e],g=0;g<h.length;g++)if(h.hasOwnProperty(g)){var p=h[g].geo;if(!h[g].finished||d.regen){p.verticesNeedUpdate=!0;p.elementsNeedUpdate=!0;p.normalsNeedUpdate=!0;p.colorsNeedUpdate=!0;p.buffersNeedUpdate=!0;p.boundingSphere=null;h[g].done&&(h[g].finished=!0);h[g].lastGL&&ba.remove(h[g].lastGL);var q=null;if(q=h[g].mat instanceof b.LineBasicMaterial?new b.Line(p,h[g].mat):new b.Mesh(p,h[g].mat),h[g].mat.transparent&&0==h[g].mat.opacity?q.visible=!1:q.visible=!0,1<h[g].symmetries.length||1==h[g].symmetries.length&&
!h[g].symmetries[g].isIdentity()){var n=new b.Object3D;for(p=0;p<h[g].symmetries.length;p++){var r=q.clone();r.matrix=h[g].symmetries[p];r.matrixAutoUpdate=!1;n.add(r)}h[g].lastGL=n;ba.add(n)}else h[g].lastGL=q,ba.add(q)}}return this.setView(m),"function"==typeof c&&c(this),this};this.selectedAtoms=function(b){return t(b)};this.getUniqueValues=function(b,c){void 0===c&&(c={});c=t(c);var d={},e;for(e in c)c[e].hasOwnProperty(b)&&(d[c[e][b]]=!0);return Object.keys(d)};this.pdbData=function(b){b=t(b);
for(var c="",d=0,e=b.length;d<e;++d)c+=b[d].pdbline+"\n";return c};this.zoom=function(b,c,d){c=void 0!==c?c:0;b=150-(150-Z.position.z)/(b||2);return 0<c?Ea(c,d,ba.position,bb(b),Z.quaternion,la):(Z.position.z=bb(b),ma()),this};this.translate=function(c,d,e,g){e=void 0!==e?e:0;c/=K;d/=N;var l=new b.Vector3(0,0,-150);fa.projectVector(l,ea);l.x-=c;l.y-=d;fa.unprojectVector(l,ea);l.z=0;c=la.clone().add(l);return 0<e?Ea(e,g,ba.position,Z.position.z,Z.quaternion,c):(la=c,ea.lookAt(la),ma()),this};this.fitSlab=
function(c){c=t(c||{});var d=b.getExtent(c);c=d[1][0]-d[0][0];var e=d[1][1]-d[0][1];d=d[1][2]-d[0][2];c=Math.sqrt(c*c+e*e+d*d);return 5>c&&(c=5),ua=-c/1.9,ca=c/2,this};this.center=function(c,d,e){var g,l;d=void 0!==d?d:0;var h=t(c=c||{}),m=b.getExtent(h);F.isEmptyObject(c)?(F.each(A,function(c,d){d&&d.boundingSphere&&d.boundingSphere.center&&(c=d.boundingSphere.center,d=d.boundingSphere.radius,0<d?(h.push(new b.Vector3(c.x+d,c.y,c.z)),h.push(new b.Vector3(c.x-d,c.y,c.z)),h.push(new b.Vector3(c.x,
c.y+d,c.z)),h.push(new b.Vector3(c.x,c.y-d,c.z)),h.push(new b.Vector3(c.x,c.y,c.z+d)),h.push(new b.Vector3(c.x,c.y,c.z-d))):h.push(c))}),m=b.getExtent(h),g=h,l=m):(g=t({}),l=b.getExtent(g));c=new b.Vector3(m[2][0],m[2][1],m[2][2]);g=l[1][0]-l[0][0];var p=l[1][1]-l[0][1];l=l[1][2]-l[0][2];l=Math.sqrt(g*g+p*p+l*l);5>l&&(l=5);ua=-l/1.9;ca=l/2;g=m[1][0]-m[0][0];p=m[1][1]-m[0][1];l=m[1][2]-m[0][2];5>(l=Math.sqrt(g*g+p*p+l*l))&&(l=5);m=25;for(l=0;l<h.length;l++)h[l]&&(g=c.distanceToSquared(h[l]),g>m&&(m=
g));l=2*Math.sqrt(m);c=c.clone().multiplyScalar(-1);return 0<d?Ea(d,e,c,Z.position.z,Z.quaternion,la):(ba.position=c,ma()),this};this.zoomTo=function(c,d,e){var g,l;d=void 0!==d?d:0;var h=t(c=c||{}),m=b.getExtent(h);F.isEmptyObject(c)?(F.each(A,function(c,d){d&&d.boundingSphere&&d.boundingSphere.center&&(c=d.boundingSphere.center,d=d.boundingSphere.radius,0<d?(h.push(new b.Vector3(c.x+d,c.y,c.z)),h.push(new b.Vector3(c.x-d,c.y,c.z)),h.push(new b.Vector3(c.x,c.y+d,c.z)),h.push(new b.Vector3(c.x,c.y-
d,c.z)),h.push(new b.Vector3(c.x,c.y,c.z+d)),h.push(new b.Vector3(c.x,c.y,c.z-d))):h.push(c))}),m=b.getExtent(h),g=h,l=m):(g=t({}),l=b.getExtent(g));g=new b.Vector3(m[2][0],m[2][1],m[2][2]);var p=l[1][0]-l[0][0],q=l[1][1]-l[0][1];l=l[1][2]-l[0][2];l=Math.sqrt(p*p+q*q+l*l);5>l&&(l=5);ua=-l/1.9;ca=l/2;0===Object.keys(c).length&&(ua=-999999,ca=999999);p=m[1][0]-m[0][0];q=m[1][1]-m[0][1];l=m[1][2]-m[0][2];5>(l=Math.sqrt(p*p+q*q+l*l))&&(l=5);c=25;for(m=0;m<h.length;m++)h[m]&&(l=g.distanceToSquared(h[m]),
l>c&&(c=l));l=2*Math.sqrt(c);g=g.clone().multiplyScalar(-1);c=-(.5*l/Math.tan(Math.PI/180*ea.fov/2)-150);return c=bb(c),0<d?Ea(d,e,g,c,Z.quaternion,la):(ba.position=g,Z.position.z=c,ma()),this};this.setSlab=function(b,c){ua=b;ca=c};this.getSlab=function(){return{near:ua,far:ca}};this.addLabel=function(c,d,e,g){if(d=d||{},e)e=b.getExtent(t(e)),d.position={x:e[2][0],y:e[2][1],z:e[2][2]};c=new b.Label(c,d);return c.setContext(),ba.add(c.sprite),d.fixed&&S.push(B.length),B.push(c),g||ma(),c};this.addResLabels=
function(b,c,d){var e=B.length;return m("addResLabels",b,this,c,d),ma(),B.slice(e)};this.addPropertyLabels=function(b,c,d){return m("addPropertyLabels",b,c,this,d),ma(),this};this.removeLabel=function(b){for(var c=0;c<B.length;c++)if(B[c]==b){B.splice(c,1);b.dispose();ba.remove(b.sprite);break}return ma(),this};this.removeAllLabels=function(){for(var b=0;b<B.length;b++)B[b]&&B[b].sprite&&ba.remove(B[b].sprite);return B.splice(0,B.length),ma(),this};this.setLabelStyle=function(b,c){return ba.remove(b.sprite),
b.dispose(),b.stylespec=c,b.setContext(),ba.add(b.sprite),ma(),b};this.setLabelText=function(b,c){return ba.remove(b.sprite),b.dispose(),b.text=c,b.setContext(),ba.add(b.sprite),ma(),b};this.addShape=function(c){c=c||{};c=new b.GLShape(c);return c.shapePosition=A.length,A.push(c),c};this.removeShape=function(b){if(!b)return this;b.removegl(ba);for(delete A[b.shapePosition];0<A.length&&void 0===A[A.length-1];)A.pop();return this};this.removeAllShapes=function(){for(var b=0;b<A.length;b++){var c=A[b];
c&&c.removegl(ba)}return A.splice(0,A.length),this};var ka=function(c){if(c.hasOwnProperty("x")&&c.hasOwnProperty("y")&&c.hasOwnProperty("z"))return c;c=t(c);if(0==c.length)return{x:0,y:0,z:0};c=b.getExtent(c);return{x:c[0][0]+(c[1][0]-c[0][0])/2,y:c[0][1]+(c[1][1]-c[0][1])/2,z:c[0][2]+(c[1][2]-c[0][2])/2}};this.addSphere=function(c){(c=c||{}).center=ka(c.center);var d=new b.GLShape(c);return d.shapePosition=A.length,d.addSphere(c),A.push(d),d.finalize(),d};this.addBox=function(c){null!=(c=c||{}).corner&&
(c.corner=ka(c.corner));null!=c.center&&(c.center=ka(c.center));var d=new b.GLShape(c);return d.shapePosition=A.length,d.addBox(c),A.push(d),d.finalize(),d};this.addArrow=function(c){(c=c||{}).start=ka(c.start);c.end=ka(c.end);var d=new b.GLShape(c);return d.shapePosition=A.length,d.addArrow(c),A.push(d),d.finalize(),d};this.addCylinder=function(c){(c=c||{}).start=ka(c.start);c.end=ka(c.end);var d=new b.GLShape(c);return d.shapePosition=A.length,c.dashed?d.addDashedCylinder(c):d.addCylinder(c),A.push(d),
d.finalize(),d};this.addCurve=function(c){c=c||{};var d=new b.GLShape(c);return d.shapePosition=A.length,d.addCurve(c),A.push(d),d.finalize(),d};this.addLine=function(c){(c=c||{}).start=ka(c.start);c.end=ka(c.end);c.wireframe=!0;var d=new b.GLShape(c);d.shapePosition=A.length;if(c.dashed){c.dashLength=c.dashLength||.5;c.gapLength=c.gapLength||.5;c.start=c.start||{};c.end=c.end||{};var e,g=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),l=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);var h=new b.Vector3;
new b.Vector3;new b.Vector3;var m=g.clone(),p=0;h.subVectors(l,g);var q=h.length();h.normalize();var n=h.clone();var r=h.clone();n.multiplyScalar(c.dashLength);r.multiplyScalar(c.gapLength);h=n.length();for(e=r.length();p<q;){if(p+h>q){c.start=g;c.end=l;d.addLine(c);break}m.addVectors(g,n);c.start=g;c.end=m;d.addLine(c);g=m.clone();p+=h;m.addVectors(g,r);g=m.clone();p+=e}d=(d.finalize(),d)}else d.addLine(c);return A.push(d),d.finalize(),d};this.addUnitCell=function(c){c||(c=this.getModel());var d=
new b.GLShape({wireframe:!0});d.shapePosition=A.length;var e=c.getCrystData();if(e){if(e.matrix)c=e.matrix;else{c=e.a;var g=e.b,l=e.c;var h=e.alpha;var m=e.beta,p=e.gamma;h=h*Math.PI/180;m=m*Math.PI/180;p=p*Math.PI/180;e=Math.cos(m);h=(Math.cos(h)-Math.cos(m)*Math.cos(p))/Math.sin(p);c=new b.Matrix4(c,g*Math.cos(p),l*e,0,0,g*Math.sin(p),l*h,0,0,0,l*Math.sqrt(Math.max(0,1-e*e-h*h)),0,0,0,0,1)}g=[new b.Vector3(0,0,0),new b.Vector3(1,0,0),new b.Vector3(0,1,0),new b.Vector3(0,0,1),new b.Vector3(1,1,0),
new b.Vector3(0,1,1),new b.Vector3(1,0,1),new b.Vector3(1,1,1)];for(l=0;l<g.length;l++)g[l]=g[l].applyMatrix4(c);d.addLine({start:g[0],end:g[1]});d.addLine({start:g[0],end:g[2]});d.addLine({start:g[1],end:g[4]});d.addLine({start:g[2],end:g[4]});d.addLine({start:g[0],end:g[3]});d.addLine({start:g[3],end:g[5]});d.addLine({start:g[2],end:g[5]});d.addLine({start:g[1],end:g[6]});d.addLine({start:g[4],end:g[7]});d.addLine({start:g[6],end:g[7]});d.addLine({start:g[3],end:g[6]});d.addLine({start:g[5],end:g[7]})}return A.push(d),
d.finalize(),d};this.addCustom=function(c){c=c||{};var d=new b.GLShape(c);return d.shapePosition=A.length,d.addCustom(c),A.push(d),d.finalize(),d};this.addVolumetricData=function(c,d,e){e=e||{};var g=new b.GLShape(e);return g.shapePosition=A.length,g.addVolumetricData(c,d,e),A.push(g),g};this.addIsosurface=function(c,d,e){d=d||{};var g=new b.GLShape(d);return g.shapePosition=A.length,g.addIsosurface(c,d,e),A.push(g),g};this.addVolumetricRender=function(c,d){d=d||{};c=new b.GLVolumetricRender(c,d);
return c.shapePosition=A.length,A.push(c),c};this.hasVolumetricRender=function(){return O.supportsVolumetric()};this.enableFog=function(c){c?ha.fog=new b.Fog(x,100,200):(e.disableFog=!0,ma())};this.setFrame=function(b){return I=b,new Promise(function(c){var d=l.map(function(c){return c.setFrame(b)});Promise.all(d).then(function(){c()})})};this.getFrame=function(){return I};this.getNumFrames=function(){for(var b=0,c=0;c<l.length;c++)l[c].getNumFrames()>b&&(b=l[c].getNumFrames());for(c=0;c<A.length;c++)A[c].frame&&
A[c].frame>=b&&(b=A[c].frame+1);for(c=0;c<B.length;c++)B[c].frame&&B[c].frame>=b&&(b=B[c].frame+1);return b};this.animate=function(b){qa++;var c=100,d="forward",e=0;(b=b||{}).interval&&(c=b.interval);b.loop&&(d=b.loop);b.reps&&(e=b.reps);var g=this.getNumFrames(),l=this,h=0,m=1;b.step&&(e/=m=b.step);var p,q,n=0,r=g*e,t=new Date,A=function(b){t=new Date;"forward"==b?l.setFrame(h).then(function(){h=(h+m)%g;p()}):"backward"==b?l.setFrame(g-1-h).then(function(){h=(h+m)%g;p()}):l.setFrame(h).then(function(){m*=
0==(h+=m)%(g-1)?-1:1;p()})};return p=function(){if(l.render(),++n!=r&&l.isAnimated()){var b=c-(new Date-t);setTimeout(A,0<b?b:0,d)}else clearTimeout(q),v()},q=setTimeout(A,0,d),this};this.stopAnimate=function(){return qa=0,this};this.isAnimated=function(){return 0<qa};this.addModel=function(c,d,e){e&&!e.defaultcolors?e.defaultcolors=u:void 0===e&&(e={defaultcolors:u});var g=new b.GLModel(l.length,e);return g.addMolData(c,d,e),l.push(g),g};this.addModels=function(c,d,e){(e=e||{}).multimodel=!0;e.frames=
!0;c=b.GLModel.parseMolData(c,d,e);for(d=0;d<c.length;d++){var g=new b.GLModel(l.length,u);g.setAtomDefaults(c[d]);g.addFrame(c[d]);g.setFrame(0);c.modelData&&g.setModelData(c.modelData[d]);g.setDontDuplicateAtoms(!e.duplicateAssemblyAtoms);l.push(g)}return l};this.addModelsAsFrames=function(c,d,e){(e=e||{}).multimodel=!0;e.frames=!0;var g=new b.GLModel(l.length,u);return g.addMolData(c,d,e),l.push(g),g};this.addAsOneMolecule=function(c,d,e){(e=e||{}).multimodel=!0;e.onemol=!0;var g=new b.GLModel(l.length,
u);return g.addMolData(c,d,e),l.push(g),g};this.removeModel=function(b){if(b){b.removegl(ba);for(delete l[b.getID()];0<l.length&&void 0===l[l.length-1];)l.pop();return this}};this.removeAllModels=function(){for(var b=0;b<l.length;b++){var c=l[b];c&&c.removegl(ba)}return l.splice(0,l.length),this};this.exportJSON=function(b,c){var d={};return d.m=void 0===c?l.map(function(c){return c.toCDObject(b)}):[l[c].toCDObject()],JSON.stringify(d)};this.exportVRML=function(){var c=ba;m("removegl",ba);ba=new b.Object3D;
this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var d="#VRML V2.0 utf8\n"+ba.vrml()+"\n";return m("removegl",ba),ba=c,d};this.createModelFrom=function(c,d){for(var e=new b.GLModel(l.length,u),g=0;g<l.length;g++)if(l[g]){var h=l[g].selectedAtoms(c);e.addAtoms(h);d&&l[g].removeAtoms(h)}return l.push(e),e};this.setStyle=function(b,c){return void 0===c&&(c=b,b={}),m("setStyle",b,c,!1),this};this.addStyle=function(b,c){return void 0===c&&(c=b,b={}),m("setStyle",b,c,!0),this};this.setClickable=
function(b,c,d){return m("setClickable",b,c,d),this};this.setHoverable=function(b,c,d,e){return m("setHoverable",b,c,d,e),this};this.vibrate=function(b,c,d,e){return m("vibrate",b,c,d,this,e),this};this.setColorByProperty=function(b,c,d,e){return m("setColorByProperty",b,c,d,e),this};this.setColorByElement=function(b,c){return m("setColorByElement",b,c),this};var Ia=function(b,c){for(var d=[],e=0;e<b.length;e++){var g=b[e];void 0!==g&&(g.x<c[0][0]||g.x>c[1][0]||g.y<c[0][1]||g.y>c[1][1]||g.z<c[0][2]||
g.z>c[1][2]||d.push(g))}return d},db=function(b){return(b[1][0]-b[0][0])*(b[1][1]-b[0][1])*(b[1][2]-b[0][2])},fb=function(c,d,e){for(var g=new b.Geometry(!0),l=g.updateGeoGroup(0),h=[],m=0,p=c.length;m<p;m++){var q=c[m];q&&(void 0!==q.surfaceColor?h[m]=q.surfaceColor:q.color&&(h[m]=b.CC.color(q.color)))}m=l.vertexArray;c=d.vertices;p=0;for(q=c.length;p<q;p++){var n=3*l.vertices;m[n]=c[p].x;m[n+1]=c[p].y;m[n+2]=c[p].z;l.vertices++}m=l.colorArray;if(e.voldata&&e.volscheme){h=e.volscheme;p=e.voldata;
q=h.range()||[-1,1];n=0;for(var r=c.length;n<r;n++){var t=p.getVal(c[n].x,c[n].y,c[n].z);t=b.CC.color(h.valueToHex(t,q));var A=3*n;m[A]=t.r;m[A+1]=t.g;m[A+2]=t.b}}else if(0<h.length)for(p=0,q=c.length;p<q;p++)n=c[p].atomid,r=3*p,m[r]=h[n].r,m[r+1]=h[n].g,m[r+2]=h[n].b;d=d.faces;l.faceidx=d.length;g.initTypedArrays();var v;c=l.vertexArray;h=l.normalArray;m=0;for(p=d.length;m<p;m+=3)q=3*d[m],n=3*d[m+1],r=3*d[m+2],t=new b.Vector3(c[q],c[q+1],c[q+2]),A=new b.Vector3(c[n],c[n+1],c[n+2]),(v=new b.Vector3(c[r],
c[r+1],c[r+2])).subVectors(v,A),t.subVectors(t,A),v.cross(t),(t=v).normalize(),h[q]+=t.x,h[n]+=t.x,h[r]+=t.x,h[q+1]+=t.y,h[n+1]+=t.y,h[r+1]+=t.y,h[q+2]+=t.z,h[n+2]+=t.z,h[r+2]+=t.z;l.faceArray=new Uint16Array(d);e=new b.Mesh(g,e);return e.doubleSided=!0,e};this.addMesh=function(b){b={geo:b.geometry,mat:b.material,done:!0,finished:!1};var c=Nb();return L[c]=b,c};var oa=function(b){var c=[];return F.each(b,function(b,d){c[b]=F.extend({},d)}),c},Ja={VDW:b.SurfaceType.VDW,MS:b.SurfaceType.MS,SAS:b.SurfaceType.SAS,
SES:b.SurfaceType.SES};this.addSurface=function(c,e,g,m,p,q){var n=Nb(),r=null;"string"==typeof c?void 0!==Ja[c]?c=Ja[c]:console.log("Surface type : "+c+" is not recognized"):void 0===c&&(c=b.SurfaceType.VDW);var A=null,v=null;g=oa(t(g));A=m?oa(t(m)):g;var w=!1;for(m=0;m<l.length;m++)if(l[m]){var u=l[m].getSymmetries();if(1<u.length||1==u.length&&!u[0].isIdentity()){w=!0;break}}u=function(g,l,h){var m;v=p?oa(t(p)):h;var q=b.getExtent(h,!0);if(e.map&&e.map.prop){var A=e.map.prop,w=e.map.scheme||e.map.gradient||
new b.Gradient.RWB,u=w.range();u||(u=b.getPropertyRange(h,A));e.colorscheme={prop:A,gradient:w}}A=0;for(w=l.length;A<w;A++)(m=l[A]).surfaceColor=b.getColorFromStyle(m,e);var E=db(q),B=function(b,c,d){for(var e=[],g={},l=0,h=c.length;l<h;l++)g[c[l].index]=l;l=function(b){for(var c=[],d=0,e=b.length;d<e;d++)b[d].index in g&&c.push(g[b[d].index]);return c};var m=function(b){var c=[];return c[0]=[b[0][0],b[0][1],b[0][2]],c[1]=[b[1][0],b[1][1],b[1][2]],c},p=function(b){if(64E3>db(b))return[b];var c=b[1][0]-
b[0][0];var d=b[1][1]-b[0][1];var e=b[1][2]-b[0][2];d=c>d&&c>e?0:d>c&&d>e?1:2;e=m(b);c=m(b);b=(b[1][d]-b[0][d])/2+b[0][d];e[1][d]=b;c[0][d]=b;b=p(e);c=p(c);return b.concat(c)};b=p(b);h=0;for(var q=b.length;h<q;h++){var n=m(b[h]);n[0][0]-=6;n[0][1]-=6;n[0][2]-=6;n[1][0]+=6;n[1][1]+=6;n[1][2]+=6;n=Ia(c,n);var r=Ia(d,b[h]);e.push({extent:b[h],atoms:l(n),toshow:l(r)})}return e}(q,l,h);if(v&&v.length&&0<v.length){var L=b.getExtent(v,!0);B.sort(function(b,c){var d=function(b,c){var d=b.extent;b=d[1][0]-
d[0][0]-c[2][0];var e=d[1][1]-d[0][1]-c[2][1];c=d[1][2]-d[0][2]-c[2][2];return b*b+e*e+c*c};return d(b,L)-d(c,L)})}var x=[];h=0;for(q=l.length;h<q;h++)m=l[h],x[h]={x:m.x,y:m.y,z:m.z,serial:h,elem:m.elem};if(b.syncSurface){m=function(e){return new Promise(function(h){var m=c,p=B[e].extent,q=B[e].atoms;var n=B[e].toshow;var t=new b.ProteinSurface;n=(t.initparm(p,1!==m,E),t.fillvoxels(x,q),t.buildboundary(),m!=b.SurfaceType.SES&&m!=b.SurfaceType.MS||(t.fastdistancemap(),t.boundingatom(!1),t.fillvoxelswaals(x,
q)),t.marchingcube(m),t.getFacesAndVertices(n));m=b.splitMesh({vertexArr:n.vertices,faceArr:n.faces});p=0;for(q=m.length;p<q;p++)n={vertices:m[p].vertexArr,faces:m[p].faceArr},n=fb(l,n,r),b.mergeGeos(g.geo,n);d.render();h()})};h=[];for(q=0;q<B.length;q++)h.push(m(q));return Promise.all(h).then(function(){return g.done=!0,Promise.resolve(n)})}var C=[];0>c&&(c=0);for(m=0;4>m;m++)h=new Worker(b.SurfaceWorker),C.push(h),h.postMessage({type:-1,atoms:x,volume:E});return new Promise(function(e,h){for(var m=
0,p=function(c){c=b.splitMesh({vertexArr:c.data.vertices,faceArr:c.data.faces});for(var h=0,p=c.length;h<p;h++){var q=fb(l,{vertices:c[h].vertexArr,faces:c[h].faceArr},r);b.mergeGeos(g.geo,q)}d.render();++m==B.length&&(g.done=!0,e(n))},q=function(b){console.log(b.message+" ("+b.filename+":"+b.lineno+")");h(b)},t=0;t<B.length;t++){var A=C[t%C.length];A.onmessage=p;A.onerror=q;A.postMessage({type:c,expandedExtent:B[t].extent,extendedAtoms:B[t].atoms,atomsToShow:B[t].toshow})}})};r=h(e=e||{});var E=
[];m=null;if(w){w={};var B={};for(m=0;m<l.length;m++)w[m]=[],B[m]=[];for(m=0;m<A.length;m++)w[A[m].model].push(A[m]);for(m=0;m<g.length;m++)B[g[m].model].push(g[m]);A=[];for(m=0;m<l.length;m++)0<B[m].length&&(E.push({geo:new b.Geometry(!0),mat:r,done:!1,finished:!1,symmetries:l[m].getSymmetries()}),A.append(u(E[m],w[m],B[m])));m=Promise.all(A)}else E.push({geo:new b.Geometry(!0),mat:r,done:!1,finished:!1,symmetries:[new b.Matrix4]}),m=u(E[E.length-1],A,g);return L[n]=E,m.surfid=n,q&&"function"==typeof q?
(m.then(function(b){q(b)}),n):m};this.setSurfaceMaterialStyle=function(c,d){if(L[c]){var e={};c=L[c];for(var g=0;g<c.length;e={$jscomp$loop$prop$e$167$283:e.$jscomp$loop$prop$e$167$283,$jscomp$loop$prop$t$169$284:e.$jscomp$loop$prop$t$169$284,$jscomp$loop$prop$o$170$285:e.$jscomp$loop$prop$o$170$285,$jscomp$loop$prop$e$168$286:e.$jscomp$loop$prop$e$168$286,$jscomp$loop$prop$a$171$287:e.$jscomp$loop$prop$a$171$287},g++){var l=c[g].mat=h(d);(c[g].mat.side=b.FrontSide,d.color)?(c[g].mat.color=d.color,
c[g].geo.colorsNeedUpdate=!0,e.$jscomp$loop$prop$e$167$283=b.CC.color(d.color),c[g].geo.setColors(function(b){return function(){return b.$jscomp$loop$prop$e$167$283}}(e))):l.voldata&&l.volscheme&&(e.$jscomp$loop$prop$e$168$286=l.volscheme,e.$jscomp$loop$prop$t$169$284=l.voldata,e.$jscomp$loop$prop$o$170$285=b.CC,e.$jscomp$loop$prop$a$171$287=e.$jscomp$loop$prop$e$168$286.range()||[-1,1],c[g].geo.setColors(function(b){return function(c,d,e){c=b.$jscomp$loop$prop$t$169$284.getVal(c,d,e);return b.$jscomp$loop$prop$o$170$285.color(b.$jscomp$loop$prop$e$168$286.valueToHex(c,
b.$jscomp$loop$prop$a$171$287))}}(e)));c[g].finished=!1}}return this};this.removeSurface=function(b){for(var c=L[b],d=0;d<c.length;d++)c[d]&&c[d].lastGL&&(void 0!==c[d].geo&&c[d].geo.dispose(),void 0!==c[d].mat&&c[d].mat.dispose(),ba.remove(c[d].lastGL));return delete L[b],ma(),this};this.removeAllSurfaces=function(){for(var b in L)if(L.hasOwnProperty(b)){for(var c=L[b],d=0;d<c.length;d++)c[d]&&c[d].lastGL&&(void 0!==c[d].geo&&c[d].geo.dispose(),void 0!==c[d].mat&&c[d].mat.dispose(),ba.remove(c[d].lastGL));
delete L[b]}return ma(),this};this.jmolMoveTo=function(){var b=ba.position,c=Z.quaternion;return"center { "+-b.x+" "+-b.y+" "+-b.z+" }; moveto .5 quaternion { "+(c.x+" "+c.y+" "+c.z+" "+c.w+" };")};this.clear=function(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),ma(),this};this.mapAtomProperties=function(b,c){c=t(c||{});if("function"==typeof b)for(var d=0,e=c.length;d<e;d++)b(c[d]);else{e=0;for(var g=c.length;e<g;e++)for(var l=c[e],h=0,m=b.length;h<
m;h++){var p=b[h];if(p.props)for(d in p.props){var q;if(q=p.props.hasOwnProperty(d))a:{q=l;var r=p;void 0===r&&(r={});for(var A=n(r),v=0;v<A.length;v++)if(A[v].atomIsSelected(q,r)){q=!0;break a}q=!1}q&&(l.properties||(l.properties={}),l.properties[d]=p.props[d])}}}return this};this.linkViewer=function(b){return na.push(b),this};try{"function"==typeof r&&r(this)}catch(da){console.log("error with glviewer callback: "+da)}this.getPerceivedDistance=function(){return 150-Z.position.z};this.setPerceivedDistance=
function(b){Z.position.z=150-b};this.setAutoEyeSeparation=function(c){var d=this.getPerceivedDistance();return c||0<ea.position.x?ea.position.x=d*Math.tan(Math.PI/180*5):ea.position.x=-d*Math.tan(Math.PI/180*5),ea.lookAt(new b.Vector3(0,0,Z.position.z)),ea.position.x}}}();b.glmolViewer=b.GLViewer;b=b||{};b.Gradient=function(){};b.Gradient.valueToHex=function(){};b.Gradient.range=function(){};b.Gradient.normalizeValue=function(b,e,n){return e>=b?(n<b&&(n=b),n>e&&(n=e),{lo:b,hi:e,val:n}):(n>b&&(n=b),
n<e&&(n=e),{lo:e,hi:b,val:b-n+e})};b.Gradient.RWB=function(c,e,n){void 0===e&&F.isArray(c)&&2<=c.length&&(e=c[1],c=c[0]);this.valueToHex=function(t,m){var h,r;if(t*=1,m?(h=m[0],r=m[1]):(h=c,r=e),void 0===t)return 16777215;var u=b.Gradient.normalizeValue(h,r,t);h=u.lo;var y,x=((r=u.hi)+h)/2;return(t=u.val)<=(x=m&&void 0!==m[2]?m[2]:void 0!==n?n:(h+r)/2)?16711680+256*(y=Math.floor(255*Math.sqrt((t-h)/(x-h))))+y:65536*(y=Math.floor(255*Math.sqrt(1-(t-x)/(r-x))))+256*y+255};this.range=function(){return void 0!==
c&&void 0!==e?[c,e]:null}};b.Gradient.ROYGB=function(c,e){void 0===e&&F.isArray(c)&&2<=c.length&&(e=c[1],c=c[0]);this.valueToHex=function(n,t){var m,h;if(n*=1,t?(m=t[0],h=t[1]):(m=c,h=e),void 0===n)return 16777215;t=b.Gradient.normalizeValue(m,h,n);var r=((m=t.lo)+(h=t.hi))/2,u=(m+r)/2,y=(r+h)/2;return(n=t.val)<u?16711680+256*Math.floor(255*Math.sqrt((n-m)/(u-m))):n<r?65536*Math.floor(255*Math.sqrt(1-(n-u)/(r-u)))+65280:n<y?65280+1*Math.floor(255*Math.sqrt((n-r)/(y-r))):256*Math.floor(255*Math.sqrt(1-
(n-y)/(h-y)))+255};this.range=function(){return void 0!==c&&void 0!==e?[c,e]:null}};b.Gradient.Sinebow=function(c,e){var n=1;void 0===e&&F.isArray(c)&&2<=c.length&&(e=c[1],c=c[0]);e<c&&(n=-1,c*=-1,e*=-1);this.valueToHex=function(t,m){var h,r;if(t*=n,m?(h=m[0],r=m[1]):(h=c,r=e),void 0===t)return 16777215;t=b.Gradient.normalizeValue(h,r,t);h=t.lo;r=t.hi;t=(t.val-h)/(r-h)*5/6+.5;h=Math.sin(Math.PI*t);r=Math.sin(Math.PI*(t+1/3));t=Math.sin(Math.PI*(t+2/3));return t*=255*t,65536*Math.floor(255*h*h)+256*
Math.floor(t)+1*Math.floor(255*r*r)};this.range=function(){return void 0!==c&&void 0!==e?[c,e]:null}};b.Gradient.builtinGradients={rwb:b.Gradient.RWB,roygb:b.Gradient.ROYGB,sinebow:b.Gradient.Sinebow};b.LabelCount=0;b.Label=function(c,e){this.id=b.LabelCount++;this.stylespec=e||{};this.canvas=document.createElement("canvas");this.canvas.width=134;this.canvas.height=35;this.context=this.canvas.getContext("2d");this.sprite=new b.Sprite;this.text=c;this.frame=this.stylespec.frame};b.Label.prototype=
{constructor:b.Label,getStyle:function(){return this.stylespec},setContext:function(){var c=function(c,n,t){return void 0!==c&&(c instanceof b.Color?t=c.scaled():void 0!==(t=b.CC.color(c)).scaled&&(t=t.scaled())),void 0!==n&&(t.a=parseFloat(n)),t};return function(){var e=this.stylespec,n=void 0!==e.useScreen&&e.useScreen,t=e.showBackground;"0"!==t&&"false"!==t||(t=!1);void 0===t&&(t=!0);var m=e.font?e.font:"sans-serif",h=parseInt(e.fontSize)?parseInt(e.fontSize):18,r=c(e.fontColor,e.fontOpacity,{r:255,
g:255,b:255,a:1}),u=e.padding?e.padding:4,y=e.borderThickness?e.borderThickness:0,x=c(e.backgroundColor,e.backgroundOpacity,{r:0,g:0,b:0,a:1}),p=c(e.borderColor,e.borderOpacity,x),d=e.position?e.position:{x:-10,y:1,z:1},g=void 0===e.inFront||e.inFront;"false"!==g&&"0"!==g||(g=!1);var E=e.alignment||b.SpriteAlignment.topLeft;"string"==typeof E&&E in b.SpriteAlignment&&(E=b.SpriteAlignment[E]);var l="";e.bold&&(l="bold ");this.context.font=l+h+"px  "+m;var L=this.context.measureText(this.text).width;
t||(y=0);var A=L+2.5*y+2*u,B=1.25*h+2*y+2*u;if(e.backgroundImage){var z=e.backgroundImage;l=e.backgroundWidth?e.backgroundWidth:z.width;z=e.backgroundHeight?e.backgroundHeight:z.height;l>A&&(A=l);z>B&&(B=z)}this.canvas.width=A;this.canvas.height=B;this.context.clearRect(0,0,this.canvas.width,this.canvas.height);l="";e.bold&&(l="bold ");this.context.font=l+h+"px  "+m;this.context.fillStyle="rgba("+x.r+","+x.g+","+x.b+","+x.a+")";this.context.strokeStyle="rgba("+p.r+","+p.g+","+p.b+","+p.a+")";this.context.lineWidth=
y;t&&(t=this.context,x=m=y,A-=2*y,B-=2*y,p=0<y,t.beginPath(),t.moveTo(m+6,x),t.lineTo(m+A-6,x),t.quadraticCurveTo(m+A,x,m+A,x+6),t.lineTo(m+A,x+B-6),t.quadraticCurveTo(m+A,x+B,m+A-6,x+B),t.lineTo(m+6,x+B),t.quadraticCurveTo(m,x+B,m,x+B-6),t.lineTo(m,x+6),t.quadraticCurveTo(m,x,m+6,x),t.closePath(),t.fill(),p&&t.stroke());e.backgroundImage&&(B=e.backgroundImage,this.context.drawImage(B,0,0,e.backgroundWidth?e.backgroundWidth:B.width,e.backgroundHeight?e.backgroundHeight:B.height));this.context.fillStyle=
"rgba("+r.r+","+r.g+","+r.b+","+r.a+")";this.context.fillText(this.text,y+u,h+y+u,L);e=new b.Texture(this.canvas);e.needsUpdate=!0;this.sprite.material=new b.SpriteMaterial({map:e,useScreenCoordinates:n,alignment:E,depthTest:!g});this.sprite.scale.set(1,1,1);this.sprite.position.set(d.x,d.y,d.z)}}(),dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose();void 0!==this.sprite.material&&this.sprite.material.dispose()}};b=b||{};b.MarchingCubeInitializer=function(){var c,
e,n,t,m={};return m.march=function(h,m,u,y){var r=!!y.fulltable,p=y.hasOwnProperty("origin")&&y.origin.hasOwnProperty("x")?y.origin:{x:0,y:0,z:0},d=!!y.voxel,g=y.matrix,E=y.nX||0,l=y.nY||0,L=y.nZ||0,A=y.scale||1,B=null;B=y.unitCube?y.unitCube:{x:A,y:A,z:A};var z=new Int32Array(E*l*L);y=0;for(A=z.length;y<A;++y)z[y]=-1;A=function(c,e,h,q,n,r){var t={x:0,y:0,z:0},A=n;!(q&1<<n)&&q&1<<r&&(A=r);1&A&&h++;2&A&&e++;4&A&&c++;g?t={x:(t=(t=new b.Vector3(c,e,h)).applyMatrix4(g)).x,y:t.y,z:t.z}:(t.x=p.x+B.x*c,
t.y=p.y+B.y*e,t.z=p.z+B.z*h);c=(l*c+e)*L+h;return d?(m.push(t),m.length-1):(0>z[c]&&(z[c]=m.length,m.push(t)),z[c])};var C=new Int32Array(12),U=r?e:c;r=r?t:n;for(y=0;y<E-1;++y)for(var q=0;q<l-1;++q)for(var M=0;M<L-1;++M){for(var F=0,I=0;8>I;++I)F|=!!(2&h[(l*(y+((4&I)>>2))+q+((2&I)>>1))*L+M+(1&I)])<<I;if(0!==F&&255!==F){var K=U[F];if(0!==K)for(I=r[F],1&K&&(C[0]=A(y,q,M,F,0,1)),2&K&&(C[1]=A(y,q,M,F,1,3)),4&K&&(C[2]=A(y,q,M,F,3,2)),8&K&&(C[3]=A(y,q,M,F,2,0)),16&K&&(C[4]=A(y,q,M,F,4,5)),32&K&&(C[5]=A(y,
q,M,F,5,7)),64&K&&(C[6]=A(y,q,M,F,7,6)),128&K&&(C[7]=A(y,q,M,F,6,4)),256&K&&(C[8]=A(y,q,M,F,0,4)),512&K&&(C[9]=A(y,q,M,F,1,5)),1024&K&&(C[10]=A(y,q,M,F,3,7)),2048&K&&(C[11]=A(y,q,M,F,2,6)),F=0;F<I.length;F+=3){K=C[I[F]];var N=C[I[F+1]],H=C[I[F+2]];d&&3<=F&&(m.push(m[K]),K=m.length-1,m.push(m[N]),N=m.length-1,m.push(m[H]),H=m.length-1);u.push(K);u.push(N);u.push(H)}}}},m.laplacianSmooth=function(b,c,e){var h,m,p=Array(c.length);var d=0;for(h=c.length;d<h;d++)p[d]={x:0,y:0,z:0};var g=Array(20);for(d=
0;20>d;d++)g[d]=Array(c.length);d=0;for(h=c.length;d<h;d++)g[0][d]=0;d=0;for(h=e.length/3;d<h;d++){var n=3*d,l=3*d+1,r=3*d+2;var t=!0;var B=0;for(m=g[0][e[n]];B<m;B++)if(e[l]==g[B+1][e[n]]){t=!1;break}t&&(g[0][e[n]]++,g[g[0][e[n]]][e[n]]=e[l]);t=!0;B=0;for(m=g[0][e[n]];B<m;B++)if(e[r]==g[B+1][e[n]]){t=!1;break}t&&(g[0][e[n]]++,g[g[0][e[n]]][e[n]]=e[r]);t=!0;B=0;for(m=g[0][e[l]];B<m;B++)if(e[n]==g[B+1][e[l]]){t=!1;break}t&&(g[0][e[l]]++,g[g[0][e[l]]][e[l]]=e[n]);t=!0;B=0;for(m=g[0][e[l]];B<m;B++)if(e[r]==
g[B+1][e[l]]){t=!1;break}t&&(g[0][e[l]]++,g[g[0][e[l]]][e[l]]=e[r]);t=!0;for(B=0;B<g[0][e[r]];B++)if(e[n]==g[B+1][e[r]]){t=!1;break}t&&(g[0][e[r]]++,g[g[0][e[r]]][e[r]]=e[n]);t=!0;B=0;for(m=g[0][e[r]];B<m;B++)if(e[l]==g[B+1][e[r]]){t=!1;break}t&&(g[0][e[r]]++,g[g[0][e[r]]][e[r]]=e[l])}for(e=0;e<b;e++){d=0;for(h=c.length;d<h;d++)if(3>g[0][d])p[d].x=c[d].x,p[d].y=c[d].y,p[d].z=c[d].z;else if(3==g[0][d]||4==g[0][d]){p[d].x=0;p[d].y=0;B=p[d].z=0;for(m=g[0][d];B<m;B++)p[d].x+=c[g[B+1][d]].x,p[d].y+=c[g[B+
1][d]].y,p[d].z+=c[g[B+1][d]].z;p[d].x+=.5*c[d].x;p[d].y+=.5*c[d].y;p[d].z+=.5*c[d].z;p[d].x/=.5+g[0][d];p[d].y/=.5+g[0][d];p[d].z/=.5+g[0][d]}else{p[d].x=0;p[d].y=0;B=p[d].z=0;for(m=g[0][d];B<m;B++)p[d].x+=c[g[B+1][d]].x,p[d].y+=c[g[B+1][d]].y,p[d].z+=c[g[B+1][d]].z;p[d].x+=1*c[d].x;p[d].y+=1*c[d].y;p[d].z+=1*c[d].z;p[d].x/=1+g[0][d];p[d].y/=1+g[0][d];p[d].z/=1+g[0][d]}d=0;for(h=c.length;d<h;d++)c[d].x=p[d].x,c[d].y=p[d].y,c[d].z=p[d].z}},m.edgeTable=[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,
0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,
338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0],c=new Uint32Array(m.edgeTable),n=m.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],
[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,
5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,
0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,
5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,
8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],
[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],e=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,
1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,
3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,
153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],t=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],
[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,
9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,
7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,
6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,
2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,
5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],
[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],
[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,
8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,
11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],m};b.MarchingCube=b.MarchingCubeInitializer();b.Parsers=function(){var c={},e={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,
P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45},n=function(b,c){var d=(e[b.elem]||1.6)+(e[c.elem]||1.6);d+=.25;d*=d;var h=b.x-c.x;
if((h*=h)>d)return!1;var l=b.y-c.y;if((l*=l)>d)return!1;var m=b.z-c.z;if((m*=m)>d)return!1;h=h+l+m;return!isNaN(h)&&!(.5>h)&&!(h>d)&&(b.altLoc==c.altLoc||" "==b.altLoc||" "==c.altLoc)},t=function(b){for(var c=0,e=b.length;c<e;c++)b[c].index||(b[c].index=c);c={};for(e=0;e<b.length;e++){var h=b[e],l=Math.floor(h.x/4.95),m=Math.floor(h.y/4.95),p=Math.floor(h.z/4.95);c[l]||(c[l]={});c[l][m]||(c[l][m]={});c[l][m][p]||(c[l][m][p]=[]);c[l][m][p].push(h)}b=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,
y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}];for(var r in c){r=parseInt(r);for(var t in c[r]){t=parseInt(t);for(var u in c[r][t]){u=parseInt(u);e=c[r][t][u];for(h=0;h<e.length;h++)for(l=e[h],m=h+1;m<e.length;m++)p=e[m],n(l,p)&&-1==l.bonds.indexOf(p.index)&&(l.bonds.push(p.index),l.bondOrder.push(1),p.bonds.push(l.index),p.bondOrder.push(1));for(h=0;h<b.length;h++)if(m=b[h],c[r+m.x]&&c[r+m.x][t+m.y]&&c[r+
m.x][t+m.y][u+m.z])for(l=e,m=c[r+m.x][t+m.y][u+m.z],p=0;p<l.length;p++)for(var x=l[p],q=0;q<m.length;q++){var y=m[q];if(n(x,y)){var z=x.bonds.indexOf(y.index),F=y.bonds.indexOf(x.index);-1==z&&-1==F?(x.bonds.push(y.index),x.bondOrder.push(1),y.bonds.push(x.index),y.bondOrder.push(1)):-1==z?(x.bonds.push(y.index),x.bondOrder.push(y.bondOrder[F])):-1==F&&(y.bonds.push(x.index),y.bondOrder.push(x.bondOrder[z]))}}}}}},m=function(b){var c,e=[],h=[];var l=0;for(c=b.length;l<c;l++){var m=b[l];m.index=l;
m.hetflag?h.push(m):e.push(m)}t(h);e.sort(function(b,c){return b.chain!=c.chain?b.chain<c.chain?-1:1:b.resi-c.resi});var p;h=b=-1;l=0;for(c=e.length;l<c;l++){m=e[l];m.resi!==b&&(b=m.resi,p||h++,p=!1);m.reschain=h;for(var r=l+1;r<e.length;r++){var u=e[r];if(u.chain!=m.chain)break;if(1<u.resi-m.resi)break;n(m,u)&&(-1===m.bonds.indexOf(u.index)&&(m.bonds.push(u.index),m.bondOrder.push(1),u.bonds.push(m.index),u.bondOrder.push(1)),m.resi!==u.resi&&(p=!0))}}},h=function(b){!function(b){var c,d=[];var e=
0;for(c=b.length;e<c;e++){b[e].index=e;var g=b[e];g.hetflag||"N"!==g.atom&&"O"!==g.atom||(d.push(g),g.hbondOther=null,g.hbondDistanceSq=Number.POSITIVE_INFINITY)}d.sort(function(b,c){return b.z-c.z});e=0;for(c=d.length;e<c;e++)for(g=d[e],b=e+1;b<c;b++){var h=d[b],l=h.z-g.z;if(3.2<l)break;if(h.atom!=g.atom){var m=Math.abs(h.y-g.y);if(!(3.2<m)){var p=Math.abs(h.x-g.x);3.2<p||(l=p*p+m*m+l*l,10.24<l||h.chain==g.chain&&4>Math.abs(h.resi-g.resi)||(l<g.hbondDistanceSq&&(g.hbondOther=h,g.hbondDistanceSq=
l),l<h.hbondDistanceSq&&(h.hbondOther=g,h.hbondDistanceSq=l)))}}}}(b);var c,e,h,l={};var m=0;for(c=b.length;m<c;m++)if(void 0===l[(h=b[m]).chain]&&(l[h.chain]=[]),isFinite(h.hbondDistanceSq)){var p=h.hbondOther;void 0===l[p.chain]&&(l[p.chain]=[]);4===Math.abs(p.resi-h.resi)&&(l[h.chain][h.resi]="h")}for(e in l)for(m=1;m<l[e].length-1;m++){c=l[e][m-1];var n=l[e][m+1];p=l[e][m];"h"==c&&c==n&&p!=c&&(l[e][m]=c)}m=0;for(c=b.length;m<c;m++)h=b[m],isFinite(h.hbondDistanceSq)&&"h"!=l[h.chain][h.resi]&&"h"!=
h.ss&&(l[h.chain][h.resi]="maybesheet");p=0;for(e=b.length;p<e;p++)if(h=b[p],isFinite(h.hbondDistanceSq)&&"maybesheet"==l[h.chain][h.resi])m=h.hbondOther,c=l[m.chain][m.resi],"maybesheet"!=c&&"s"!=c||(l[h.chain][h.resi]="s",l[m.chain][m.resi]="s");for(var r in l){for(e=1;e<l[r].length-1;e++)m=l[r][e-1],c=l[r][e+1],p=l[r][e],"s"==m&&m==c&&p!=m&&(l[r][e]=m);for(p=0;p<l[r].length;p++)e=l[r][p],"h"!=e&&"s"!=e||l[r][p-1]!=e&&l[r][p+1]!=e&&delete l[r][p]}m=0;for(c=b.length;m<c;m++)p=l[(h=b[m]).chain][h.resi],
delete h.hbondOther,delete h.hbondDistanceSq,void 0!==p&&"maybesheet"!=p&&(h.ss=p,l[h.chain][h.resi-1]!=p&&(h.ssbegin=!0),l[h.chain][h.resi+1]!=p&&(h.ssend=!0))},r=function(c,d,e){var g,h,m=e.length,p=m;if(d){if(1<c.length)for(d=0;d<e.length;d++){m=[];for(g=0;g<c.length;g++)c[g].isIdentity()||(p=new b.Vector3,p.set(e[d].x,e[d].y,e[d].z),p.applyMatrix4(c[g]),m.push(p));e[d].symmetries=m}}else for(d=0;d<c.length;d++)if(!c[d].isIdentity()){var n=new b.Vector3;for(h=0;h<m;h++){var r=[];for(g=0;g<e[h].bonds.length;g++)r.push(e[h].bonds[g]+
p);n.set(e[h].x,e[h].y,e[h].z);n.applyMatrix4(c[d]);g={};for(var t in e[h])g[t]=e[h][t];g.x=n.x;g.y=n.y;g.z=n.z;g.bonds=r;e.push(g)}p=e.length}};c.vasp=c.VASP=function(c){var d=[[]],e,h=c.replace(/^\s+/,"").split(/[\n\r]/);if(3>h.length)return d;if(!h[1].match(/\d+/))return console.log("Warning: second line of the vasp structure file must be a number"),d;if(e=parseFloat(h[1]),0>e)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),d;c=new Float32Array(h[2].replace(/^\s+/,
"").split(/\s+/));var l=new Float32Array(h[3].replace(/^\s+/,"").split(/\s+/));var m=new Float32Array(h[4].replace(/^\s+/,"").split(/\s+/));var p=new b.Matrix4(c[0],c[1],c[2],0,l[0],l[1],l[2],0,m[0],m[1],m[2],0,0,0,0,1);p.multiplyScalar(e);d.modelData=[{symmetries:[],cryst:{matrix:p}}];p=h[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/);var n=new Int16Array(h[6].replace(/^\s+/,"").split(/\s+/)),r=h[7].replace(/\s+/,"");if(r.match(/C/))r="cartesian";else{if(!r.match(/D/))return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),
d;r="direct"}if(p.length!=n.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(p),console.log(n),d;h.splice(0,8);for(var t=0,u=0,q=p.length;u<q;u++){for(var x=p[u],y=0,z=n[u];y<z;y++){var K=new Float32Array(h[t+y].replace(/^\s+/,"").split(/\s+/)),F={};F.elem=x;"cartesian"==r?(F.x=e*K[0],F.y=e*K[1],F.z=e*K[2]):(F.x=e*(K[0]*c[0]+K[1]*l[0]+K[2]*m[0]),F.y=e*(K[0]*c[1]+K[1]*l[1]+K[2]*m[1]),F.z=e*(K[0]*c[2]+K[1]*l[2]+K[2]*m[2]));F.bonds=[];d[0].push(F)}t+=n[u]}return d};
c.cube=c.CUBE=function(b){var c=[[]];b=b.replace(/^\s+/,"").split(/\n\r|\r+/);if(6>b.length)return c;var e=b[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),h=Math.abs(parseFloat(e[0]));e=b[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");e=0<parseFloat(e[0])?.529177:1;b=b.splice(6,h);h=c[c.length-1].length;for(var l=h+b.length,m=h;m<l;++m){var p={};p.serial=m;var n=b[m-h].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");6==n[0]?p.elem="C":1==n[0]?p.elem="H":8==n[0]?p.elem="O":17==n[0]&&
(p.elem="Cl");p.x=parseFloat(n[2])*e;p.y=parseFloat(n[3])*e;p.z=parseFloat(n[4])*e;p.hetflag=!0;p.bonds=[];p.bondOrder=[];p.properties={};c[c.length-1].push(p)}for(b=0;b<c.length;b++)t(c[b]);return c};c.xyz=c.XYZ=function(b,c){var d=[[]];for(b=b.split(/\r?\n|\r/);0<b.length&&!(3>b.length);){var e=parseInt(b[0]);if(isNaN(e)||0>=e)break;if(b.length<e+2)break;var h=2,m=d[d.length-1].length;for(e=m+e;m<e;m++){var p=b[h++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),n={};n.serial=m;var r=p[0];n.atom=
n.elem=r[0].toUpperCase()+r.substr(1).toLowerCase();n.x=parseFloat(p[1]);n.y=parseFloat(p[2]);n.z=parseFloat(p[3]);n.hetflag=!0;n.bonds=[];n.bondOrder=[];n.properties={};d[d.length-1][m]=n;7<=p.length&&(n.dx=parseFloat(p[4]),n.dy=parseFloat(p[5]),n.dz=parseFloat(p[6]))}if(!c.multimodel)break;d.push([]);b.splice(0,h)}for(b=0;b<d.length;b++)t(d[b]);if(c.onemol)for(c=d,(d=[]).push(c[0]),b=1;b<c.length;b++)for(h=d[0].length,e=0;e<c[b].length;e++){m=c[b][e];for(p=0;p<m.bonds.length;p++)m.bonds[p]+=h;m.index=
d[0].length;m.serial=d[0].length;d[0].push(m)}return d};c.sdf=c.SDF=function(b,c){var d="V2000";b=b.split(/\r?\n|\r/);return 3<b.length&&38<b[3].length&&(d=b[3].substr(34,5)),"V2000"===d?function(b,c){var d=[[]],e=!1;for(void 0!==c.keepH&&(e=!c.keepH);0<b.length&&!(4>b.length);){var g=parseInt(b[3].substr(0,3));if(isNaN(g)||0>=g)break;var h=parseInt(b[3].substr(3,3)),l=4;if(b.length<4+g+h)break;var m,p=[],n=d[d.length-1].length,r=n+g;for(g=n;g<r;g++,l++){var t={},u=(m=b[l]).substr(31,3).replace(/ /g,
"");t.atom=t.elem=u[0].toUpperCase()+u.substr(1).toLowerCase();"H"===t.elem&&e||(t.serial=g,p[g]=d[d.length-1].length,t.x=parseFloat(m.substr(0,10)),t.y=parseFloat(m.substr(10,10)),t.z=parseFloat(m.substr(20,10)),t.hetflag=!0,t.bonds=[],t.bondOrder=[],t.properties={},t.index=d[d.length-1].length,d[d.length-1].push(t))}for(g=0;g<h;g++,l++)m=b[l],r=p[parseInt(m.substr(0,3))-1+n],t=p[parseInt(m.substr(3,3))-1+n],m=parseInt(m.substr(6,3)),void 0!==r&&void 0!==t&&(d[d.length-1][r].bonds.push(t),d[d.length-
1][r].bondOrder.push(m),d[d.length-1][t].bonds.push(r),d[d.length-1][t].bondOrder.push(m));if(!c.multimodel)break;for(c.onemol||d.push([]);"$$$$"!==b[l];)l++;b.splice(0,++l)}return d}(b,c):"V3000"===d?function(b,c){var d=[[]],e=!1;for(void 0!==c.keepH&&(e=!c.keepH);0<b.length&&!(8>b.length)&&b[4].startsWith("M  V30 BEGIN CTAB")&&b[5].startsWith("M  V30 COUNTS")&&!(14>b[5].length);){var g=b[5].substr(13).match(/\S+/g);if(2>g.length)break;var h=parseInt(g[0]);if(isNaN(h)||0>=h)break;g=parseInt(g[1]);
var l=7;if(b.length<8+h+g)break;var m=[],p=d[d.length-1].length,n=p+h;for(h=p;h<n;h++,l++){var r=b[l].substr(6).match(/\S+/g);if(4<r.length){var t={},u=r[1].replace(/ /g,"");t.atom=t.elem=u[0].toUpperCase()+u.substr(1).toLowerCase();"H"===t.elem&&e||(t.serial=h,m[h]=d[d.length-1].length,t.x=parseFloat(r[2]),t.y=parseFloat(r[3]),t.z=parseFloat(r[4]),t.hetflag=!0,t.bonds=[],t.bondOrder=[],t.properties={},t.index=d[d.length-1].length,d[d.length-1].push(t))}}if("M  V30 END ATOM"!==b[l])break;if(l++,0===
g||"M  V30 BEGIN BOND"!==b[l])break;l++;for(h=0;h<g;h++,l++)t=b[l].substr(6).match(/\S+/g),3<t.length&&(n=m[parseInt(t[2])-1+p],r=m[parseInt(t[3])-1+p],t=parseInt(t[1]),void 0!==n&&void 0!==r&&(d[d.length-1][n].bonds.push(r),d[d.length-1][n].bondOrder.push(t),d[d.length-1][r].bonds.push(n),d[d.length-1][r].bondOrder.push(t)));if(!c.multimodel)break;for(c.onemol||d.push([]);"$$$$"!==b[l];)l++;b.splice(0,++l)}return d}(b,c):[[]]};c.cdjson=c.json=function(b,c){var d=[[]];"string"==typeof b&&(b=JSON.parse(b));
var e=b.m,h=e[0].a;b=e[0].b;e=e[0].s;var m=void 0!==c&&void 0!==c.parseStyle?c.parseStyle:void 0!==e;c=d[d.length-1].length;for(var p=0;p<h.length;p++){var n=h[p],r={};r.id=n.i;r.x=n.x;r.y=n.y;r.z=n.z||0;r.bonds=[];r.bondOrder=[];var t=n.l||"C";r.elem=t[0].toUpperCase()+t.substr(1).toLowerCase();r.serial=d[d.length-1].length;m&&(r.style=e[n.s||0]);d[d.length-1].push(r)}for(h=0;h<b.length;h++)p=b[h],e=p.b+c,m=p.e+c,p=p.o||1,n=d[d.length-1][e],r=d[d.length-1][m],n.bonds.push(m),n.bondOrder.push(p),
r.bonds.push(e),r.bondOrder.push(p);return d};c.mcif=c.cif=function(c,d){function e(b,c){for(var d=[],e=0,g=0;g<b.length;){for(;b.substr(g,c.length)!==c&&g<b.length;){if("'"===b[g])for(g++;g<b.length&&"'"!==b[g];)g++;else if('"'===b[g])for(g++;g<b.length&&'"'!==b[g];)g++;g++}d.push(b.substr(e,g-e));e=g+=c.length}return d}var m=[],l=!d.doAssembly;d=!d.duplicateAssemblyAtoms;var p=m.modelData=[],n=c.split(/\r?\n|\r/);c=[];for(var u=!1,x=0;x<n.length;x++){var y=n[x].split("#")[0];if(u?";"===y[0]&&(u=
!1):";"===y[0]&&(u=!0),u||""!==y){if(!u&&"_"===(y=y.trim())[0]){var z=y.split(/\s/)[0].indexOf(".");-1<z&&(y[z]="_",y=y.substr(0,z)+"_"+y.substr(z+1))}c.push(y)}}for(n=0;n<c.length;){for(;!c[n].startsWith("data_")||"data_global"===c[n];)n++;n++;for(u={};n<c.length&&!c[n].startsWith("data_");)if(void 0===c[n][0])n++;else if("_"===c[n][0]){y=c[n].split(/\s/)[0].toLowerCase();x=u[y]=u[y]||[];y=c[n].substr(c[n].indexOf(y)+y.length);if(""===y)if(";"===c[++n][0]){y=c[n].substr(1);for(n++;";"!==c[n];)y=
y+"\n"+c[n],n++;x.push(y)}else x.push(c[n]);else x.push(y.trim());n++}else if("loop_"===c[n].substr(0,5)){n++;for(x=[];""===c[n]||"_"===c[n][0];)""!==c[n]&&(y=c[n].split(/\s/)[0].toLowerCase(),y=u[y]=u[y]||[],x.push(y)),n++;for(y=0;n<c.length&&"_"!==c[n][0]&&!c[n].startsWith("loop_")&&!c[n].startsWith("data_");){z=e(c[n]," ");for(var q=0;q<z.length;q++)""!==z[q]&&(x[y].push(z[q]),y=(y+1)%x.length);n++}}else n++;p.push({symmetries:[]});m.push([]);x=void 0!==u._atom_site_id?u._atom_site_id.length:u._atom_site_label.length;
if(void 0!==u._cell_length_a){y=parseFloat(u._cell_length_a);z=parseFloat(u._cell_length_b);q=parseFloat(u._cell_length_c);var M=parseFloat(u._cell_angle_alpha)||90,F=parseFloat(u._cell_angle_beta)||90,I=parseFloat(u._cell_angle_gamma)||90,K=I*Math.PI/180;var N=Math.cos(M*Math.PI/180);var H=Math.cos(F*Math.PI/180),Y=Math.cos(K);K=Math.sin(K);N=[[y,z*Y,q*H],[0,z*K,q*(N-H*Y)/K],[0,0,q*Math.sqrt(1-N*N-H*H-Y*Y+2*N*H*Y)/K]];p[p.length-1].cryst={a:y,b:z,c:q,alpha:M,beta:F,gamma:I}}y=function(b,c,d,e){return{x:b[0][0]*
c+b[0][1]*d+b[0][2]*e,y:b[1][0]*c+b[1][1]*d+b[1][2]*e,z:b[2][0]*c+b[2][1]*d+b[2][2]*e}};for(z=0;z<x;z++)if(void 0===u._atom_site_group_pdb||"TER"!==u._atom_site_group_pdb[z])q={},void 0!==u._atom_site_cartn_x?(q.x=parseFloat(u._atom_site_cartn_x[z]),q.y=parseFloat(u._atom_site_cartn_y[z]),q.z=parseFloat(u._atom_site_cartn_z[z])):(M=y(N,parseFloat(u._atom_site_fract_x[z]),parseFloat(u._atom_site_fract_y[z]),parseFloat(u._atom_site_fract_z[z])),q.x=M.x,q.y=M.y,q.z=M.z),q.chain=u._atom_site_auth_asym_id?
u._atom_site_auth_asym_id[z]:void 0,q.resi=u._atom_site_auth_seq_id?parseInt(u._atom_site_auth_seq_id[z]):void 0,q.resn=u._atom_site_auth_comp_id?u._atom_site_auth_comp_id[z].trim():void 0,q.atom=u._atom_site_auth_atom_id?u._atom_site_auth_atom_id[z].replace(/"/gm,""):void 0,q.hetflag=!u._atom_site_group_pdb||"HETA"===u._atom_site_group_pdb[z]||"HETATM"===u._atom_site_group_pdb[z],M=u._atom_site_type_symbol[z],q.elem=M[0].toUpperCase()+M.substr(1).toLowerCase(),q.bonds=[],q.ss="c",q.serial=z,q.bondOrder=
[],q.properties={},m[m.length-1].push(q);if(void 0!==u._pdbx_struct_oper_list_id&&!l){for(x=0;x<u._pdbx_struct_oper_list_id.length;x++){y=parseFloat(u["_pdbx_struct_oper_list_matrix[1][1]"][x]);z=parseFloat(u["_pdbx_struct_oper_list_matrix[1][2]"][x]);q=parseFloat(u["_pdbx_struct_oper_list_matrix[1][3]"][x]);M=parseFloat(u["_pdbx_struct_oper_list_vector[1]"][x]);F=parseFloat(u["_pdbx_struct_oper_list_matrix[2][1]"][x]);I=parseFloat(u["_pdbx_struct_oper_list_matrix[2][2]"][x]);H=parseFloat(u["_pdbx_struct_oper_list_matrix[2][3]"][x]);
Y=parseFloat(u["_pdbx_struct_oper_list_vector[2]"][x]);K=parseFloat(u["_pdbx_struct_oper_list_matrix[3][1]"][x]);var na=parseFloat(u["_pdbx_struct_oper_list_matrix[3][2]"][x]),O=parseFloat(u["_pdbx_struct_oper_list_matrix[3][3]"][x]),W=parseFloat(u["_pdbx_struct_oper_list_vector[3]"][x]);y=new b.Matrix4(y,z,q,M,F,I,H,Y,K,na,O,W);p[p.length-1].symmetries.push(y)}for(x=0;x<m.length;x++)r(p[p.length-1].symmetries,d,m[x])}x=function(b){var c,d=b.match("-");b=b.replace(/[-xyz]/g,"").split("/");return c=
void 0===b[1]?1:parseInt(b[1]),(""===b[0]?1:parseInt(b[0]))/c*(d?-1:1)};if(void 0!==u._symmetry_equiv_pos_as_xyz)for(y=0;y<u._symmetry_equiv_pos_as_xyz.length;y++){q=u._symmetry_equiv_pos_as_xyz[y].replace(/["' ]/g,"").split(",").map(function(b){return b.replace(/-/g,"+-")});z=new b.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(M=0;3>M;M++)for(F=q[M].split("+"),I=0;I<F.length;I++)H=F[I],""!==H&&(Y=x(H),H.match("x")?z.elements[M+0]=Y:H.match("y")?z.elements[M+4]=Y:H.match("z")?z.elements[M+8]=Y:z.elements[M+
12]=Y);q=new b.Matrix4(N[0][0],N[0][1],N[0][2],0,N[1][0],N[1][1],N[1][2],0,N[2][0],N[2][1],N[2][2],0);M=(new b.Matrix4).getInverse(q,!0);z=(new b.Matrix4).multiplyMatrices(z,M);z=(new b.Matrix4).multiplyMatrices(q,z);p[p.length-1].symmetries.push(z)}}for(l=0;l<m.length;l++)t(m[l]),h(m[l]),r(p[l].symmetries,d,m[l]);return m};c.mol2=c.MOL2=function(b,c){var d=[[]],e=!1;void 0!==c.keepH&&(e=!c.keepH);var h=b.search(/@<TRIPOS>MOLECULE/),m=b.search(/@<TRIPOS>ATOM/);if(-1==h||-1==m)return d;for(b=b.substr(h,
b.length).split(/\r?\n|\r/);0<b.length;){h=[];var p=b[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),n=parseInt(p[0]);m=0;1<p.length&&(m=parseInt(p[1]));var r,t=4;for(r=3;r<b.length;r++)if("@<TRIPOS>ATOM"==b[r]){t=r+1;break}r=d[d.length-1].length;for(n=r+n;r<n;r++){var u={},q=(p=b[t++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[5].split(".")[0];if(u.atom=u.elem=q[0].toUpperCase()+q.substr(1).toLowerCase(),"H"!=u.elem||!e){q=d[d.length-1].length;var x=parseInt(p[0]);u.serial=x;u.x=parseFloat(p[2]);
u.y=parseFloat(p[3]);u.z=parseFloat(p[4]);u.atom=p[5];p=parseFloat(p[8]);u.index=q;u.bonds=[];u.bondOrder=[];u.properties={charge:p,partialCharge:p};h[x]=q;d[d.length-1].push(u)}}for(r=!1;t<b.length;)if("@<TRIPOS>BOND"==b[t++]){r=!0;break}if(r&&m)for(r=0;r<m;r++)p=b[t++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),n=parseInt(p[1]),u=d[d.length-1][h[n]],q=parseInt(p[2]),x=d[d.length-1][h[q]],p=parseInt(p[3]),isNaN(p)&&(p=1),void 0!==u&&void 0!==x&&(u.bonds.push(h[q]),u.bondOrder.push(p),x.bonds.push(h[n]),
x.bondOrder.push(p));if(!c.multimodel)break;c.onemol||d.push([]);b.splice(0,t);b.join("\n")}return d};var u=function(b,c){b=b.replace(/ /g,"");return 0<b.length&&"H"==b[0]&&"Hg"!=b&&(b="H"),1<b.length&&(b=b[0].toUpperCase()+b.substr(1).toLowerCase(),void 0===e[b]?b=b[0]:c&&("Ca"==b?b="C":"Cd"==b&&(b="C"))),b},y=function(c,d,g){var p,l,n=[],t=!d.keepH,x=!!d.noSecondaryStructure,y=!d.noComputeSecondaryStructure,z=!d.doAssembly,F=!d.duplicateAssemblyAtoms,q=d.altLoc?d.altLoc:"A";d={symmetries:[]};for(var M=
[],I=[],X={},K=0;K<c.length;K++){var N,H,Y=(l=c[K].replace(/^\s*/,"")).substr(0,6);if(0==Y.indexOf("END")){if(M=c.slice(K+1),"END"==Y)for(var na in g)g.hasOwnProperty(na)&&delete g[na];break}if("ATOM  "==Y||"HETATM"==Y){var O,W,V,P,J,Q,R,T,ea;if(" "==(T=l.substr(16,1))||T==q||"*"==q)(R=parseInt(l.substr(6,5)),p=l.substr(12,4).replace(/ /g,""),N=l.substr(17,3).replace(/ /g,""),H=l.substr(21,1),O=parseInt(l.substr(22,4)),W=l.substr(26,1),V=parseFloat(l.substr(30,8)),P=parseFloat(l.substr(38,8)),J=parseFloat(l.substr(46,
8)),ea=parseFloat(l.substr(60,8)),"H"==(Q=""===(Q=l.substr(76,2).replace(/ /g,""))||void 0===e[Q]?u(l.substr(12,2),"A"==l[0]):Q[0].toUpperCase()+Q.substr(1).toLowerCase())&&t)||(Y="H"==Y[0],I[R]=n.length,n.push({resn:N,x:V,y:P,z:J,elem:Q,hetflag:Y,altLoc:T,chain:H,resi:O,icode:W,rescode:O+(" "!=W?"^"+W:""),serial:R,atom:p,bonds:[],ss:"c",bondOrder:[],properties:{},b:ea,pdbline:l}))}else if("SHEET "==Y){!0;N=l.substr(21,1);H=parseInt(l.substr(22,4));l.substr(32,1);l=parseInt(l.substr(33,4));N in g||
(g[N]={});g[N][H]="s1";for(H+=1;H<l;H++)g[N][H]="s";g[N][l]="s2"}else if("CONECT"==Y)for(N=I[parseInt(l.substr(6,5))],H=n[N],O=[11,16,21,26],W=0;4>W;W++){if(V=I[parseInt(l.substr(O[W],5))],P=n[V],void 0!==H&&void 0!==P)if(X[[N,V]])for(X[[N,V]]+=1,P=0;P<H.bonds.length;P++)H.bonds[P]==V&&(J=X[[N,V]],H.bondOrder[P]=4<=J?1:J);else X[[N,V]]=1,0!=H.bonds.length&&H.bonds[H.bonds.length-1]==V||(H.bonds.push(V),H.bondOrder.push(1))}else if("HELIX "==Y){!0;N=l.substr(19,1);H=parseInt(l.substr(21,4));l.substr(31,
1);l=parseInt(l.substr(33,4));N in g||(g[N]={});g[N][H]="h1";for(H+=1;H<l;H++)g[N][H]="h";g[N][l]="h2"}else if(z||"REMARK"!=Y||"BIOMT"!=l.substr(13,5))"CRYST1"==Y?(P=V=W=O=H=N=void 0,N=parseFloat(l.substr(7,8)),H=parseFloat(l.substr(16,8)),O=parseFloat(l.substr(25,8)),W=parseFloat(l.substr(34,6)),V=parseFloat(l.substr(41,6)),P=parseFloat(l.substr(48,6)),d.cryst={a:N,b:H,c:O,alpha:W,beta:V,gamma:P}):"ANISOU"==Y&&(N=n[I[parseInt(l.substr(6,5))]])&&(l=l.substr(30).trim().split(/\s+/),l={u11:parseInt(l[0]),
u22:parseInt(l[1]),u33:parseInt(l[2]),u12:parseInt(l[3]),u13:parseInt(l[4]),u23:parseInt(l[5])},N.uMat=l);else{H=new b.Matrix4;for(N=1;3>=N;N++)if(l=c[K].replace(/^\s*/,""),parseInt(l.substr(18,1))==N)H.elements[N-1]=parseFloat(l.substr(23,10)),H.elements[N-1+4]=parseFloat(l.substr(33,10)),H.elements[N-1+8]=parseFloat(l.substr(43,10)),H.elements[N-1+12]=parseFloat(l.substr(53)),K++;else for(;"BIOMT"==l.substr(13,5);)l=c[++K].replace(/^\s*/,"");H.elements[3]=0;H.elements[7]=0;H.elements[11]=0;H.elements[15]=
1;d.symmetries.push(H);K--}}(new Date).getTime();if(function(b,c){for(var d=0,e=b.length;d<e;d++)for(var g=b[d],h=0;h<g.bonds.length;h++){var l=b[g.bonds[h]],m=c[g.serial];l&&m&&0>l.bonds.indexOf(m)&&(l.bonds.push(m),l.bondOrder.push(g.bondOrder[h]))}}(n,I),m(n),z||r(d.symmetries,F,n),y&&!x&&((new Date).getTime(),h(n)),(new Date).getTime(),!function(b){for(var c in b)return!1;return!0}(g))for(c=0;c<n.length;c++)void 0!==(p=n[c])&&p.chain in g&&p.resi in g[p.chain]&&(t=g[p.chain][p.resi],p.ss=t[0],
1<t.length&&("1"==t[1]?p.ssbegin=!0:"2"==t[1]&&(p.ssend=!0)));return[n,d,M]};c.pdb=c.PDB=c.pdbqt=c.PDBQT=function(b,c){var d=[],e={};d.modelData=[];for(var h=b.split(/\r?\n|\r/);0<h.length;){h=y(h,c,e);b=h[0];var m=h[1];if(h=h[2],0!=b.length){if(c.multimodel&&c.onemol&&0<d.length){m=d[0].length;for(var p=0;p<b.length;p++){var n=b[p];n.index=p;for(var r=0;r<n.bonds.length;r++)n.bonds[r]+=m;d[0].push(n)}}else d.modelData.push(m),d.push(b);if(!c.multimodel)break}}return d};c.pqr=c.PQR=function(b,c){var d=
[[]],e=!c.noSecondaryStructure;d.modelData=[{symmetries:[]}];for(var l=[],p=b.split(/\r?\n|\r/),n=0;n<p.length;n++){var r=(b=p[n].replace(/^\s*/,"")).substr(0,6);if(0==r.indexOf("END")){if(c.multimodel){c.onemol||d.push([]);continue}break}if("ATOM  "==r||"HETATM"==r){r=parseInt(b.substr(6,5));var t=b.substr(12,4).replace(/ /g,""),u=b.substr(17,3),x=b.substr(21,1),q=parseInt(b.substr(22,4));var y=b.substr(30).trim().split(/\s+/);var z=parseFloat(y[0]),F=parseFloat(y[1]),K=parseFloat(y[2]),I=parseFloat(y[3]),
H=parseFloat(y[4]),Y=t[0];1<t.length&&t[1].toUpperCase()!=t[1]&&(Y=t.substr(0,2));y="H"==b[0];l[r]=d[d.length-1].length;d[d.length-1].push({resn:u,x:z,y:F,z:K,elem:Y,hetflag:y,chain:x,resi:q,serial:r,atom:t,bonds:[],ss:"c",bondOrder:[],properties:{charge:I,partialCharge:I,radius:H},pdbline:b})}else if("CONECT"==r)for(r=parseInt(b.substr(6,5)),r=d[d.length-1][l[r]],t=0;4>t;t++)u=parseInt(b.substr([11,16,21,26][t],5)),x=d[d.length-1][l[u]],void 0!==r&&void 0!==x&&(r.bonds.push(l[u]),r.bondOrder.push(1))}for(c=
0;c<d.length;c++)m(d[c]),e&&h(d[c]);return d};var x=function(b){return 0==b||2==b||4==b?"h":3==b?"s":"c"};return c.mmtf=c.MMTF=function(c,d){var e=!d.keepH,m=d.altLoc?d.altLoc:"A",l=!!d.noSecondaryStructure,p=!d.noComputeSecondaryStructure,n=!d.doAssembly,t=!d.duplicateAssemblyAtoms,u=d.assemblyIndex?d.assemblyIndex:0;"string"==typeof c&&(c=b.base64ToArray(c));var y;c=MMTF.decode(c);var z=[[]],q=z.modelData=[],F=0,I=0,X=0,K=0,N=c.secStructList,H=c.insCodeList,Y=c.sequenceIndexList,na=c.bFactorList,
O=c.altLocList,W=c.occupancyList,V=c.bondAtomList,P=c.bondOrderList,J=c.numModels;if(0==J)return z;d.multimodel||(J=1);var Q=[];if(!n&&c.bioAssemblyList&&0<c.bioAssemblyList.length){var R=c.bioAssemblyList[u].transformList;var T=0;for(u=R.length;T<u;T++){var ea=new b.Matrix4(R[T].matrix);ea.transpose();Q.push(ea)}}R=null;c.unitCell&&(u=c.unitCell,R={a:u[0],b:u[1],c:u[2],alpha:u[3],beta:u[4],gamma:u[5]});for(u=ea=0;u<J;u++){var la=c.chainsPerModel[u],ja=z[z.length-1],fa=[];q.push({symmetries:Q,cryst:R});
for(T=0;T<la;++T){var ha=c.groupsPerChain[I],Z=String.fromCharCode.apply(null,c.chainIdList.subarray(4*I,4*I+4)).replace(/\0/g,"");c.chainNameList&&(Z=String.fromCharCode.apply(null,c.chainNameList.subarray(4*I,4*I+4)).replace(/\0/g,""));var ba=X,ua="";for(y=0;y<ha;++y){var ca=c.groupList[c.groupTypeList[X]];var aa=ca.atomNameList.length;var pa=0,qa=!1,za=!1;if(N){pa=N[X];var xa=x(pa);0!=X&&xa==ua||(qa=!0);ua=xa;var Ha=X+1;(Ha>=N.length||x(N[Ha]!=xa))&&(za=!0)}c.insCodeList&&String.fromCharCode(H[X]);
Y&&Y[X];var Za=c.groupIdList[X],Ya=ca.groupName;Ha=K;for(xa=0;xa<aa;++xa){var Qa=ca.elementList[xa];if(!e||"H"!=Qa){var Ua="";na&&(Ua=na[K]);var va="";O&&O[K]&&(va=String.fromCharCode(O[K]));var v="";if(W&&(v=W[K]),""==va||va==m||"*"==m){var Nb=c.atomIdList[K],Aa=ca.atomNameList[xa],ma=0;ca.atomChargeList&&(ma=ca.atomChargeList[xa]);var mb=c.xCoordList[K],Na=c.yCoordList[K],w=c.zCoordList[K];fa[K]=ja.length;ja.push({resn:Ya,x:mb,y:Na,z:w,elem:Qa,hetflag:0>pa,chain:Z,resi:Za,icode:va,rescode:Za+(" "!=
va?"^"+va:""),serial:Nb,altLoc:va,index:K,atom:Aa,bonds:[],ss:x(pa),ssbegin:qa,ssend:za,bondOrder:[],properties:{charge:ma,occupancy:v},b:Ua})}}K+=1}pa=ca.bondAtomList;xa=0;for(aa=ca.bondOrderList.length;xa<aa;++xa)qa=ca.bondOrderList[xa],za=fa[Ha+pa[2*xa]],Za=fa[Ha+pa[2*xa+1]],Ya=ja[za],Qa=ja[Za],Ya&&Qa&&(Ya.bonds.push(Za),Ya.bondOrder.push(qa),Qa.bonds.push(za),Qa.bondOrder.push(qa));X+=1}X=ba;for(y=0;y<ha;++y)X+=1;I+=1}if(V)for(T=ea,y=V.length;T<y;T+=2){ha=V[T];Z=V[T+1];la=P?P[T/2]:1;if(ha>=K){ea=
T;break}ha=fa[ha];Z=fa[Z];ba=ja[ha];ua=ja[Z];ba&&ua&&(ba.bonds.push(Z),ba.bondOrder.push(la),ua.bonds.push(ha),ua.bondOrder.push(la))}if(d.multimodel&&(d.onemol||z.push([])),!n)for(ja=0;ja<z.length;ja++)r(q[F].symmetries,t,z[ja]);F+=1}return p&&!l&&h(z),z},c.prmtop=c.PRMTOP=function(b){function c(b){var c=n.indexOf(p.filter(function(c){return c.includes(b)})[0]);if(Number.isInteger(c)&&0<c){for(;!n[c].includes("FORMAT");)c++;return c}return-1}function e(b){var c=n[b].match(/\((\d*)\S*/),d=n[b].match(/[a-zA-Z](\d*)\)\s*/);
return null==d&&(d=n[b].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[c[1],d[1]]}var h,l=[],m=0,n=b.split(/\r?\n|\r/);if(!(0<n.length&&n[0].includes("VERSION")))return[];var p=n.filter(function(b){return b.includes("POINTERS")||b.includes("ATOM_NAME")||b.includes("CHARGE")||b.includes("RADII")||b.includes("BONDS_INC_HYDROGEN")||b.includes("BONDS_WITHOUT_HYDROGEN")});b=c("POINTERS");if(-1==b)return[];var r=e(b),t=parseInt(n[b+1].slice(0,r[1]));if(isNaN(t)||0>=t||-1==(b=c("ATOM_NAME")))return[];for(var u=(r=e(b))[0],
q=0;q<t/r[0];q++){q==parseInt(t/r[0])&&(u=t%r[0]);for(var x=0;x<u;x++){var y={};y.serial=m;y.x=0;y.y=0;y.z=0;y.atom=n[b+1].slice(r[1]*x,r[1]*(x+1));y.elem=n[b+1].slice(r[1]*x,r[1]*x+1);y.properties={charge:"",radii:""};y.bonds=[];y.bondOrder=[];l.push(y);m++}b++}if(-1!=(b=c("CHARGE")))for(m=0,u=(r=e(b))[0],q=0;q<t/r[0];q++){q==parseInt(t/r[0])&&(u=t%r[0]);for(x=0;x<u;x++)l[m].properties.charge=parseFloat(n[b+1].slice(r[1]*x,r[1]*(x+1))),m++;b++}if(-1!=(b=c("RADII")))for(m=0,u=(r=e(b))[0],q=0;q<t/
r[0];q++){q==parseInt(t/r[0])&&(u=t%r[0]);for(x=0;x<u;x++)l[m].properties.radii=parseFloat(n[b+1].slice(r[1]*x,r[1]*(x+1))),m++;b++}if(-1!=(b=c("BONDS_WITHOUT_HYDROGEN")))for(m=0,u=(r=e(b))[0],b+=1;!n[b].match(/^%FLAG/);){n[b+1].match(/^%FLAG/)&&(u=t%r[0]);for(q=0;q<u;q++)0==m%3?h=parseInt(n[b].slice(r[1]*q,r[1]*(q+1))/3):1==m%3&&l[h].bonds.push(parseInt(n[b].slice(r[1]*q,r[1]*(q+1))/3)),m++;b++}if(-1!=(b=c("BONDS_INC_HYDROGEN")))for(m=0,u=(r=e(b))[0],b+=1;!n[b].match(/^%FLAG/);){n[b+1].match(/^%FLAG/)&&
(u=t%r[0]);for(q=0;q<u;q++)0==m%3?h=parseInt(n[b].slice(r[1]*q,r[1]*(q+1))/3):1==m%3&&l[h].bonds.push(parseInt(n[b].slice(r[1]*q,r[1]*(q+1))/3)),m++;b++}return[l]},c.gro=c.GRO=function(b){var c=[];for(b=b.split(/\r?\n|\r/);0<b.length&&!(3>b.length);){var e=parseInt(b[1]);if(isNaN(e)||0>=e)break;if(b.length<e+3)break;var h=[];c.push(h);var l=2,n=h.length;for(e=n+e;n<e;n++){var p=b[l++],r={};r.serial=n;r.atom=p.slice(10,15).trim();r.elem=u(r.atom,!0);r.x=10*parseFloat(p.slice(20,28));r.y=10*parseFloat(p.slice(28,
36));r.z=10*parseFloat(p.slice(36,44));r.resi=parseInt(p.slice(0,5));r.resn=p.slice(5,10).trim();r.bonds=[];r.bondOrder=[];r.properties={};44<p.length&&(r.dx=10*parseFloat(p.slice(44,52)),r.dy=10*parseFloat(p.slice(52,60)),r.dz=10*parseFloat(p.slice(60,68)));h[n]=r}if(b.length<=l+3&&(h=b[l++].trim().split(/\s+/),3==h.length)){for(e=0;3>e;e++)h[e]=10*parseFloat(h[e]);c.box=h}b.splice(0,++l)}for(b=0;b<c.length;b++)m(c[b]);return c},c.lammpstrj=c.LAMMPSTRJ=function(b,c){var d=[],e={id:"serial",type:"atom",
element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};b=b.split(/\r?\n|\r/);for(var h=0,m=0,n=0;n<b.length-9;){for(;n<b.length;n++)if(b[n].match(/ITEM: NUMBER OF ATOMS/)&&(m=parseInt(b[n+1])),b[n].match(/ITEM: ATOMS/)){h=n+1;break}n=b[h-1].replace("ITEM: ATOMS ","").split(" ");d.push([]);for(var p=h;p<h+m;p++){for(var r={},u={},x=b[p].split(" "),q=0;q<x.length;q++){var y=e[n[q]];null!=y&&("serial"==y?r[y]=parseInt(x[q]):"x"==
y||"y"==y||"z"===y?r[y]=parseFloat(x[q]):"charge"==y||"radius"==y?u[y]=parseFloat(x[q]):r[y]=x[q]);r.properties=u;r.bonds=[];r.bondOrder=[]}d[d.length-1][p-h]=r}n=h+m-1}if(c.assignbonds)for(c=0;c<d.length;c++)t(d[c]);return d},c}();b=b||{};b.partialCharges={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,
"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,
"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,
"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,
"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};b.applyPartialCharges=function(c,e){e&&void 0!==c.partialCharge||!c.resn||!c.atom||(c.properties.partialCharge=b.partialCharges[c.resn+":"+c.atom])};b.VolumeData=function(b,e,n){if(this.unit={x:1,y:1,z:1},this.origin=
{x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,e=e.toLowerCase(),/\.gz$/.test(e)){e=e.replace(/\.gz$/,"");try{b=this[e]&&this[e].isbinary?pako.inflate(b):(new TextDecoder("utf-8")).decode(pako.inflate(b))}catch(h){console.log(h)}}if(this[e]&&this[e](b),n){if(n.negate)for(b=0,e=this.data.length;b<e;b++)this.data[b]=-this.data[b];if(n.normalize){n=b=0;for(e=this.data.length;n<e;n++)b+=this.data[n];n=b/this.data.length;console.log("computed mean: "+n);e=b=0;for(var c=
this.data.length;e<c;e++){var m=this.data[e]-n;b+=m*m}b/=this.data.length;e=0;for(c=this.data.length;e<c;e++)this.data[e]=(this.data[e]-n)/b}}};b.VolumeData.prototype.getIndex=function(c,e,n){this.matrix?(this.inversematrix||(this.inversematrix=(new b.Matrix4).getInverse(this.matrix)),n=new b.Vector3(c,e,n),c=(n=n.applyMatrix4(this.inversematrix)).x,e=n.y,n=n.z):(c-=this.origin.x,e-=this.origin.y,n-=this.origin.z,c/=this.unit.x,e/=this.unit.y,n/=this.unit.z);return c=Math.round(c),e=Math.round(e),
n=Math.round(n),0>c||c>=this.size.x?-1:0>e||e>=this.size.y?-1:0>n||n>=this.size.z?-1:c*this.size.y*this.size.z+e*this.size.z+n};b.VolumeData.prototype.getVal=function(b,e,n){b=this.getIndex(b,e,n);return 0>b?0:this.data[b]};b.VolumeData.prototype.getCoordinates=function(b){var c=b/(this.size.y*this.size.z),n=b%(this.size.y*this.size.z);b%=this.size.z;return c*=this.unit.x,n*=this.unit.y,b*=this.unit.z,{x:c+this.origin.x,y:n+this.origin.y,z:b+this.origin.z}};b.VolumeData.prototype.vasp=function(c){var e=
c.replace(/^\s+/,"").split(/[\n\r]/),n=b.Parsers.vasp(c)[0].length;if(0==n)return console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),void(this.data=[]);var t=parseFloat(e[1]);c=e[2].replace(/^\s+/,"").split(/\s+/);var m=(new b.Vector3(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]))).multiplyScalar(1.889725992*t);c=e[3].replace(/^\s+/,"").split(/\s+/);var h=(new b.Vector3(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]))).multiplyScalar(1.889725992*
t);c=e[4].replace(/^\s+/,"").split(/\s+/);t=(new b.Vector3(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]))).multiplyScalar(1.889725992*t);c=1/(Math.abs(m.x*(h.y*t.z-t.y*h.z)-h.x*(m.y*t.z-t.y*m.z)+t.x*(m.y*h.z-h.y*m.z))/Math.pow(1.889725992,3));e.splice(0,8+n+1);var r=e[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");n=Math.abs(r[0]);var u=Math.abs(r[1]);r=Math.abs(r[2]);var y=this.origin=new b.Vector3(0,0,0);this.size={x:n,y:u,z:r};this.unit=new b.Vector3(m.x,h.y,t.z);m=m.multiplyScalar(1/
(1.889725992*n));h=h.multiplyScalar(1/(1.889725992*u));t=t.multiplyScalar(1/(1.889725992*r));0==m.y&&0==m.z&&0==h.x&&0==h.z&&0==t.x&&0==t.y||(this.matrix=new b.Matrix4(m.x,h.x,t.x,0,m.y,h.y,t.y,0,m.z,h.z,t.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new b.Matrix4).makeTranslation(y.x,y.y,y.z)),this.origin=new b.Vector3(0,0,0),this.unit=new b.Vector3(1,1,1));e.splice(0,1);e=e.join(" ");(e=(e=e.replace(/^\s+/,"")).split(/[\s\r]+/)).splice(n*u*r+1);e=new Float32Array(e);for(m=
0;m<e.length;m++)e[m]=e[m]*c*.036749309;this.data=e};b.VolumeData.prototype.dx=function(c){var e,n=c.split(/[\n\r]+/),t=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,m=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,h=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,r=/data follows/;for(c=0;c<n.length;c++){var u=n[c];if(e=t.exec(u)){var y=parseInt(e[1]),x=parseInt(e[2]);e=parseInt(e[3]);this.size={x:y,y:x,z:e}}else if(e=h.exec(u)){y=parseFloat(e[1]);if(0==parseFloat(e[2])&&0==parseFloat(e[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),
u=n[c+=1],null==(e=h.exec(u)))return void console.log("Parse error in dx delta matrix");x=parseFloat(e[2]);if(0==parseFloat(e[1])&&0==parseFloat(e[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),u=n[c+=1],null==(e=h.exec(u)))return void console.log("Parse error in dx delta matrix");u=parseFloat(e[3]);0==parseFloat(e[1])&&0==parseFloat(e[2])||console.log("Non-orthogonal delta matrix not currently supported in dx format");this.unit=new b.Vector3(y,x,u)}else if(e=
m.exec(u))y=parseFloat(e[1]),x=parseFloat(e[2]),e=parseFloat(e[3]),this.origin=new b.Vector3(y,x,e);else if(r.exec(u))break}(c+=1,this.size&&this.origin&&this.unit&&this.size)?(c=n.splice(c).join(" "),c=c.split(/[\s\r]+/),this.data=new Float32Array(c)):console.log("Error parsing dx format")};b.VolumeData.prototype.cube=function(c){c=c.replace(/^\s+/,"").split(/[\n\r]+/);if(!(6>c.length)){var e=c[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),n=parseFloat(e[0]),t=Math.abs(n),m=this.origin=new b.Vector3(parseFloat(e[1]),
parseFloat(e[2]),parseFloat(e[3])),h=0<(e=c[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[0]?.529177:1;m.multiplyScalar(h);var r=Math.abs(e[0]),u=(new b.Vector3(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]))).multiplyScalar(h);e=c[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var y=Math.abs(e[0]),x=(new b.Vector3(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]))).multiplyScalar(h);e=c[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var p=Math.abs(e[0]);e=(new b.Vector3(parseFloat(e[1]),
parseFloat(e[2]),parseFloat(e[3]))).multiplyScalar(h);this.size={x:r,y:y,z:p};this.unit=new b.Vector3(u.x,x.y,e.z);0==u.y&&0==u.z&&0==x.x&&0==x.z&&0==e.x&&0==e.y||(this.matrix=new b.Matrix4(u.x,x.x,e.x,0,u.y,x.y,e.y,0,u.z,x.z,e.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new b.Matrix4).makeTranslation(m.x,m.y,m.z)),this.origin=new b.Vector3(0,0,0),this.unit=new b.Vector3(1,1,1));m=6;0>n&&m++;c=c.splice(t+m).join(" ");c=(c=c.replace(/^\s+/,"")).split(/[\s\r]+/);this.data=new Float32Array(c)}};
b.VolumeData.prototype.ccp4=function(c){var e,n;c=new Int8Array(c);var t=new Int32Array(c.buffer,0,56);var m=new Float32Array(c.buffer,0,56);var h=new DataView(c.buffer);if(String.fromCharCode(h.getUint8(208),h.getUint8(209),h.getUint8(210),h.getUint8(211)),e=[h.getUint8(212),h.getUint8(213)],17===e[0]&&17===e[1])for(e=c.byteLength,n=0;n<e;n+=4)h.setFloat32(n,h.getFloat32(n),!0);h=t[0];e=t[1];n=t[2];var r=t[4];var u=t[5];var y=t[6];var x=t[7];var p=t[8];var d=t[9];var g=m[10];var z=m[11];var l=m[12];
var F=m[13];var A=m[14];var B=m[15];var I=t[16];var C=t[17];var U=t[18];t=t[23];var q=m[49];var M=m[50];m=m[51];g=[g,0,0];z=[z*Math.cos(Math.PI/180*B),z*Math.sin(Math.PI/180*B),0];F=[l*Math.cos(Math.PI/180*A),l*(Math.cos(Math.PI/180*F)-Math.cos(Math.PI/180*B)*Math.cos(Math.PI/180*A))/Math.sin(Math.PI/180*B),0];F[2]=Math.sqrt(l*l*Math.sin(Math.PI/180*A)*Math.sin(Math.PI/180*A)-F[1]*F[1]);l=[0,g,z,F];x=[0,x,p,d];p=[0,I,C,U];this.matrix=new b.Matrix4;this.matrix.set(l[p[1]][0]/x[p[1]],l[p[2]][0]/x[p[2]],
l[p[3]][0]/x[p[3]],0,l[p[1]][1]/x[p[1]],l[p[2]][1]/x[p[2]],l[p[3]][1]/x[p[3]],0,l[p[1]][2]/x[p[1]],l[p[2]][2]/x[p[2]],l[p[3]][2]/x[p[3]],0,0,0,0,1);this.matrix=this.matrix.multiplyMatrices(this.matrix,(new b.Matrix4).makeTranslation(r+q,u+M,y+m));this.origin=new b.Vector3(0,0,0);this.unit=new b.Vector3(1,1,1);this.size={x:h,y:e,z:n};this.dimensionorder=[I,C,U];c=new Float32Array(c.buffer,1024+t);this.data=new Float32Array(h*e*n);for(r=0;r<h;r++)for(u=0;u<e;u++)for(y=0;y<n;y++)this.data[(r*e+u)*n+
y]=c[(y*e+u)*h+r]};b.VolumeData.prototype.ccp4.isbinary=!0;b.GLVolumetricRender=function(){function c(b,c){var e=[],h=(b.length-1)/(c-1);e[0]=b[0];for(var n=1;n<c-1;n++){var t=n*h,y=Math.floor(t).toFixed(),x=Math.ceil(t).toFixed(),p=b[y];e[n]=p+(b[x]-p)*(t-y)}return e[c-1]=b[b.length-1],e}function e(e,t){t=t||{};var m=Object.assign([],t.transferfn),h=null,n=null,u=t.subsamples||5,y=[];m.forEach(function(b){b.value=parseFloat(b.value)});m.sort(function(b,c){return b.value-c.value});var x=m[0].value;
0==m.length&&m.push(m[0]);for(var p=m[m.length-1].value,d,g,z,l,F,A,B,I,C=0;C<m.length-1;C++)if(z=b.CC.color(m[C].color),l=b.CC.color(m[C+1].color),B=m[C].opacity,I=m[C+1].opacity,(d=Math.floor(256*(m[C].value-x)/(p-x)))!=(g=Math.floor(256*(m[C+1].value-x)/(p-x))))for(F=c([255*z.r,255*l.r],g-d),A=c([255*z.g,255*l.g],g-d),z=c([255*z.b,255*l.b],g-d),d=c([255*B,255*I],g-d),g=0;g<F.length;g++)y.push(F[g]),y.push(A[g]),y.push(z[g]),y.push(d[g]);y=new Uint8ClampedArray(y);var U=(new b.Matrix4).identity();
m=e.unit.x*e.size.x;F=e.unit.y*e.size.y;A=e.unit.z*e.size.z;U.makeTranslation(-e.origin.x/m,-e.origin.y/F,-e.origin.z/A);U.scale({x:1/m,y:1/F,z:1/A});var q=Math.min(Math.min(e.unit.x,e.unit.y),e.unit.z),M=[[e.origin.x,e.origin.y,e.origin.z],[e.origin.x+m,e.origin.y+F,e.origin.z+A]],Y=Math.sqrt(m*m+F*F+A*A);C=new b.GLShape;e.matrix?console.log("ERROR: Non-orthonombic boxes (or file formats that specify transformation matrices) are not supported with volumetric rendering yet."):C.addBox({corner:e.origin,
dimensions:{w:m,h:F,d:A}});var X=C.finalize();void 0!==t.coords&&t.seldist;this.globj=function(c){if(n&&(c.remove(n),n=null),!this.hidden){h=new b.Object3D;var d=new b.Texture(e,!0);var g=new b.Texture(y,!1);d.needsUpdate=!0;g.needsUpdate=!0;g.flipY=!1;d=new b.VolumetricMaterial({transferfn:g,transfermin:x,transfermax:p,map:d,extent:M,maxdepth:Y,texmatrix:U,unit:q,subsamples:u});d=new b.Mesh(X,d);h.add(d);n=h.clone();c.add(n)}};this.removegl=function(b){n&&(void 0!==n.geometry&&n.geometry.dispose(),
void 0!==n.material&&n.material.dispose(),b.remove(n),n=null);h=null}}return Object.defineProperty(e.prototype,"position",{get:function(){return this.boundingSphere.center}}),Object.defineProperty(e.prototype,"x",{get:function(){return this.boundingSphere.center.x}}),Object.defineProperty(e.prototype,"y",{get:function(){return this.boundingSphere.center.y}}),Object.defineProperty(e.prototype,"z",{get:function(){return this.boundingSphere.center.z}}),e}();b.workerString=function(){self.onmessage=function(b){b=
b.data;var c=b.type;if(0>c)self.atomData=b.atoms,self.volume=b.volume,self.ps=new ProteinSurface;else{var n=self.ps;n.initparm(b.expandedExtent,1!=c,self.volume);n.fillvoxels(self.atomData,b.extendedAtoms);n.buildboundary();4!==c&&2!==c||(n.fastdistancemap(),n.boundingatom(!1),n.fillvoxelswaals(self.atomData,b.extendedAtoms));n.marchingcube(c);b=n.getFacesAndVertices(b.atomsToShow);self.postMessage(b)}}}.toString().replace(/(^.*?\{|\}$)/g,"");b.workerString+="; var ProteinSurface="+b.ProteinSurface.toString().replace(/[a-zA-Z_$]{1}[0-9a-zA-Z_$]*.MarchingCube./g,
"MarchingCube.");b.workerString+=",MarchingCube=("+b.MarchingCubeInitializer.toString()+")();";b.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([b.workerString],{type:"text/javascript"})):{postMessage:function(){}};b.workerString=b.workerString;b.SurfaceWorker=b.SurfaceWorker}).call(this,I("VS3o"),I("EVdn"))},yLpj:function(z,Y){Y=function(){return this}();try{Y=Y||(new Function("return this"))()}catch(I){"object"===typeof window&&(Y=window)}z.exports=Y}}]);
