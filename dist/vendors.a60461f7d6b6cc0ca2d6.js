/*
 jQuery JavaScript Library v3.4.1
 https://jquery.com/

 Includes Sizzle.js
 https://sizzlejs.com/

 Copyright JS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2019-05-01T21:04Z
 Sizzle CSS Selector Engine v2.3.4
 https://sizzlejs.com/

 Copyright JS Foundation and other contributors
 Released under the MIT license
 https://js.foundation/

 Date: 2019-04-08
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(B){var ba=0;return function(){return ba<B.length?{done:!1,value:B[ba++]}:{done:!0}}};$jscomp.arrayIterator=function(B){return{next:$jscomp.arrayIteratorImpl(B)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(B,ba,H){B!=Array.prototype&&B!=Object.prototype&&(B[ba]=H.value)};$jscomp.getGlobal=function(B){return"undefined"!=typeof window&&window===B?B:"undefined"!=typeof global&&null!=global?global:B};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(B,ba){this.$jscomp$symbol$id_=B;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:ba})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function B(H){if(this instanceof B)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(H||"")+"_"+ba++,H)}var ba=0;return B}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var B=$jscomp.global.Symbol.iterator;B||(B=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[B]&&$jscomp.defineProperty(Array.prototype,B,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var B=$jscomp.global.Symbol.asyncIterator;B||(B=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(B){$jscomp.initSymbolIterator();B={next:B};B[$jscomp.global.Symbol.iterator]=function(){return this};return B};
$jscomp.findInternal=function(B,ba,H){B instanceof String&&(B=String(B));for(var ia=B.length,I=0;I<ia;I++){var Ea=B[I];if(ba.call(H,Ea,I,B))return{i:I,v:Ea}}return{i:-1,v:void 0}};$jscomp.polyfill=function(B,ba,H,ia){if(ba){H=$jscomp.global;B=B.split(".");for(ia=0;ia<B.length-1;ia++){var I=B[ia];I in H||(H[I]={});H=H[I]}B=B[B.length-1];ia=H[B];ba=ba(ia);ba!=ia&&null!=ba&&$jscomp.defineProperty(H,B,{configurable:!0,writable:!0,value:ba})}};
$jscomp.polyfill("Array.prototype.find",function(B){return B?B:function(B,H){return $jscomp.findInternal(this,B,H).v}},"es6","es3");$jscomp.iteratorFromArray=function(B,ba){$jscomp.initSymbolIterator();B instanceof String&&(B+="");var H=0,ia={next:function(){if(H<B.length){var I=H++;return{value:ba(I,B[I]),done:!1}}ia.next=function(){return{done:!0,value:void 0}};return ia.next()}};ia[Symbol.iterator]=function(){return ia};return ia};
$jscomp.polyfill("Array.prototype.keys",function(B){return B?B:function(){return $jscomp.iteratorFromArray(this,function(B){return B})}},"es6","es3");$jscomp.polyfill("Array.prototype.fill",function(B){return B?B:function(B,H,ia){var I=this.length||0;0>H&&(H=Math.max(0,I+H));if(null==ia||ia>I)ia=I;ia=Number(ia);0>ia&&(ia=Math.max(0,I+ia));for(H=Number(H||0);H<ia;H++)this[H]=B;return this}},"es6","es3");
$jscomp.checkStringArgs=function(B,ba,H){if(null==B)throw new TypeError("The 'this' value for String.prototype."+H+" must not be null or undefined");if(ba instanceof RegExp)throw new TypeError("First argument to String.prototype."+H+" must not be a regular expression");return B+""};
$jscomp.polyfill("String.prototype.startsWith",function(B){return B?B:function(B,H){var ba=$jscomp.checkStringArgs(this,B,"startsWith");B+="";var I=ba.length,Ea=B.length;H=Math.max(0,Math.min(H|0,ba.length));for(var Fa=0;Fa<Ea&&H<I;)if(ba[H++]!=B[Fa++])return!1;return Fa>=Ea}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(B){return B?B:function(B,H){var ba=$jscomp.checkStringArgs(this,B,"endsWith");B+="";void 0===H&&(H=ba.length);H=Math.max(0,Math.min(H|0,ba.length));for(var I=B.length;0<I&&0<H;)if(ba[--H]!=B[--I])return!1;return 0>=I}},"es6","es3");$jscomp.makeIterator=function(B){var ba="undefined"!=typeof Symbol&&Symbol.iterator&&B[Symbol.iterator];return ba?ba.call(B):$jscomp.arrayIterator(B)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(B){function ba(){this.batch_=null}function H(B){return B instanceof I?B:new I(function(b,I){b(B)})}if(B&&!$jscomp.FORCE_POLYFILL_PROMISE)return B;ba.prototype.asyncExecute=function(B){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(B)};var ia=$jscomp.global.setTimeout;ba.prototype.asyncExecuteFunction=function(B){ia(B,0)};ba.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var B=
this.batch_;this.batch_=[];for(var b=0;b<B.length;++b){var I=B[b];B[b]=null;try{I()}catch(a){this.asyncThrow_(a)}}}this.batch_=null};ba.prototype.asyncThrow_=function(B){this.asyncExecuteFunction(function(){throw B;})};var I=function(B){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{B(b.resolve,b.reject)}catch(Ka){b.reject(Ka)}};I.prototype.createResolveAndReject_=function(){function B(a){return function(c){I||(I=!0,a.call(b,c))}}var b=this,
I=!1;return{resolve:B(this.resolveTo_),reject:B(this.reject_)}};I.prototype.resolveTo_=function(B){if(B===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(B instanceof I)this.settleSameAsPromise_(B);else{a:switch(typeof B){case "object":var b=null!=B;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(B):this.fulfill_(B)}};I.prototype.resolveToNonPromiseObj_=function(B){var b=void 0;try{b=B.then}catch(Ka){this.reject_(Ka);return}"function"==
typeof b?this.settleSameAsThenable_(b,B):this.fulfill_(B)};I.prototype.reject_=function(B){this.settle_(2,B)};I.prototype.fulfill_=function(B){this.settle_(1,B)};I.prototype.settle_=function(B,b){if(0!=this.state_)throw Error("Cannot settle("+B+", "+b+"): Promise already settled in state"+this.state_);this.state_=B;this.result_=b;this.executeOnSettledCallbacks_()};I.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var B=0;B<this.onSettledCallbacks_.length;++B)Ea.asyncExecute(this.onSettledCallbacks_[B]);
this.onSettledCallbacks_=null}};var Ea=new ba;I.prototype.settleSameAsPromise_=function(B){var b=this.createResolveAndReject_();B.callWhenSettled_(b.resolve,b.reject)};I.prototype.settleSameAsThenable_=function(B,b){var I=this.createResolveAndReject_();try{B.call(b,I.resolve,I.reject)}catch(a){I.reject(a)}};I.prototype.then=function(B,b){function ba(b,e){return"function"==typeof b?function(e){try{a(b(e))}catch(k){c(k)}}:e}var a,c,e=new I(function(b,e){a=b;c=e});this.callWhenSettled_(ba(B,a),ba(b,
c));return e};I.prototype.catch=function(B){return this.then(void 0,B)};I.prototype.callWhenSettled_=function(B,b){function I(){switch(a.state_){case 1:B(a.result_);break;case 2:b(a.result_);break;default:throw Error("Unexpected state: "+a.state_);}}var a=this;null==this.onSettledCallbacks_?Ea.asyncExecute(I):this.onSettledCallbacks_.push(I)};I.resolve=H;I.reject=function(B){return new I(function(b,I){I(B)})};I.race=function(B){return new I(function(b,I){for(var a=$jscomp.makeIterator(B),c=a.next();!c.done;c=
a.next())H(c.value).callWhenSettled_(b,I)})};I.all=function(B){var b=$jscomp.makeIterator(B),ba=b.next();return ba.done?H([]):new I(function(a,c){function e(b){return function(c){q[b]=c;t--;0==t&&a(q)}}var q=[],t=0;do q.push(void 0),t++,H(ba.value).callWhenSettled_(e(q.length-1),c),ba=b.next();while(!ba.done)})};return I},"es6","es3");
$jscomp.polyfill("String.prototype.repeat",function(B){return B?B:function(B){var ba=$jscomp.checkStringArgs(this,null,"repeat");if(0>B||1342177279<B)throw new RangeError("Invalid count value");B|=0;for(var ia="";B;)if(B&1&&(ia+=ba),B>>>=1)ba+=ba;return ia}},"es6","es3");$jscomp.owns=function(B,ba){return Object.prototype.hasOwnProperty.call(B,ba)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(B,ba){for(var H=1;H<arguments.length;H++){var ia=arguments[H];if(ia)for(var I in ia)$jscomp.owns(ia,I)&&(B[I]=ia[I])}return B};$jscomp.polyfill("Object.assign",function(B){return B||$jscomp.assign},"es6","es3");$jscomp.polyfill("Object.is",function(B){return B?B:function(B,H){return B===H?0!==B||1/B===1/H:B!==B&&H!==H}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(B){return B?B:function(B,H){var ba=this;ba instanceof String&&(ba=String(ba));var I=ba.length;H=H||0;for(0>H&&(H=Math.max(H+I,0));H<I;H++){var Ea=ba[H];if(Ea===B||Object.is(Ea,B))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(B){return B?B:function(B,H){return-1!==$jscomp.checkStringArgs(this,B,"includes").indexOf(B,H||0)}},"es6","es3");
$jscomp.polyfill("Number.isFinite",function(B){return B?B:function(B){return"number"!==typeof B?!1:!isNaN(B)&&Infinity!==B&&-Infinity!==B}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(B){return B?B:function(B){return Number.isFinite(B)?B===Math.floor(B):!1}},"es6","es3");
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+eM2":function(B,ba,H){},EVdn:function(B,ba,H){var ia,I;(function(I,H){"object"===typeof B.exports?B.exports=I.document?H(I,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return H(b)}:H(I)})("undefined"!==typeof window?window:this,function(H,Fa){function b(f,a,h){h=h||pa;var D,b=h.createElement("script");b.text=f;if(a)for(D in Za)(f=a[D]||a.getAttribute&&a.getAttribute(D))&&b.setAttribute(D,f);h.head.appendChild(b).parentNode.removeChild(b)}
function Ka(f){return null==f?f+"":"object"===typeof f||"function"===typeof f?zb[Nb.call(f)]||"object":typeof f}function a(f){var a=!!f&&"length"in f&&f.length,h=Ka(f);return ra(f)||Eb(f)?!1:"array"===h||0===a||"number"===typeof a&&0<a&&a-1 in f}function c(f,a){return f.nodeName&&f.nodeName.toLowerCase()===a.toLowerCase()}function e(f,a,h){return ra(a)?w.grep(f,function(f,D){return!!a.call(f,D,f)!==h}):a.nodeType?w.grep(f,function(f){return f===a!==h}):"string"!==typeof a?w.grep(f,function(f){return-1<
Ab.call(a,f)!==h}):w.filter(a,f,h)}function q(f,a){for(;(f=f[a])&&1!==f.nodeType;);return f}function t(f){var a={};w.each(f.match($a)||[],function(f,D){a[D]=!0});return a}function m(f){return f}function k(f){throw f;}function r(f,a,h,b){var D;try{f&&ra(D=f.promise)?D.call(f).done(a).fail(h):f&&ra(D=f.then)?D.call(f,a,h):a.apply(void 0,[f].slice(b))}catch(kc){h.apply(void 0,[kc])}}function x(){pa.removeEventListener("DOMContentLoaded",x);H.removeEventListener("load",x);w.ready()}function z(f,a){return a.toUpperCase()}
function v(f){return f.replace(ja,"ms-").replace(Ca,z)}function n(){this.expando=w.expando+n.uid++}function d(f,a,h){if(void 0===h&&1===f.nodeType)if(h="data-"+a.replace(Xa,"-$&").toLowerCase(),h=f.getAttribute(h),"string"===typeof h){try{var D=h;h="true"===D?!0:"false"===D?!1:"null"===D?null:D===+D+""?+D:wa.test(D)?JSON.parse(D):D}catch(rc){}va.set(f,a,h)}else h=void 0;return h}function g(f,a,h,b){var D,c=20,oa=b?function(){return b.cur()}:function(){return w.css(f,a,"")},d=oa(),g=h&&h[3]||(w.cssNumber[a]?
"":"px"),C=f.nodeType&&(w.cssNumber[a]||"px"!==g&&+d)&&ya.exec(w.css(f,a));if(C&&C[3]!==g){d/=2;g=g||C[3];for(C=+d||1;c--;)w.style(f,a,C+g),0>=(1-D)*(1-(D=oa()/d||.5))&&(c=0),C/=D;C*=2;w.style(f,a,C+g);h=h||[]}if(h){C=+C||+d||0;var l=h[1]?C+(h[1]+1)*h[2]:+h[2];b&&(b.unit=g,b.start=C,b.end=l)}return l}function E(f,a){for(var D,h,b=[],c=0,d=f.length;c<d;c++)if(h=f[c],h.style)if(D=h.style.display,a){if("none"===D&&(b[c]=ma.get(h,"display")||null,b[c]||(h.style.display="")),""===h.style.display&&La(h)){D=
c;var C=h.ownerDocument;h=h.nodeName;var g=bb[h];g||(C=C.body.appendChild(C.createElement(h)),g=w.css(C,"display"),C.parentNode.removeChild(C),"none"===g&&(g="block"),bb[h]=g);C=g;b[D]=C}}else"none"!==D&&(b[c]="none",ma.set(h,"display",D));for(c=0;c<d;c++)null!=b[c]&&(f[c].style.display=b[c]);return f}function l(f,a){var D="undefined"!==typeof f.getElementsByTagName?f.getElementsByTagName(a||"*"):"undefined"!==typeof f.querySelectorAll?f.querySelectorAll(a||"*"):[];return void 0===a||a&&c(f,a)?w.merge([f],
D):D}function O(f,a){for(var D=0,h=f.length;D<h;D++)ma.set(f[D],"globalEval",!a||ma.get(a[D],"globalEval"))}function G(f,a,h,b,c){for(var D,oa,d,C=a.createDocumentFragment(),g=[],k=0,e=f.length;k<e;k++)if((D=f[k])||0===D)if("object"===Ka(D))w.merge(g,D.nodeType?[D]:D);else if(Vb.test(D)){oa=oa||C.appendChild(a.createElement("div"));d=(cb.exec(D)||["",""])[1].toLowerCase();d=fb[d]||fb._default;oa.innerHTML=d[1]+w.htmlPrefilter(D)+d[2];for(d=d[0];d--;)oa=oa.lastChild;w.merge(g,oa.childNodes);oa=C.firstChild;
oa.textContent=""}else g.push(a.createTextNode(D));C.textContent="";for(k=0;D=g[k++];)if(b&&-1<w.inArray(D,b))c&&c.push(D);else if(f=pb(D),oa=l(C.appendChild(D),"script"),f&&O(oa),h)for(d=0;D=oa[d++];)Ra.test(D.type||"")&&h.push(D);return C}function y(){return!0}function R(){return!1}function N(f,a){a:{try{var D=pa.activeElement;break a}catch(ac){}D=void 0}return f===D===("focus"===a)}function p(f,a,h,b,c,d){var D;if("object"===typeof a){"string"!==typeof h&&(b=b||h,h=void 0);for(D in a)p(f,D,h,b,
a[D],d);return f}null==b&&null==c?(c=h,b=h=void 0):null==c&&("string"===typeof h?(c=b,b=void 0):(c=b,b=h,h=void 0));if(!1===c)c=R;else if(!c)return f;if(1===d){var oa=c;c=function(f){w().off(f);return oa.apply(this,arguments)};c.guid=oa.guid||(oa.guid=w.guid++)}return f.each(function(){w.event.add(this,a,c,b,h)})}function V(f,a,h){h?(ma.set(f,a,!1),w.event.add(f,a,{namespace:!1,handler:function(f){var D=ma.get(this,a);if(f.isTrigger&1&&this[a])if(D.length)(w.event.special[a]||{}).delegateType&&f.stopPropagation();
else{D=xa.call(arguments);ma.set(this,a,D);var b=h(this,a);this[a]();var c=ma.get(this,a);D!==c||b?ma.set(this,a,!1):c={};if(D!==c)return f.stopImmediatePropagation(),f.preventDefault(),c.value}else D.length&&(ma.set(this,a,{value:w.event.trigger(w.extend(D[0],w.Event.prototype),D.slice(1),this)}),f.stopImmediatePropagation())}})):void 0===ma.get(f,a)&&w.event.add(f,a,y)}function M(f,a){return c(f,"table")&&c(11!==a.nodeType?a:a.firstChild,"tr")?w(f).children("tbody")[0]||f:f}function Q(f){f.type=
(null!==f.getAttribute("type"))+"/"+f.type;return f}function ca(f){"true/"===(f.type||"").slice(0,5)?f.type=f.type.slice(5):f.removeAttribute("type");return f}function K(f,a){var D,h;if(1===a.nodeType){if(ma.hasData(f)){var b=ma.access(f);var c=ma.set(a,b);if(b=b.events)for(h in delete c.handle,c.events={},b)for(c=0,D=b[h].length;c<D;c++)w.event.add(a,h,b[h][c])}va.hasData(f)&&(f=va.access(f),f=w.extend({},f),va.set(a,f))}}function P(f,a,h,c){a=bc.apply([],a);var D,d=0,oa=f.length,C=oa-1,g=a[0],k=
ra(g);if(k||1<oa&&"string"===typeof g&&!Aa.checkClone&&Hb.test(g))return f.each(function(D){var b=f.eq(D);k&&(a[0]=g.call(this,D,b.html()));P(b,a,h,c)});if(oa){var e=G(a,f[0].ownerDocument,!1,f,c);var A=e.firstChild;1===e.childNodes.length&&(e=A);if(A||c){A=w.map(l(e,"script"),Q);for(D=A.length;d<oa;d++){var p=e;d!==C&&(p=w.clone(p,!0,!0),D&&w.merge(A,l(p,"script")));h.call(f[d],p,d)}if(D)for(e=A[A.length-1].ownerDocument,w.map(A,ca),d=0;d<D;d++)p=A[d],Ra.test(p.type||"")&&!ma.access(p,"globalEval")&&
w.contains(e,p)&&(p.src&&"module"!==(p.type||"").toLowerCase()?w._evalUrl&&!p.noModule&&w._evalUrl(p.src,{nonce:p.nonce||p.getAttribute("nonce")}):b(p.textContent.replace(Sa,""),p,e))}}return f}function J(f,a,h){for(var D=a?w.filter(a,f):f,b=0;null!=(a=D[b]);b++)h||1!==a.nodeType||w.cleanData(l(a)),a.parentNode&&(h&&pb(a)&&O(l(a,"script")),a.parentNode.removeChild(a));return f}function qa(f,a,h){var D=f.style;if(h=h||mb(f)){var b=h.getPropertyValue(a)||h[a];""!==b||pb(f)||(b=w.style(f,a));if(!Aa.pixelBoxStyles()&&
tb.test(b)&&ta.test(a)){f=D.width;a=D.minWidth;var c=D.maxWidth;D.minWidth=D.maxWidth=D.width=b;b=h.width;D.width=f;D.minWidth=a;D.maxWidth=c}}return void 0!==b?b+"":b}function Ga(f,a){return{get:function(){if(f())delete this.get;else return(this.get=a).apply(this,arguments)}}}function U(f){var a=w.cssProps[f]||Ob[f];if(a)return a;if(f in Ma)return f;a:{a=f;for(var h=a[0].toUpperCase()+a.slice(1),b=cc.length;b--;)if(a=cc[b]+h,a in Ma)break a;a=void 0}return Ob[f]=a||f}function X(f,a,h){return(f=ya.exec(a))?
Math.max(0,f[2]-(h||0))+(f[3]||"px"):a}function W(f,a,h,b,c,d){var D="width"===a?1:0,C=0,g=0;if(h===(b?"border":"content"))return 0;for(;4>D;D+=2)"margin"===h&&(g+=w.css(f,h+Qa[D],!0,c)),b?("content"===h&&(g-=w.css(f,"padding"+Qa[D],!0,c)),"margin"!==h&&(g-=w.css(f,"border"+Qa[D]+"Width",!0,c))):(g+=w.css(f,"padding"+Qa[D],!0,c),"padding"!==h?g+=w.css(f,"border"+Qa[D]+"Width",!0,c):C+=w.css(f,"border"+Qa[D]+"Width",!0,c));!b&&0<=d&&(g+=Math.max(0,Math.ceil(f["offset"+a[0].toUpperCase()+a.slice(1)]-
d-g-C-.5))||0);return g}function L(f,a,h){var D=mb(f),b=(!Aa.boxSizingReliable()||h)&&"border-box"===w.css(f,"boxSizing",!1,D),c=b,d=qa(f,a,D),g="offset"+a[0].toUpperCase()+a.slice(1);if(tb.test(d)){if(!h)return d;d="auto"}(!Aa.boxSizingReliable()&&b||"auto"===d||!parseFloat(d)&&"inline"===w.css(f,"display",!1,D))&&f.getClientRects().length&&(b="border-box"===w.css(f,"boxSizing",!1,D),(c=g in f)&&(d=f[g]));d=parseFloat(d)||0;return d+W(f,a,h||(b?"border":"content"),c,D,d)+"px"}function A(f,a,h,b,
c){return new A.prototype.init(f,a,h,b,c)}function F(){Ta&&(!1===pa.hidden&&H.requestAnimationFrame?H.requestAnimationFrame(F):H.setTimeout(F,w.fx.interval),w.fx.tick())}function T(){H.setTimeout(function(){gb=void 0});return gb=Date.now()}function S(f,a){var h=0,D={height:f};for(a=a?1:0;4>h;h+=2-a){var b=Qa[h];D["margin"+b]=D["padding"+b]=f}a&&(D.opacity=D.width=f);return D}function sa(f,a,h){for(var D,b=(Z.tweeners[a]||[]).concat(Z.tweeners["*"]),c=0,d=b.length;c<d;c++)if(D=b[c].call(h,a,f))return D}
function ea(f,a){var h,D;for(h in f){var b=v(h);var c=a[b];var d=f[h];Array.isArray(d)&&(c=d[1],d=f[h]=d[0]);h!==b&&(f[b]=d,delete f[h]);if((D=w.cssHooks[b])&&"expand"in D)for(h in d=D.expand(d),delete f[b],d)h in f||(f[h]=d[h],a[h]=c);else a[b]=c}}function Z(f,a,h){var D,b=0,c=Z.prefilters.length,d=w.Deferred().always(function(){delete g.elem}),g=function(){if(D)return!1;var a=gb||T();a=Math.max(0,C.startTime+C.duration-a);for(var h=1-(a/C.duration||0),b=0,c=C.tweens.length;b<c;b++)C.tweens[b].run(h);
d.notifyWith(f,[C,h,a]);if(1>h&&c)return a;c||d.notifyWith(f,[C,1,0]);d.resolveWith(f,[C]);return!1},C=d.promise({elem:f,props:w.extend({},a),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},h),originalProperties:a,originalOptions:h,startTime:gb||T(),duration:h.duration,tweens:[],createTween:function(a,h){a=w.Tween(f,C.opts,a,h,C.opts.specialEasing[a]||C.opts.easing);C.tweens.push(a);return a},stop:function(a){var h=0,b=a?C.tweens.length:0;if(D)return this;for(D=!0;h<b;h++)C.tweens[h].run(1);
a?(d.notifyWith(f,[C,1,0]),d.resolveWith(f,[C,a])):d.rejectWith(f,[C,a]);return this}});h=C.props;for(ea(h,C.opts.specialEasing);b<c;b++)if(a=Z.prefilters[b].call(C,f,h,C.opts))return ra(a.stop)&&(w._queueHooks(C.elem,C.opts.queue).stop=a.stop.bind(a)),a;w.map(h,sa,C);ra(C.opts.start)&&C.opts.start.call(f,C);C.progress(C.opts.progress).done(C.opts.done,C.opts.complete).fail(C.opts.fail).always(C.opts.always);w.fx.timer(w.extend(g,{elem:f,anim:C,queue:C.opts.queue}));return C}function Y(f){return(f.match($a)||
[]).join(" ")}function na(f){return f.getAttribute&&f.getAttribute("class")||""}function ka(f){return Array.isArray(f)?f:"string"===typeof f?f.match($a)||[]:[]}function za(f,a,h,b){var D;if(Array.isArray(a))w.each(a,function(a,D){h||Da.test(f)?b(f,D):za(f+"["+("object"===typeof D&&null!=D?a:"")+"]",D,h,b)});else if(h||"object"!==Ka(a))b(f,a);else for(D in a)za(f+"["+D+"]",a[D],h,b)}function ha(f){return function(a,h){"string"!==typeof a&&(h=a,a="*");var D=0,b=a.toLowerCase().match($a)||[];if(ra(h))for(;a=
b[D++];)"+"===a[0]?(a=a.slice(1)||"*",(f[a]=f[a]||[]).unshift(h)):(f[a]=f[a]||[]).push(h)}}function da(f,a,h,b){function D(C){var g;c[C]=!0;w.each(f[C]||[],function(f,C){f=C(a,h,b);if("string"===typeof f&&!d&&!c[f])return a.dataTypes.unshift(f),D(f),!1;if(d)return!(g=f)});return g}var c={},d=f===Fb;return D(a.dataTypes[0])||!c["*"]&&D("*")}function aa(f,a){var h,D,b=w.ajaxSettings.flatOptions||{};for(h in a)void 0!==a[h]&&((b[h]?f:D||(D={}))[h]=a[h]);D&&w.extend(!0,f,D);return f}var la=[],pa=H.document,
Na=Object.getPrototypeOf,xa=la.slice,bc=la.concat,Pb=la.push,Ab=la.indexOf,zb={},Nb=zb.toString,ua=zb.hasOwnProperty,u=ua.toString,Qb=u.call(Object),Aa={},ra=function(f){return"function"===typeof f&&"number"!==typeof f.nodeType},Eb=function(f){return null!=f&&f===f.window},Za={type:!0,src:!0,nonce:!0,noModule:!0},w=function(f,a){return new w.fn.init(f,a)},dc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:"3.4.1",constructor:w,length:0,toArray:function(){return xa.call(this)},get:function(f){return null==
f?xa.call(this):0>f?this[f+this.length]:this[f]},pushStack:function(f){f=w.merge(this.constructor(),f);f.prevObject=this;return f},each:function(f){return w.each(this,f)},map:function(f){return this.pushStack(w.map(this,function(a,h){return f.call(a,h,a)}))},slice:function(){return this.pushStack(xa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(f){var a=this.length;f=+f+(0>f?a:0);return this.pushStack(0<=f&&f<a?[this[f]]:[])},end:function(){return this.prevObject||
this.constructor()},push:Pb,sort:la.sort,splice:la.splice};w.extend=w.fn.extend=function(){var f,a,h,b=arguments[0]||{},c=1,d=arguments.length,C=!1;"boolean"===typeof b&&(C=b,b=arguments[c]||{},c++);"object"===typeof b||ra(b)||(b={});c===d&&(b=this,c--);for(;c<d;c++)if(null!=(f=arguments[c]))for(a in f){var g=f[a];if("__proto__"!==a&&b!==g)if(C&&g&&(w.isPlainObject(g)||(h=Array.isArray(g)))){var l=b[a];l=h&&!Array.isArray(l)?[]:h||w.isPlainObject(l)?l:{};h=!1;b[a]=w.extend(C,l,g)}else void 0!==g&&
(b[a]=g)}return b};w.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw Error(f);},noop:function(){},isPlainObject:function(f){if(!f||"[object Object]"!==Nb.call(f))return!1;f=Na(f);if(!f)return!0;f=ua.call(f,"constructor")&&f.constructor;return"function"===typeof f&&u.call(f)===Qb},isEmptyObject:function(f){for(var a in f)return!1;return!0},globalEval:function(f,a){b(f,{nonce:a&&a.nonce})},each:function(f,h){var b,D=0;if(a(f))for(b=f.length;D<b&&
!1!==h.call(f[D],D,f[D]);D++);else for(D in f)if(!1===h.call(f[D],D,f[D]))break;return f},trim:function(f){return null==f?"":(f+"").replace(dc,"")},makeArray:function(f,h){h=h||[];null!=f&&(a(Object(f))?w.merge(h,"string"===typeof f?[f]:f):Pb.call(h,f));return h},inArray:function(f,a,h){return null==a?-1:Ab.call(a,f,h)},merge:function(f,a){for(var h=+a.length,b=0,D=f.length;b<h;b++)f[D++]=a[b];f.length=D;return f},grep:function(f,a,h){for(var b=[],D=0,c=f.length,d=!h;D<c;D++)h=!a(f[D],D),h!==d&&b.push(f[D]);
return b},map:function(f,h,b){var D,c=0,d=[];if(a(f))for(D=f.length;c<D;c++){var C=h(f[c],c,b);null!=C&&d.push(C)}else for(c in f)C=h(f[c],c,b),null!=C&&d.push(C);return bc.apply([],d)},guid:1,support:Aa});$jscomp.initSymbol();"function"===typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),w.fn[Symbol.iterator]=la[Symbol.iterator]);w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,a){zb["[object "+
a+"]"]=a.toLowerCase()});var db=function(f){function a(f,a,h,b){var D,c,d,C;var g=a&&a.ownerDocument;var l=a?a.nodeType:9;h=h||[];if("string"!==typeof f||!f||1!==l&&9!==l&&11!==l)return h;if(!b&&((a?a.ownerDocument||a:T)!==t&&ec(a),a=a||t,X)){if(11!==l&&(C=na.exec(f)))if(D=C[1])if(9===l)if(c=a.getElementById(D)){if(c.id===D)return h.push(c),h}else return h;else{if(g&&(c=g.getElementById(D))&&G(a,c)&&c.id===D)return h.push(c),h}else{if(C[2])return Y.apply(h,a.getElementsByTagName(f)),h;if((D=C[3])&&
wa.getElementsByClassName&&a.getElementsByClassName)return Y.apply(h,a.getElementsByClassName(D)),h}if(!(!wa.qsa||z[f+" "]||x&&x.test(f)||1===l&&"object"===a.nodeName.toLowerCase())){D=f;g=a;if(1===l&&ma.test(f)){(d=a.getAttribute("id"))?d=d.replace(da,ha):a.setAttribute("id",d=R);l=fc(f);for(g=l.length;g--;)l[g]="#"+d+" "+n(l[g]);D=l.join(",");g=za.test(f)&&p(a.parentNode)||a}try{return Y.apply(h,g.querySelectorAll(D)),h}catch(Ec){z(f,!0)}finally{d===R&&a.removeAttribute("id")}}}return H(f.replace(V,
"$1"),a,h,b)}function h(){function f(h,b){a.push(h+" ")>Ba.cacheLength&&delete f[a.shift()];return f[h+" "]=b}var a=[];return f}function b(f){f[R]=!0;return f}function c(f){var a=t.createElement("fieldset");try{return!!f(a)}catch(Bc){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}function d(f,a){f=f.split("|");for(var h=f.length;h--;)Ba.attrHandle[f[h]]=a}function C(f,a){var h=a&&f,b=h&&1===f.nodeType&&1===a.nodeType&&f.sourceIndex-a.sourceIndex;if(b)return b;if(h)for(;h=h.nextSibling;)if(h===
a)return-1;return f?1:-1}function g(f){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===f}}function l(f){return function(a){var h=a.nodeName.toLowerCase();return("input"===h||"button"===h)&&a.type===f}}function k(f){return function(a){return"form"in a?a.parentNode&&!1===a.disabled?"label"in a?"label"in a.parentNode?a.parentNode.disabled===f:a.disabled===f:a.isDisabled===f||a.isDisabled!==!f&&Pb(a)===f:a.disabled===f:"label"in a?a.disabled===f:!1}}function e(f){return b(function(a){a=
+a;return b(function(h,b){for(var D,c=f([],h.length,a),d=c.length;d--;)h[D=c[d]]&&(h[D]=!(b[D]=h[D]))})})}function p(f){return f&&"undefined"!==typeof f.getElementsByTagName&&f}function A(){}function n(f){for(var a=0,h=f.length,b="";a<h;a++)b+=f[a].value;return b}function N(f,a,h){var b=a.dir,D=a.next,c=D||b,d=h&&"parentNode"===c,C=W++;return a.first?function(a,h,D){for(;a=a[b];)if(1===a.nodeType||d)return f(a,h,D);return!1}:function(a,h,g){var l,e=[w,C];if(g)for(;a=a[b];){if((1===a.nodeType||d)&&
f(a,h,g))return!0}else for(;a=a[b];)if(1===a.nodeType||d){var k=a[R]||(a[R]={});k=k[a.uniqueID]||(k[a.uniqueID]={});if(D&&D===a.nodeName.toLowerCase())a=a[b]||a;else{if((l=k[c])&&l[0]===w&&l[1]===C)return e[2]=l[2];k[c]=e;if(e[2]=f(a,h,g))return!0}}return!1}}function L(f){return 1<f.length?function(a,h,b){for(var D=f.length;D--;)if(!f[D](a,h,b))return!1;return!0}:f[0]}function m(f,a,h,b,D){for(var c,d=[],C=0,g=f.length,l=null!=a;C<g;C++)if(c=f[C])if(!h||h(c,b,D))d.push(c),l&&a.push(C);return d}function F(f,
h,D,c,d,C){c&&!c[R]&&(c=F(c));d&&!d[R]&&(d=F(d,C));return b(function(b,C,g,l){var k,e=[],p=[],A=C.length,oa;if(!(oa=b)){oa=h||"*";for(var n=g.nodeType?[g]:g,N=[],L=0,F=n.length;L<F;L++)a(oa,n[L],N);oa=N}oa=!f||!b&&h?oa:m(oa,e,f,g,l);n=D?d||(b?f:A||c)?[]:C:oa;D&&D(oa,n,g,l);if(c){var r=m(n,p);c(r,[],g,l);for(g=r.length;g--;)if(k=r[g])n[p[g]]=!(oa[p[g]]=k)}if(b){if(d||f){if(d){r=[];for(g=n.length;g--;)(k=n[g])&&r.push(oa[g]=k);d(null,n=[],r,l)}for(g=n.length;g--;)(k=n[g])&&-1<(r=d?J(b,k):e[g])&&(b[r]=
!(C[r]=k))}}else n=m(n===C?n.splice(A,n.length):n),d?d(null,C,n,l):Y.apply(C,n)})}function r(f){var a,h,b=f.length,D=Ba.relative[f[0].type];var c=D||Ba.relative[" "];for(var d=D?1:0,C=N(function(f){return f===a},c,!0),g=N(function(f){return-1<J(a,f)},c,!0),l=[function(f,h,b){f=!D&&(b||h!==q)||((a=h).nodeType?C(f,h,b):g(f,h,b));a=null;return f}];d<b;d++)if(c=Ba.relative[f[d].type])l=[N(L(l),c)];else{c=Ba.filter[f[d].type].apply(null,f[d].matches);if(c[R]){for(h=++d;h<b&&!Ba.relative[f[h].type];h++);
return F(1<d&&L(l),1<d&&n(f.slice(0,d-1).concat({value:" "===f[d-2].type?"*":""})).replace(V,"$1"),c,d<h&&r(f.slice(d,h)),h<b&&r(f=f.slice(h)),h<b&&n(f))}l.push(c)}return L(l)}function U(f,h){var D=0<h.length,c=0<f.length,d=function(b,d,C,g,l){var k,e,p=0,A="0",oa=b&&[],n=[],N=q,r=b||c&&Ba.find.TAG("*",l),L=w+=null==N?1:Math.random()||.1,F=r.length;for(l&&(q=d===t||d||l);A!==F&&null!=(k=r[A]);A++){if(c&&k){var U=0;d||k.ownerDocument===t||(ec(k),C=!X);for(;e=f[U++];)if(e(k,d||t,C)){g.push(k);break}l&&
(w=L)}D&&((k=!e&&k)&&p--,b&&oa.push(k))}p+=A;if(D&&A!==p){for(U=0;e=h[U++];)e(oa,n,d,C);if(b){if(0<p)for(;A--;)oa[A]||n[A]||(n[A]=Ca.call(g));n=m(n)}Y.apply(g,n);l&&!b&&0<n.length&&1<p+h.length&&a.uniqueSort(g)}l&&(w=L,q=N);return oa};return D?b(d):d}var y,q,u,E,t,ja,X,x,ob,O,G,R="sizzle"+1*new Date,T=f.document,w=0,W=0,v=h(),S=h(),$b=h(),z=h(),K=function(f,a){f===a&&(E=!0);return 0},M={}.hasOwnProperty,Q=[],Ca=Q.pop,ca=Q.push,Y=Q.push,sa=Q.slice,J=function(f,a){for(var h=0,b=f.length;h<b;h++)if(f[h]===
a)return h;return-1},Z=/[\x20\t\r\n\f]+/g,V=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ea=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,P=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ma=/[\x20\t\r\n\f]|>/,Ya=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
qa=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Ga={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Na=/HTML$/i,B=/^(?:input|select|textarea|button)$/i,xa=/^h\d$/i,
ka=/^[^{]+\{\s*\[native \w/,na=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,za=/[+~]/,va=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,aa=function(f,a,h){f="0x"+a-65536;return f!==f||h?a:0>f?String.fromCharCode(f+65536):String.fromCharCode(f>>10|55296,f&1023|56320)},da=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ha=function(f,a){return a?"\x00"===f?"\ufffd":f.slice(0,-1)+"\\"+f.charCodeAt(f.length-1).toString(16)+" ":"\\"+f},I=function(){ec()},Pb=N(function(f){return!0===f.disabled&&"fieldset"===
f.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Y.apply(Q=sa.call(T.childNodes),T.childNodes),Q[T.childNodes.length].nodeType}catch(Ac){Y={apply:Q.length?function(f,a){ca.apply(f,sa.call(a))}:function(f,a){for(var h=f.length,b=0;f[h++]=a[b++];);f.length=h-1}}}var wa=a.support={};var wc=a.isXML=function(f){var a=(f.ownerDocument||f).documentElement;return!Na.test(f.namespaceURI||a&&a.nodeName||"HTML")};var ec=a.setDocument=function(f){var a;f=f?f.ownerDocument||f:T;if(f===t||9!==f.nodeType||
!f.documentElement)return t;t=f;ja=t.documentElement;X=!wc(t);T!==t&&(a=t.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",I,!1):a.attachEvent&&a.attachEvent("onunload",I));wa.attributes=c(function(f){f.className="i";return!f.getAttribute("className")});wa.getElementsByTagName=c(function(f){f.appendChild(t.createComment(""));return!f.getElementsByTagName("*").length});wa.getElementsByClassName=ka.test(t.getElementsByClassName);wa.getById=c(function(f){ja.appendChild(f).id=
R;return!t.getElementsByName||!t.getElementsByName(R).length});wa.getById?(Ba.filter.ID=function(f){var a=f.replace(va,aa);return function(f){return f.getAttribute("id")===a}},Ba.find.ID=function(f,a){if("undefined"!==typeof a.getElementById&&X)return(f=a.getElementById(f))?[f]:[]}):(Ba.filter.ID=function(f){var a=f.replace(va,aa);return function(f){return(f="undefined"!==typeof f.getAttributeNode&&f.getAttributeNode("id"))&&f.value===a}},Ba.find.ID=function(f,a){if("undefined"!==typeof a.getElementById&&
X){var h,b=a.getElementById(f);if(b){if((h=b.getAttributeNode("id"))&&h.value===f)return[b];var D=a.getElementsByName(f);for(a=0;b=D[a++];)if((h=b.getAttributeNode("id"))&&h.value===f)return[b]}return[]}});Ba.find.TAG=wa.getElementsByTagName?function(f,a){if("undefined"!==typeof a.getElementsByTagName)return a.getElementsByTagName(f);if(wa.qsa)return a.querySelectorAll(f)}:function(f,a){var h=[],b=0;a=a.getElementsByTagName(f);if("*"===f){for(;f=a[b++];)1===f.nodeType&&h.push(f);return h}return a};
Ba.find.CLASS=wa.getElementsByClassName&&function(f,a){if("undefined"!==typeof a.getElementsByClassName&&X)return a.getElementsByClassName(f)};ob=[];x=[];if(wa.qsa=ka.test(t.querySelectorAll))c(function(f){ja.appendChild(f).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>";f.querySelectorAll("[msallowcapture^='']").length&&x.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");f.querySelectorAll("[selected]").length||x.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
f.querySelectorAll("[id~="+R+"-]").length||x.push("~=");f.querySelectorAll(":checked").length||x.push(":checked");f.querySelectorAll("a#"+R+"+*").length||x.push(".#.+[+~]")}),c(function(f){f.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var a=t.createElement("input");a.setAttribute("type","hidden");f.appendChild(a).setAttribute("name","D");f.querySelectorAll("[name=d]").length&&x.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==f.querySelectorAll(":enabled").length&&
x.push(":enabled",":disabled");ja.appendChild(f).disabled=!0;2!==f.querySelectorAll(":disabled").length&&x.push(":enabled",":disabled");f.querySelectorAll("*,:x");x.push(",.*:")});(wa.matchesSelector=ka.test(O=ja.matches||ja.webkitMatchesSelector||ja.mozMatchesSelector||ja.oMatchesSelector||ja.msMatchesSelector))&&c(function(f){wa.disconnectedMatch=O.call(f,"*");O.call(f,"[s!='']:x");ob.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
x=x.length&&new RegExp(x.join("|"));ob=ob.length&&new RegExp(ob.join("|"));G=(a=ka.test(ja.compareDocumentPosition))||ka.test(ja.contains)?function(f,a){var h=9===f.nodeType?f.documentElement:f;a=a&&a.parentNode;return f===a||!!(a&&1===a.nodeType&&(h.contains?h.contains(a):f.compareDocumentPosition&&f.compareDocumentPosition(a)&16))}:function(f,a){if(a)for(;a=a.parentNode;)if(a===f)return!0;return!1};K=a?function(f,a){if(f===a)return E=!0,0;var h=!f.compareDocumentPosition-!a.compareDocumentPosition;
if(h)return h;h=(f.ownerDocument||f)===(a.ownerDocument||a)?f.compareDocumentPosition(a):1;return h&1||!wa.sortDetached&&a.compareDocumentPosition(f)===h?f===t||f.ownerDocument===T&&G(T,f)?-1:a===t||a.ownerDocument===T&&G(T,a)?1:u?J(u,f)-J(u,a):0:h&4?-1:1}:function(f,a){if(f===a)return E=!0,0;var h=0,b=f.parentNode,D=a.parentNode,c=[f],d=[a];if(!b||!D)return f===t?-1:a===t?1:b?-1:D?1:u?J(u,f)-J(u,a):0;if(b===D)return C(f,a);for(;f=f.parentNode;)c.unshift(f);for(f=a;f=f.parentNode;)d.unshift(f);for(;c[h]===
d[h];)h++;return h?C(c[h],d[h]):c[h]===T?-1:d[h]===T?1:0};return t};a.matches=function(f,h){return a(f,null,null,h)};a.matchesSelector=function(f,h){(f.ownerDocument||f)!==t&&ec(f);if(!(!wa.matchesSelector||!X||z[h+" "]||ob&&ob.test(h)||x&&x.test(h)))try{var b=O.call(f,h);if(b||wa.disconnectedMatch||f.document&&11!==f.document.nodeType)return b}catch(Cc){z(h,!0)}return 0<a(h,t,null,[f]).length};a.contains=function(f,a){(f.ownerDocument||f)!==t&&ec(f);return G(f,a)};a.attr=function(f,a){(f.ownerDocument||
f)!==t&&ec(f);var h=Ba.attrHandle[a.toLowerCase()];h=h&&M.call(Ba.attrHandle,a.toLowerCase())?h(f,a,!X):void 0;return void 0!==h?h:wa.attributes||!X?f.getAttribute(a):(h=f.getAttributeNode(a))&&h.specified?h.value:null};a.escape=function(f){return(f+"").replace(da,ha)};a.error=function(f){throw Error("Syntax error, unrecognized expression: "+f);};a.uniqueSort=function(f){var a,h=[],b=0,D=0;E=!wa.detectDuplicates;u=!wa.sortStable&&f.slice(0);f.sort(K);if(E){for(;a=f[D++];)a===f[D]&&(b=h.push(D));for(;b--;)f.splice(h[b],
1)}u=null;return f};var qc=a.getText=function(f){var a="",h=0;var b=f.nodeType;if(!b)for(;b=f[h++];)a+=qc(b);else if(1===b||9===b||11===b){if("string"===typeof f.textContent)return f.textContent;for(f=f.firstChild;f;f=f.nextSibling)a+=qc(f)}else if(3===b||4===b)return f.nodeValue;return a};var Ba=a.selectors={cacheLength:50,createPseudo:b,match:Ga,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(f){f[1]=f[1].replace(va,aa);f[3]=(f[3]||f[4]||f[5]||"").replace(va,aa);"~="===f[2]&&(f[3]=" "+f[3]+" ");return f.slice(0,4)},CHILD:function(f){f[1]=f[1].toLowerCase();"nth"===f[1].slice(0,3)?(f[3]||a.error(f[0]),f[4]=+(f[4]?f[5]+(f[6]||1):2*("even"===f[3]||"odd"===f[3])),f[5]=+(f[7]+f[8]||"odd"===f[3])):f[3]&&a.error(f[0]);return f},PSEUDO:function(f){var a,h=!f[6]&&f[2];if(Ga.CHILD.test(f[0]))return null;f[3]?f[2]=f[4]||f[5]||"":h&&Ya.test(h)&&(a=fc(h,!0))&&(a=h.indexOf(")",
h.length-a)-h.length)&&(f[0]=f[0].slice(0,a),f[2]=h.slice(0,a));return f.slice(0,3)}},filter:{TAG:function(f){var a=f.replace(va,aa).toLowerCase();return"*"===f?function(){return!0}:function(f){return f.nodeName&&f.nodeName.toLowerCase()===a}},CLASS:function(f){var a=v[f+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+f+"([\\x20\\t\\r\\n\\f]|$)"),v(f,function(f){return a.test("string"===typeof f.className&&f.className||"undefined"!==typeof f.getAttribute&&f.getAttribute("class")||"")}))},ATTR:function(f,
h,b){return function(D){D=a.attr(D,f);if(null==D)return"!="===h;if(!h)return!0;D+="";return"="===h?D===b:"!="===h?D!==b:"^="===h?b&&0===D.indexOf(b):"*="===h?b&&-1<D.indexOf(b):"$="===h?b&&D.slice(-b.length)===b:"~="===h?-1<(" "+D.replace(Z," ")+" ").indexOf(b):"|="===h?D===b||D.slice(0,b.length+1)===b+"-":!1}},CHILD:function(f,a,h,b,D){var c="nth"!==f.slice(0,3),d="last"!==f.slice(-4),C="of-type"===a;return 1===b&&0===D?function(f){return!!f.parentNode}:function(a,h,g){var l,k;h=c!==d?"nextSibling":
"previousSibling";var e=a.parentNode,p=C&&a.nodeName.toLowerCase();g=!g&&!C;var A=!1;if(e){if(c){for(;h;){for(l=a;l=l[h];)if(C?l.nodeName.toLowerCase()===p:1===l.nodeType)return!1;var n=h="only"===f&&!n&&"nextSibling"}return!0}n=[d?e.firstChild:e.lastChild];if(d&&g){l=e;var oa=l[R]||(l[R]={});oa=oa[l.uniqueID]||(oa[l.uniqueID]={});A=oa[f]||[];A=(k=A[0]===w&&A[1])&&A[2];for(l=k&&e.childNodes[k];l=++k&&l&&l[h]||(A=k=0)||n.pop();)if(1===l.nodeType&&++A&&l===a){oa[f]=[w,k,A];break}}else if(g&&(l=a,oa=
l[R]||(l[R]={}),oa=oa[l.uniqueID]||(oa[l.uniqueID]={}),A=oa[f]||[],A=k=A[0]===w&&A[1]),!1===A)for(;(l=++k&&l&&l[h]||(A=k=0)||n.pop())&&((C?l.nodeName.toLowerCase()!==p:1!==l.nodeType)||!++A||(g&&(oa=l[R]||(l[R]={}),oa=oa[l.uniqueID]||(oa[l.uniqueID]={}),oa[f]=[w,A]),l!==a)););A-=D;return A===b||0===A%b&&0<=A/b}}},PSEUDO:function(f,h){var D=Ba.pseudos[f]||Ba.setFilters[f.toLowerCase()]||a.error("unsupported pseudo: "+f);if(D[R])return D(h);if(1<D.length){var c=[f,f,"",h];return Ba.setFilters.hasOwnProperty(f.toLowerCase())?
b(function(f,a){for(var b,c=D(f,h),d=c.length;d--;)b=J(f,c[d]),f[b]=!(a[b]=c[d])}):function(f){return D(f,0,c)}}return D}},pseudos:{not:b(function(f){var a=[],h=[],D=Xa(f.replace(V,"$1"));return D[R]?b(function(f,a,h,b){b=D(f,null,b,[]);for(var c=f.length;c--;)if(h=b[c])f[c]=!(a[c]=h)}):function(f,b,c){a[0]=f;D(a,null,c,h);a[0]=null;return!h.pop()}}),has:b(function(f){return function(h){return 0<a(f,h).length}}),contains:b(function(f){f=f.replace(va,aa);return function(a){return-1<(a.textContent||
qc(a)).indexOf(f)}}),lang:b(function(f){qa.test(f||"")||a.error("unsupported lang: "+f);f=f.replace(va,aa).toLowerCase();return function(a){var h;do if(h=X?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang"))return h=h.toLowerCase(),h===f||0===h.indexOf(f+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var h=f.location&&f.location.hash;return h&&h.slice(1)===a.id},root:function(f){return f===ja},focus:function(f){return f===t.activeElement&&(!t.hasFocus||t.hasFocus())&&
!!(f.type||f.href||~f.tabIndex)},enabled:k(!1),disabled:k(!0),checked:function(f){var a=f.nodeName.toLowerCase();return"input"===a&&!!f.checked||"option"===a&&!!f.selected},selected:function(f){f.parentNode&&f.parentNode.selectedIndex;return!0===f.selected},empty:function(f){for(f=f.firstChild;f;f=f.nextSibling)if(6>f.nodeType)return!1;return!0},parent:function(f){return!Ba.pseudos.empty(f)},header:function(f){return xa.test(f.nodeName)},input:function(f){return B.test(f.nodeName)},button:function(f){var a=
f.nodeName.toLowerCase();return"input"===a&&"button"===f.type||"button"===a},text:function(f){var a;return"input"===f.nodeName.toLowerCase()&&"text"===f.type&&(null==(a=f.getAttribute("type"))||"text"===a.toLowerCase())},first:e(function(){return[0]}),last:e(function(f,a){return[a-1]}),eq:e(function(f,a,h){return[0>h?h+a:h]}),even:e(function(f,a){for(var h=0;h<a;h+=2)f.push(h);return f}),odd:e(function(f,a){for(var h=1;h<a;h+=2)f.push(h);return f}),lt:e(function(f,a,h){for(a=0>h?h+a:h>a?a:h;0<=--a;)f.push(a);
return f}),gt:e(function(f,a,h){for(h=0>h?h+a:h;++h<a;)f.push(h);return f})}};Ba.pseudos.nth=Ba.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ba.pseudos[y]=g(y);for(y in{submit:!0,reset:!0})Ba.pseudos[y]=l(y);A.prototype=Ba.filters=Ba.pseudos;Ba.setFilters=new A;var fc=a.tokenize=function(f,h){var b,D,c,d,C;if(d=S[f+" "])return h?0:d.slice(0);d=f;var g=[];for(C=Ba.preFilter;d;){if(!l||(b=ea.exec(d)))b&&(d=d.slice(b[0].length)||d),g.push(D=[]);var l=!1;if(b=P.exec(d))l=b.shift(),
D.push({value:l,type:b[0].replace(V," ")}),d=d.slice(l.length);for(c in Ba.filter)!(b=Ga[c].exec(d))||C[c]&&!(b=C[c](b))||(l=b.shift(),D.push({value:l,type:c,matches:b}),d=d.slice(l.length));if(!l)break}return h?d.length:d?a.error(f):S(f,g).slice(0)};var Xa=a.compile=function(f,a){var h,b=[],D=[],c=$b[f+" "];if(!c){a||(a=fc(f));for(h=a.length;h--;)c=r(a[h]),c[R]?b.push(c):D.push(c);c=$b(f,U(D,b));c.selector=f}return c};var H=a.select=function(f,a,h,b){var D,c,d,C="function"===typeof f&&f,g=!b&&fc(f=
C.selector||f);h=h||[];if(1===g.length){var l=g[0]=g[0].slice(0);if(2<l.length&&"ID"===(c=l[0]).type&&9===a.nodeType&&X&&Ba.relative[l[1].type]){a=(Ba.find.ID(c.matches[0].replace(va,aa),a)||[])[0];if(!a)return h;C&&(a=a.parentNode);f=f.slice(l.shift().value.length)}for(D=Ga.needsContext.test(f)?0:l.length;D--;){c=l[D];if(Ba.relative[d=c.type])break;if(d=Ba.find[d])if(b=d(c.matches[0].replace(va,aa),za.test(l[0].type)&&p(a.parentNode)||a)){l.splice(D,1);f=b.length&&n(l);if(!f)return Y.apply(h,b),
h;break}}}(C||Xa(f,g))(b,a,!X,h,!a||za.test(f)&&p(a.parentNode)||a);return h};wa.sortStable=R.split("").sort(K).join("")===R;wa.detectDuplicates=!!E;ec();wa.sortDetached=c(function(f){return f.compareDocumentPosition(t.createElement("fieldset"))&1});c(function(f){f.innerHTML="<a href='#'></a>";return"#"===f.firstChild.getAttribute("href")})||d("type|href|height|width",function(f,a,h){if(!h)return f.getAttribute(a,"type"===a.toLowerCase()?1:2)});wa.attributes&&c(function(f){f.innerHTML="<input/>";
f.firstChild.setAttribute("value","");return""===f.firstChild.getAttribute("value")})||d("value",function(f,a,h){if(!h&&"input"===f.nodeName.toLowerCase())return f.defaultValue});c(function(f){return null==f.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(f,a,h){var b;if(!h)return!0===f[a]?a.toLowerCase():(b=f.getAttributeNode(a))&&b.specified?b.value:null});return a}(H);w.find=db;w.expr=
db.selectors;w.expr[":"]=w.expr.pseudos;w.uniqueSort=w.unique=db.uniqueSort;w.text=db.getText;w.isXMLDoc=db.isXML;w.contains=db.contains;w.escapeSelector=db.escape;var hb=function(f,a,h){for(var b=[],D=void 0!==h;(f=f[a])&&9!==f.nodeType;)if(1===f.nodeType){if(D&&w(f).is(h))break;b.push(f)}return b},Ea=function(f,a){for(var h=[];f;f=f.nextSibling)1===f.nodeType&&f!==a&&h.push(f);return h},ib=w.expr.match.needsContext,jb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;w.filter=function(f,
a,h){var b=a[0];h&&(f=":not("+f+")");return 1===a.length&&1===b.nodeType?w.find.matchesSelector(b,f)?[b]:[]:w.find.matches(f,w.grep(a,function(f){return 1===f.nodeType}))};w.fn.extend({find:function(f){var a,h=this.length,b=this;if("string"!==typeof f)return this.pushStack(w(f).filter(function(){for(a=0;a<h;a++)if(w.contains(b[a],this))return!0}));var c=this.pushStack([]);for(a=0;a<h;a++)w.find(f,b[a],c);return 1<h?w.uniqueSort(c):c},filter:function(f){return this.pushStack(e(this,f||[],!1))},not:function(f){return this.pushStack(e(this,
f||[],!0))},is:function(f){return!!e(this,"string"===typeof f&&ib.test(f)?w(f):f||[],!1).length}});var Ha=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(f,a,h){if(!f)return this;h=h||gc;if("string"===typeof f){var b="<"===f[0]&&">"===f[f.length-1]&&3<=f.length?[null,f,null]:Ha.exec(f);if(!b||!b[1]&&a)return!a||a.jquery?(a||h).find(f):this.constructor(a).find(f);if(b[1]){if(a=a instanceof w?a[0]:a,w.merge(this,w.parseHTML(b[1],a&&a.nodeType?a.ownerDocument||a:pa,!0)),jb.test(b[1])&&w.isPlainObject(a))for(b in a)if(ra(this[b]))this[b](a[b]);
else this.attr(b,a[b])}else if(f=pa.getElementById(b[2]))this[0]=f,this.length=1;return this}return f.nodeType?(this[0]=f,this.length=1,this):ra(f)?void 0!==h.ready?h.ready(f):f(w):w.makeArray(f,this)}).prototype=w.fn;var gc=w(pa);var Oa=/^(?:parents|prev(?:Until|All))/,hc={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(f){var a=w(f,this),h=a.length;return this.filter(function(){for(var f=0;f<h;f++)if(w.contains(this,a[f]))return!0})},closest:function(f,a){var h,b=0,D=this.length,
c=[],d="string"!==typeof f&&w(f);if(!ib.test(f))for(;b<D;b++)for(h=this[b];h&&h!==a;h=h.parentNode)if(11>h.nodeType&&(d?-1<d.index(h):1===h.nodeType&&w.find.matchesSelector(h,f))){c.push(h);break}return this.pushStack(1<c.length?w.uniqueSort(c):c)},index:function(f){return f?"string"===typeof f?Ab.call(w(f),this[0]):Ab.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,a){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(f,a))))},addBack:function(f){return this.add(null==
f?this.prevObject:this.prevObject.filter(f))}});w.each({parent:function(f){return(f=f.parentNode)&&11!==f.nodeType?f:null},parents:function(f){return hb(f,"parentNode")},parentsUntil:function(f,a,h){return hb(f,"parentNode",h)},next:function(f){return q(f,"nextSibling")},prev:function(f){return q(f,"previousSibling")},nextAll:function(f){return hb(f,"nextSibling")},prevAll:function(f){return hb(f,"previousSibling")},nextUntil:function(f,a,h){return hb(f,"nextSibling",h)},prevUntil:function(f,a,h){return hb(f,
"previousSibling",h)},siblings:function(f){return Ea((f.parentNode||{}).firstChild,f)},children:function(f){return Ea(f.firstChild)},contents:function(f){if("undefined"!==typeof f.contentDocument)return f.contentDocument;c(f,"template")&&(f=f.content||f);return w.merge([],f.childNodes)}},function(f,a){w.fn[f]=function(h,b){var c=w.map(this,a,h);"Until"!==f.slice(-5)&&(b=h);b&&"string"===typeof b&&(c=w.filter(b,c));1<this.length&&(hc[f]||w.uniqueSort(c),Oa.test(f)&&c.reverse());return this.pushStack(c)}});
var $a=/[^\x20\t\r\n\f]+/g;w.Callbacks=function(f){f="string"===typeof f?t(f):w.extend({},f);var a,h,b,c,d=[],C=[],g=-1,l=function(){c=c||f.once;for(b=a=!0;C.length;g=-1)for(h=C.shift();++g<d.length;)!1===d[g].apply(h[0],h[1])&&f.stopOnFalse&&(g=d.length,h=!1);f.memory||(h=!1);a=!1;c&&(d=h?[]:"")},k={add:function(){d&&(h&&!a&&(g=d.length-1,C.push(h)),function zc(a){w.each(a,function(a,h){ra(h)?f.unique&&k.has(h)||d.push(h):h&&h.length&&"string"!==Ka(h)&&zc(h)})}(arguments),h&&!a&&l());return this},
remove:function(){w.each(arguments,function(f,a){for(var h;-1<(h=w.inArray(a,d,h));)d.splice(h,1),h<=g&&g--});return this},has:function(f){return f?-1<w.inArray(f,d):0<d.length},empty:function(){d&&(d=[]);return this},disable:function(){c=C=[];d=h="";return this},disabled:function(){return!d},lock:function(){c=C=[];h||a||(d=h="");return this},locked:function(){return!!c},fireWith:function(f,h){c||(h=h||[],h=[f,h.slice?h.slice():h],C.push(h),a||l());return this},fire:function(){k.fireWith(this,arguments);
return this},fired:function(){return!!b}};return k};w.extend({Deferred:function(f){var a=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],h="pending",b={state:function(){return h},always:function(){c.done(arguments).fail(arguments);return this},"catch":function(f){return b.then(null,f)},pipe:function(){var f=
arguments;return w.Deferred(function(h){w.each(a,function(a,b){var D=ra(f[b[4]])&&f[b[4]];c[b[1]](function(){var f=D&&D.apply(this,arguments);if(f&&ra(f.promise))f.promise().progress(h.notify).done(h.resolve).fail(h.reject);else h[b[0]+"With"](this,D?[f]:arguments)})});f=null}).promise()},then:function(f,h,b){function c(f,a,h,b){return function(){var d=this,C=arguments,g=function(){if(!(f<D)){var g=h.apply(d,C);if(g===a.promise())throw new TypeError("Thenable self-resolution");var l=g&&("object"===
typeof g||"function"===typeof g)&&g.then;ra(l)?b?l.call(g,c(D,a,m,b),c(D,a,k,b)):(D++,l.call(g,c(D,a,m,b),c(D,a,k,b),c(D,a,m,a.notifyWith))):(h!==m&&(d=void 0,C=[g]),(b||a.resolveWith)(d,C))}},l=b?g:function(){try{g()}catch(lc){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(lc,l.stackTrace),f+1>=D&&(h!==k&&(d=void 0,C=[lc]),a.rejectWith(d,C))}};f?l():(w.Deferred.getStackHook&&(l.stackTrace=w.Deferred.getStackHook()),H.setTimeout(l))}}var D=0;return w.Deferred(function(D){a[0][3].add(c(0,D,ra(b)?
b:m,D.notifyWith));a[1][3].add(c(0,D,ra(f)?f:m));a[2][3].add(c(0,D,ra(h)?h:k))}).promise()},promise:function(f){return null!=f?w.extend(f,b):b}},c={};w.each(a,function(f,D){var d=D[2],C=D[5];b[D[1]]=d.add;C&&d.add(function(){h=C},a[3-f][2].disable,a[3-f][3].disable,a[0][2].lock,a[0][3].lock);d.add(D[3].fire);c[D[0]]=function(){c[D[0]+"With"](this===c?void 0:this,arguments);return this};c[D[0]+"With"]=d.fireWith});b.promise(c);f&&f.call(c,c);return c},when:function(f){var a=arguments.length,h=a,b=
Array(h),c=xa.call(arguments),d=w.Deferred(),C=function(f){return function(h){b[f]=this;c[f]=1<arguments.length?xa.call(arguments):h;--a||d.resolveWith(b,c)}};if(1>=a&&(r(f,d.done(C(h)).resolve,d.reject,!a),"pending"===d.state()||ra(c[h]&&c[h].then)))return d.then();for(;h--;)r(c[h],C(h),d.reject);return d.promise()}});var Ja=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(f,a){H.console&&H.console.warn&&f&&Ja.test(f.name)&&H.console.warn("jQuery.Deferred exception: "+
f.message,f.stack,a)};w.readyException=function(f){H.setTimeout(function(){throw f;})};var Ia=w.Deferred();w.fn.ready=function(f){Ia.then(f).catch(function(f){w.readyException(f)});return this};w.extend({isReady:!1,readyWait:1,ready:function(f){(!0===f?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==f&&0<--w.readyWait||Ia.resolveWith(pa,[w]))}});w.ready.then=Ia.then;"complete"===pa.readyState||"loading"!==pa.readyState&&!pa.documentElement.doScroll?H.setTimeout(w.ready):(pa.addEventListener("DOMContentLoaded",
x),H.addEventListener("load",x));var fa=function(f,a,h,b,c,d,C){var D=0,g=f.length,l=null==h;if("object"===Ka(h))for(D in c=!0,h)fa(f,a,D,h[D],!0,d,C);else if(void 0!==b&&(c=!0,ra(b)||(C=!0),l&&(C?(a.call(f,b),a=null):(l=a,a=function(f,a,h){return l.call(w(f),h)})),a))for(;D<g;D++)a(f[D],h,C?b:b.call(f[D],D,a(f[D],h)));return c?f:l?a.call(f):g?a(f[0],h):d},ja=/^-ms-/,Ca=/-([a-z])/g,Ya=function(f){return 1===f.nodeType||9===f.nodeType||!+f.nodeType};n.uid=1;n.prototype={cache:function(f){var a=f[this.expando];
a||(a={},Ya(f)&&(f.nodeType?f[this.expando]=a:Object.defineProperty(f,this.expando,{value:a,configurable:!0})));return a},set:function(f,a,h){var b;f=this.cache(f);if("string"===typeof a)f[v(a)]=h;else for(b in a)f[v(b)]=a[b];return f},get:function(f,a){return void 0===a?this.cache(f):f[this.expando]&&f[this.expando][v(a)]},access:function(f,a,h){if(void 0===a||a&&"string"===typeof a&&void 0===h)return this.get(f,a);this.set(f,a,h);return void 0!==h?h:a},remove:function(f,a){var h,b=f[this.expando];
if(void 0!==b){if(void 0!==a)for(Array.isArray(a)?a=a.map(v):(a=v(a),a=a in b?[a]:a.match($a)||[]),h=a.length;h--;)delete b[a[h]];if(void 0===a||w.isEmptyObject(b))f.nodeType?f[this.expando]=void 0:delete f[this.expando]}},hasData:function(f){f=f[this.expando];return void 0!==f&&!w.isEmptyObject(f)}};var ma=new n,va=new n,wa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xa=/[A-Z]/g;w.extend({hasData:function(f){return va.hasData(f)||ma.hasData(f)},data:function(f,a,h){return va.access(f,a,h)},removeData:function(f,
a){va.remove(f,a)},_data:function(f,a,h){return ma.access(f,a,h)},_removeData:function(f,a){ma.remove(f,a)}});w.fn.extend({data:function(f,a){var h,b=this[0],c=b&&b.attributes;if(void 0===f){if(this.length){var D=va.get(b);if(1===b.nodeType&&!ma.get(b,"hasDataAttrs")){for(h=c.length;h--;)if(c[h]){var C=c[h].name;0===C.indexOf("data-")&&(C=v(C.slice(5)),d(b,C,D[C]))}ma.set(b,"hasDataAttrs",!0)}}return D}return"object"===typeof f?this.each(function(){va.set(this,f)}):fa(this,function(a){if(b&&void 0===
a){var h=va.get(b,f);if(void 0!==h)return h;h=d(b,f);if(void 0!==h)return h}else this.each(function(){va.set(this,f,a)})},null,a,1<arguments.length,null,!0)},removeData:function(f){return this.each(function(){va.remove(this,f)})}});w.extend({queue:function(f,a,h){if(f){a=(a||"fx")+"queue";var b=ma.get(f,a);h&&(!b||Array.isArray(h)?b=ma.access(f,a,w.makeArray(h)):b.push(h));return b||[]}},dequeue:function(f,a){a=a||"fx";var h=w.queue(f,a),b=h.length,c=h.shift(),D=w._queueHooks(f,a),d=function(){w.dequeue(f,
a)};"inprogress"===c&&(c=h.shift(),b--);c&&("fx"===a&&h.unshift("inprogress"),delete D.stop,c.call(f,d,D));!b&&D&&D.empty.fire()},_queueHooks:function(f,a){var h=a+"queueHooks";return ma.get(f,h)||ma.access(f,h,{empty:w.Callbacks("once memory").add(function(){ma.remove(f,[a+"queue",h])})})}});w.fn.extend({queue:function(f,a){var h=2;"string"!==typeof f&&(a=f,f="fx",h--);return arguments.length<h?w.queue(this[0],f):void 0===a?this:this.each(function(){var h=w.queue(this,f,a);w._queueHooks(this,f);
"fx"===f&&"inprogress"!==h[0]&&w.dequeue(this,f)})},dequeue:function(f){return this.each(function(){w.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,a){var h,b=1,c=w.Deferred(),D=this,d=this.length,C=function(){--b||c.resolveWith(D,[D])};"string"!==typeof f&&(a=f,f=void 0);for(f=f||"fx";d--;)(h=ma.get(D[d],f+"queueHooks"))&&h.empty&&(b++,h.empty.add(C));C();return c.promise(a)}});var Wb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ya=new RegExp("^(?:([+-])=|)("+
Wb+")([a-z%]*)$","i"),Qa=["Top","Right","Bottom","Left"],ub=pa.documentElement,pb=function(f){return w.contains(f.ownerDocument,f)},ab={composed:!0};ub.getRootNode&&(pb=function(f){return w.contains(f.ownerDocument,f)||f.getRootNode(ab)===f.ownerDocument});var La=function(f,a){f=a||f;return"none"===f.style.display||""===f.style.display&&pb(f)&&"none"===w.css(f,"display")},Kb=function(f,a,h,b){var c,D={};for(c in a)D[c]=f.style[c],f.style[c]=a[c];h=h.apply(f,b||[]);for(c in a)f.style[c]=D[c];return h},
bb={};w.fn.extend({show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(f){return"boolean"===typeof f?f?this.show():this.hide():this.each(function(){La(this)?w(this).show():w(this).hide()})}});var kb=/^(?:checkbox|radio)$/i,cb=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ra=/^$|^module$|\/(?:java|ecma)script/i,fb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fb.optgroup=fb.option;fb.tbody=fb.tfoot=fb.colgroup=fb.caption=fb.thead;fb.th=fb.td;var Vb=/<|&#?\w+;/;(function(){var f=pa.createDocumentFragment().appendChild(pa.createElement("div")),a=pa.createElement("input");a.setAttribute("type","radio");a.setAttribute("checked","checked");a.setAttribute("name","t");f.appendChild(a);Aa.checkClone=f.cloneNode(!0).cloneNode(!0).lastChild.checked;f.innerHTML="<textarea>x</textarea>";Aa.noCloneChecked=
!!f.cloneNode(!0).lastChild.defaultValue})();var Xb=/^key/,mc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Sb=/^([^.]*)(?:\.(.+)|)/;w.event={global:{},add:function(f,a,h,b,c){var D,d,C,g,l;if(C=ma.get(f)){if(h.handler){var k=h;h=k.handler;c=k.selector}c&&w.find.matchesSelector(ub,c);h.guid||(h.guid=w.guid++);(d=C.events)||(d=C.events={});(D=C.handle)||(D=C.handle=function(a){return"undefined"!==typeof w&&w.event.triggered!==a.type?w.event.dispatch.apply(f,arguments):void 0});a=(a||"").match($a)||
[""];for(C=a.length;C--;){var e=Sb.exec(a[C])||[];var A=g=e[1];var p=(e[2]||"").split(".").sort();A&&(e=w.event.special[A]||{},A=(c?e.delegateType:e.bindType)||A,e=w.event.special[A]||{},g=w.extend({type:A,origType:g,data:b,handler:h,guid:h.guid,selector:c,needsContext:c&&w.expr.match.needsContext.test(c),namespace:p.join(".")},k),(l=d[A])||(l=d[A]=[],l.delegateCount=0,e.setup&&!1!==e.setup.call(f,b,p,D)||f.addEventListener&&f.addEventListener(A,D)),e.add&&(e.add.call(f,g),g.handler.guid||(g.handler.guid=
h.guid)),c?l.splice(l.delegateCount++,0,g):l.push(g),w.event.global[A]=!0)}}},remove:function(f,a,h,b,c){var D,d,C,g,l,k=ma.hasData(f)&&ma.get(f);if(k&&(C=k.events)){a=(a||"").match($a)||[""];for(g=a.length;g--;){var e=Sb.exec(a[g])||[];var A=l=e[1];var p=(e[2]||"").split(".").sort();if(A){var n=w.event.special[A]||{};A=(b?n.delegateType:n.bindType)||A;var N=C[A]||[];e=e[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");for(d=D=N.length;D--;){var r=N[D];!c&&l!==r.origType||h&&h.guid!==r.guid||
e&&!e.test(r.namespace)||b&&b!==r.selector&&("**"!==b||!r.selector)||(N.splice(D,1),r.selector&&N.delegateCount--,n.remove&&n.remove.call(f,r))}d&&!N.length&&(n.teardown&&!1!==n.teardown.call(f,p,k.handle)||w.removeEvent(f,A,k.handle),delete C[A])}else for(A in C)w.event.remove(f,A+a[g],h,b,!0)}w.isEmptyObject(C)&&ma.remove(f,"handle events")}},dispatch:function(f){var a=w.event.fix(f),h,b,c,d=Array(arguments.length);var C=(ma.get(this,"events")||{})[a.type]||[];var g=w.event.special[a.type]||{};
d[0]=a;for(h=1;h<arguments.length;h++)d[h]=arguments[h];a.delegateTarget=this;if(!g.preDispatch||!1!==g.preDispatch.call(this,a)){var l=w.event.handlers.call(this,a,C);for(h=0;(c=l[h++])&&!a.isPropagationStopped();)for(a.currentTarget=c.elem,C=0;(b=c.handlers[C++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||!1===b.namespace||a.rnamespace.test(b.namespace))a.handleObj=b,a.data=b.data,b=((w.event.special[b.origType]||{}).handle||b.handler).apply(c.elem,d),void 0!==b&&!1===(a.result=b)&&
(a.preventDefault(),a.stopPropagation());g.postDispatch&&g.postDispatch.call(this,a);return a.result}},handlers:function(f,a){var h,b=[],c=a.delegateCount,D=f.target;if(c&&D.nodeType&&!("click"===f.type&&1<=f.button))for(;D!==this;D=D.parentNode||this)if(1===D.nodeType&&("click"!==f.type||!0!==D.disabled)){var d=[];var C={};for(h=0;h<c;h++){var g=a[h];var l=g.selector+" ";void 0===C[l]&&(C[l]=g.needsContext?-1<w(l,this).index(D):w.find(l,this,null,[D]).length);C[l]&&d.push(g)}d.length&&b.push({elem:D,
handlers:d})}c<a.length&&b.push({elem:this,handlers:a.slice(c)});return b},addProp:function(f,a){Object.defineProperty(w.Event.prototype,f,{enumerable:!0,configurable:!0,get:ra(a)?function(){if(this.originalEvent)return a(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(a){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},fix:function(f){return f[w.expando]?f:new w.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){f=
this||f;kb.test(f.type)&&f.click&&c(f,"input")&&V(f,"click",y);return!1},trigger:function(f){f=this||f;kb.test(f.type)&&f.click&&c(f,"input")&&V(f,"click");return!0},_default:function(f){f=f.target;return kb.test(f.type)&&f.click&&c(f,"input")&&ma.get(f,"click")||c(f,"a")}},beforeunload:{postDispatch:function(f){void 0!==f.result&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};w.removeEvent=function(f,a,h){f.removeEventListener&&f.removeEventListener(a,h)};w.Event=function(f,a){if(!(this instanceof
w.Event))return new w.Event(f,a);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||void 0===f.defaultPrevented&&!1===f.returnValue?y:R,this.target=f.target&&3===f.target.nodeType?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f;a&&w.extend(this,a);this.timeStamp=f&&f.timeStamp||Date.now();this[w.expando]=!0};w.Event.prototype={constructor:w.Event,isDefaultPrevented:R,isPropagationStopped:R,isImmediatePropagationStopped:R,
isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=y;f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=y;f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=y;f&&!this.isSimulated&&f.stopImmediatePropagation();this.stopPropagation()}};w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,
detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(f){var a=f.button;return null==f.which&&Xb.test(f.type)?null!=f.charCode?f.charCode:f.keyCode:!f.which&&void 0!==a&&mc.test(f.type)?a&1?1:a&2?3:a&4?2:0:f.which}},w.event.addProp);w.each({focus:"focusin",blur:"focusout"},
function(f,a){w.event.special[f]={setup:function(){V(this,f,N);return!1},trigger:function(){V(this,f);return!0},delegateType:a}});w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,a){w.event.special[f]={delegateType:a,bindType:a,handle:function(f){var h=f.relatedTarget,b=f.handleObj;if(!h||h!==this&&!w.contains(this,h)){f.type=b.origType;var c=b.handler.apply(this,arguments);f.type=a}return c}}});w.fn.extend({on:function(f,a,h,b){return p(this,
f,a,h,b)},one:function(f,a,h,b){return p(this,f,a,h,b,1)},off:function(f,a,h){if(f&&f.preventDefault&&f.handleObj){var b=f.handleObj;w(f.delegateTarget).off(b.namespace?b.origType+"."+b.namespace:b.origType,b.selector,b.handler);return this}if("object"===typeof f){for(b in f)this.off(b,a,f[b]);return this}if(!1===a||"function"===typeof a)h=a,a=void 0;!1===h&&(h=R);return this.each(function(){w.event.remove(this,f,h,a)})}});var Yb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
qb=/<script|<style|<link/i,Hb=/checked\s*(?:[^=]|=\s*.checked.)/i,Sa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;w.extend({htmlPrefilter:function(f){return f.replace(Yb,"<$1></$2>")},clone:function(f,a,h){var b,c=f.cloneNode(!0),D=pb(f);if(!(Aa.noCloneChecked||1!==f.nodeType&&11!==f.nodeType||w.isXMLDoc(f))){var d=l(c);var C=l(f);var g=0;for(b=C.length;g<b;g++){var k=C[g],A=d[g],e=A.nodeName.toLowerCase();if("input"===e&&kb.test(k.type))A.checked=k.checked;else if("input"===e||"textarea"===e)A.defaultValue=
k.defaultValue}}if(a)if(h)for(C=C||l(f),d=d||l(c),g=0,b=C.length;g<b;g++)K(C[g],d[g]);else K(f,c);d=l(c,"script");0<d.length&&O(d,!D&&l(f,"script"));return c},cleanData:function(f){for(var a,h,b,c=w.event.special,d=0;void 0!==(h=f[d]);d++)if(Ya(h)){if(a=h[ma.expando]){if(a.events)for(b in a.events)c[b]?w.event.remove(h,b):w.removeEvent(h,b,a.handle);h[ma.expando]=void 0}h[va.expando]&&(h[va.expando]=void 0)}}});w.fn.extend({detach:function(f){return J(this,f,!0)},remove:function(f){return J(this,
f)},text:function(f){return fa(this,function(f){return void 0===f?w.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=f})},null,f,arguments.length)},append:function(){return P(this,arguments,function(f){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||M(this,f).appendChild(f)})},prepend:function(){return P(this,arguments,function(f){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=M(this,f);a.insertBefore(f,
a.firstChild)}})},before:function(){return P(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return P(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,a=0;null!=(f=this[a]);a++)1===f.nodeType&&(w.cleanData(l(f,!1)),f.textContent="");return this},clone:function(f,a){f=null==f?!1:f;a=null==a?f:a;return this.map(function(){return w.clone(this,f,a)})},html:function(f){return fa(this,
function(f){var a=this[0]||{},h=0,b=this.length;if(void 0===f&&1===a.nodeType)return a.innerHTML;if("string"===typeof f&&!qb.test(f)&&!fb[(cb.exec(f)||["",""])[1].toLowerCase()]){f=w.htmlPrefilter(f);try{for(;h<b;h++)a=this[h]||{},1===a.nodeType&&(w.cleanData(l(a,!1)),a.innerHTML=f);a=0}catch(kc){}}a&&this.empty().append(f)},null,f,arguments.length)},replaceWith:function(){var f=[];return P(this,arguments,function(a){var h=this.parentNode;0>w.inArray(this,f)&&(w.cleanData(l(this)),h&&h.replaceChild(a,
this))},f)}});w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,a){w.fn[f]=function(f){for(var h=[],b=w(f),c=b.length-1,d=0;d<=c;d++)f=d===c?this:this.clone(!0),w(b[d])[a](f),Pb.apply(h,f.get());return this.pushStack(h)}});var tb=new RegExp("^("+Wb+")(?!px)[a-z%]+$","i"),mb=function(f){var a=f.ownerDocument.defaultView;a&&a.opener||(a=H);return a.getComputedStyle(f)},ta=new RegExp(Qa.join("|"),"i");(function(){function f(){if(g){C.style.cssText=
"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";g.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";ub.appendChild(C).appendChild(g);var f=H.getComputedStyle(g);a="1%"!==f.top;d=12===Math.round(parseFloat(f.marginLeft));g.style.right="60%";c=36===Math.round(parseFloat(f.right));h=36===Math.round(parseFloat(f.width));g.style.position="absolute";b=12===Math.round(parseFloat(g.offsetWidth/
3));ub.removeChild(C);g=null}}var a,h,b,c,d,C=pa.createElement("div"),g=pa.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Aa.clearCloneStyle="content-box"===g.style.backgroundClip,w.extend(Aa,{boxSizingReliable:function(){f();return h},pixelBoxStyles:function(){f();return c},pixelPosition:function(){f();return a},reliableMarginLeft:function(){f();return d},scrollboxSize:function(){f();return b}}))})();var cc=["Webkit","Moz","ms"],Ma=pa.createElement("div").style,
Ob={},Bb=/^(none|table(?!-c[ea]).+)/,Va=/^--/,nc={position:"absolute",visibility:"hidden",display:"block"},Rb={letterSpacing:"0",fontWeight:"400"};w.extend({cssHooks:{opacity:{get:function(f,a){if(a)return f=qa(f,"opacity"),""===f?"1":f}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,
zIndex:!0,zoom:!0},cssProps:{},style:function(f,a,h,b){if(f&&3!==f.nodeType&&8!==f.nodeType&&f.style){var c,d=v(a),D=Va.test(a),C=f.style;D||(a=U(d));var l=w.cssHooks[a]||w.cssHooks[d];if(void 0!==h){var k=typeof h;"string"===k&&(c=ya.exec(h))&&c[1]&&(h=g(f,a,c),k="number");null!=h&&h===h&&("number"!==k||D||(h+=c&&c[3]||(w.cssNumber[d]?"":"px")),Aa.clearCloneStyle||""!==h||0!==a.indexOf("background")||(C[a]="inherit"),l&&"set"in l&&void 0===(h=l.set(f,h,b))||(D?C.setProperty(a,h):C[a]=h))}else return l&&
"get"in l&&void 0!==(c=l.get(f,!1,b))?c:C[a]}},css:function(f,a,h,b){var c;var d=v(a);Va.test(a)||(a=U(d));(d=w.cssHooks[a]||w.cssHooks[d])&&"get"in d&&(c=d.get(f,!0,h));void 0===c&&(c=qa(f,a,b));"normal"===c&&a in Rb&&(c=Rb[a]);return""===h||h?(f=parseFloat(c),!0===h||isFinite(f)?f||0:c):c}});w.each(["height","width"],function(f,a){w.cssHooks[a]={get:function(f,h,b){if(h)return!Bb.test(w.css(f,"display"))||f.getClientRects().length&&f.getBoundingClientRect().width?L(f,a,b):Kb(f,nc,function(){return L(f,
a,b)})},set:function(f,h,b){var c,d=mb(f),D=!Aa.scrollboxSize()&&"absolute"===d.position,C=(D||b)&&"border-box"===w.css(f,"boxSizing",!1,d);b=b?W(f,a,b,C,d):0;C&&D&&(b-=Math.ceil(f["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(d[a])-W(f,a,"border",!1,d)-.5));b&&(c=ya.exec(h))&&"px"!==(c[3]||"px")&&(f.style[a]=h,h=w.css(f,a));return X(f,h,b)}}});w.cssHooks.marginLeft=Ga(Aa.reliableMarginLeft,function(f,a){if(a)return(parseFloat(qa(f,"marginLeft"))||f.getBoundingClientRect().left-Kb(f,{marginLeft:0},
function(){return f.getBoundingClientRect().left}))+"px"});w.each({margin:"",padding:"",border:"Width"},function(f,a){w.cssHooks[f+a]={expand:function(h){var b=0,c={};for(h="string"===typeof h?h.split(" "):[h];4>b;b++)c[f+Qa[b]+a]=h[b]||h[b-2]||h[0];return c}};"margin"!==f&&(w.cssHooks[f+a].set=X)});w.fn.extend({css:function(f,a){return fa(this,function(f,a,h){var b,c={},d=0;if(Array.isArray(a)){h=mb(f);for(b=a.length;d<b;d++)c[a[d]]=w.css(f,a[d],!1,h);return c}return void 0!==h?w.style(f,a,h):w.css(f,
a)},f,a,1<arguments.length)}});w.Tween=A;A.prototype={constructor:A,init:function(f,a,h,b,c,d){this.elem=f;this.prop=h;this.easing=c||w.easing._default;this.options=a;this.start=this.now=this.cur();this.end=b;this.unit=d||(w.cssNumber[h]?"":"px")},cur:function(){var f=A.propHooks[this.prop];return f&&f.get?f.get(this):A.propHooks._default.get(this)},run:function(f){var a,h=A.propHooks[this.prop];this.pos=this.options.duration?a=w.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):
a=f;this.now=(this.end-this.start)*a+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);h&&h.set?h.set(this):A.propHooks._default.set(this);return this}};A.prototype.init.prototype=A.prototype;A.propHooks={_default:{get:function(f){return 1!==f.elem.nodeType||null!=f.elem[f.prop]&&null==f.elem.style[f.prop]?f.elem[f.prop]:(f=w.css(f.elem,f.prop,""))&&"auto"!==f?f:0},set:function(f){if(w.fx.step[f.prop])w.fx.step[f.prop](f);else 1!==f.elem.nodeType||!w.cssHooks[f.prop]&&
null==f.elem.style[U(f.prop)]?f.elem[f.prop]=f.now:w.style(f.elem,f.prop,f.now+f.unit)}}};A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}};w.easing={linear:function(f){return f},swing:function(f){return.5-Math.cos(f*Math.PI)/2},_default:"swing"};w.fx=A.prototype.init;w.fx.step={};var gb,Ta,Wa=/^(?:toggle|show|hide)$/,Pa=/queueHooks$/;w.Animation=w.extend(Z,{tweeners:{"*":[function(f,a){var h=this.createTween(f,a);g(h.elem,f,
ya.exec(a),h);return h}]},tweener:function(f,a){ra(f)?(a=f,f=["*"]):f=f.match($a);for(var h,b=0,c=f.length;b<c;b++)h=f[b],Z.tweeners[h]=Z.tweeners[h]||[],Z.tweeners[h].unshift(a)},prefilters:[function(f,a,h){var b;var c="width"in a||"height"in a;var d=this,C={},D=f.style,g=f.nodeType&&La(f),l=ma.get(f,"fxshow");if(!h.queue){var k=w._queueHooks(f,"fx");if(null==k.unqueued){k.unqueued=0;var A=k.empty.fire;k.empty.fire=function(){k.unqueued||A()}}k.unqueued++;d.always(function(){d.always(function(){k.unqueued--;
w.queue(f,"fx").length||k.empty.fire()})})}for(b in a){var e=a[b];if(Wa.test(e)){delete a[b];var p=p||"toggle"===e;if(e===(g?"hide":"show"))if("show"===e&&l&&void 0!==l[b])g=!0;else continue;C[b]=l&&l[b]||w.style(f,b)}}if((a=!w.isEmptyObject(a))||!w.isEmptyObject(C)){if(c&&1===f.nodeType){h.overflow=[D.overflow,D.overflowX,D.overflowY];var n=l&&l.display;null==n&&(n=ma.get(f,"display"));c=w.css(f,"display");"none"===c&&(n?c=n:(E([f],!0),n=f.style.display||n,c=w.css(f,"display"),E([f])));("inline"===
c||"inline-block"===c&&null!=n)&&"none"===w.css(f,"float")&&(a||(d.done(function(){D.display=n}),null==n&&(c=D.display,n="none"===c?"":c)),D.display="inline-block")}h.overflow&&(D.overflow="hidden",d.always(function(){D.overflow=h.overflow[0];D.overflowX=h.overflow[1];D.overflowY=h.overflow[2]}));a=!1;for(b in C)a||(l?"hidden"in l&&(g=l.hidden):l=ma.access(f,"fxshow",{display:n}),p&&(l.hidden=!g),g&&E([f],!0),d.done(function(){g||E([f]);ma.remove(f,"fxshow");for(b in C)w.style(f,b,C[b])})),a=sa(g?
l[b]:0,b,d),b in l||(l[b]=a.start,g&&(a.end=a.start,a.start=0))}}],prefilter:function(f,a){a?Z.prefilters.unshift(f):Z.prefilters.push(f)}});w.speed=function(f,a,h){var b=f&&"object"===typeof f?w.extend({},f):{complete:h||!h&&a||ra(f)&&f,duration:f,easing:h&&a||a&&!ra(a)&&a};w.fx.off?b.duration=0:"number"!==typeof b.duration&&(b.duration=b.duration in w.fx.speeds?w.fx.speeds[b.duration]:w.fx.speeds._default);if(null==b.queue||!0===b.queue)b.queue="fx";b.old=b.complete;b.complete=function(){ra(b.old)&&
b.old.call(this);b.queue&&w.dequeue(this,b.queue)};return b};w.fn.extend({fadeTo:function(f,a,h,b){return this.filter(La).css("opacity",0).show().end().animate({opacity:a},f,h,b)},animate:function(f,a,h,b){var c=w.isEmptyObject(f),d=w.speed(a,h,b);a=function(){var a=Z(this,w.extend({},f),d);(c||ma.get(this,"finish"))&&a.stop(!0)};a.finish=a;return c||!1===d.queue?this.each(a):this.queue(d.queue,a)},stop:function(f,a,h){var b=function(f){var a=f.stop;delete f.stop;a(h)};"string"!==typeof f&&(h=a,a=
f,f=void 0);a&&!1!==f&&this.queue(f||"fx",[]);return this.each(function(){var a=!0,c=null!=f&&f+"queueHooks",d=w.timers,C=ma.get(this);if(c)C[c]&&C[c].stop&&b(C[c]);else for(c in C)C[c]&&C[c].stop&&Pa.test(c)&&b(C[c]);for(c=d.length;c--;)d[c].elem!==this||null!=f&&d[c].queue!==f||(d[c].anim.stop(h),a=!1,d.splice(c,1));!a&&h||w.dequeue(this,f)})},finish:function(f){!1!==f&&(f=f||"fx");return this.each(function(){var a=ma.get(this),h=a[f+"queue"];var b=a[f+"queueHooks"];var c=w.timers,d=h?h.length:
0;a.finish=!0;w.queue(this,f,[]);b&&b.stop&&b.stop.call(this,!0);for(b=c.length;b--;)c[b].elem===this&&c[b].queue===f&&(c[b].anim.stop(!0),c.splice(b,1));for(b=0;b<d;b++)h[b]&&h[b].finish&&h[b].finish.call(this);delete a.finish})}});w.each(["toggle","show","hide"],function(f,a){var h=w.fn[a];w.fn[a]=function(f,b,c){return null==f||"boolean"===typeof f?h.apply(this,arguments):this.animate(S(a,!0),f,b,c)}});w.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,a){w.fn[f]=function(f,h,b){return this.animate(a,f,h,b)}});w.timers=[];w.fx.tick=function(){var f=0,a=w.timers;for(gb=Date.now();f<a.length;f++){var h=a[f];h()||a[f]!==h||a.splice(f--,1)}a.length||w.fx.stop();gb=void 0};w.fx.timer=function(f){w.timers.push(f);w.fx.start()};w.fx.interval=13;w.fx.start=function(){Ta||(Ta=!0,F())};w.fx.stop=function(){Ta=null};w.fx.speeds={slow:600,fast:200,_default:400};w.fn.delay=function(f,a){f=w.fx?
w.fx.speeds[f]||f:f;return this.queue(a||"fx",function(a,h){var b=H.setTimeout(a,f);h.stop=function(){H.clearTimeout(b)}})};(function(){var f=pa.createElement("input"),a=pa.createElement("select").appendChild(pa.createElement("option"));f.type="checkbox";Aa.checkOn=""!==f.value;Aa.optSelected=a.selected;f=pa.createElement("input");f.value="t";f.type="radio";Aa.radioValue="t"===f.value})();var Lb=w.expr.attrHandle;w.fn.extend({attr:function(f,a){return fa(this,w.attr,f,a,1<arguments.length)},removeAttr:function(f){return this.each(function(){w.removeAttr(this,
f)})}});w.extend({attr:function(f,a,h){var b,c,d=f.nodeType;if(3!==d&&8!==d&&2!==d){if("undefined"===typeof f.getAttribute)return w.prop(f,a,h);1===d&&w.isXMLDoc(f)||(c=w.attrHooks[a.toLowerCase()]||(w.expr.match.bool.test(a)?vb:void 0));if(void 0!==h){if(null===h){w.removeAttr(f,a);return}if(c&&"set"in c&&void 0!==(b=c.set(f,h,a)))return b;f.setAttribute(a,h+"");return h}if(c&&"get"in c&&null!==(b=c.get(f,a)))return b;b=w.find.attr(f,a);return null==b?void 0:b}},attrHooks:{type:{set:function(f,a){if(!Aa.radioValue&&
"radio"===a&&c(f,"input")){var h=f.value;f.setAttribute("type",a);h&&(f.value=h);return a}}}},removeAttr:function(f,a){var h=0,b=a&&a.match($a);if(b&&1===f.nodeType)for(;a=b[h++];)f.removeAttribute(a)}});var vb={set:function(f,a,h){!1===a?w.removeAttr(f,h):f.setAttribute(h,h);return h}};w.each(w.expr.match.bool.source.match(/\w+/g),function(f,a){var h=Lb[a]||w.find.attr;Lb[a]=function(f,a,b){var c=a.toLowerCase();if(!b){var d=Lb[c];Lb[c]=C;var C=null!=h(f,a,b)?c:null;Lb[c]=d}return C}});var Ua=/^(?:input|select|textarea|button)$/i,
nb=/^(?:a|area)$/i;w.fn.extend({prop:function(f,a){return fa(this,w.prop,f,a,1<arguments.length)},removeProp:function(f){return this.each(function(){delete this[w.propFix[f]||f]})}});w.extend({prop:function(f,a,h){var b,c=f.nodeType;if(3!==c&&8!==c&&2!==c){if(1!==c||!w.isXMLDoc(f)){a=w.propFix[a]||a;var d=w.propHooks[a]}return void 0!==h?d&&"set"in d&&void 0!==(b=d.set(f,h,a))?b:f[a]=h:d&&"get"in d&&null!==(b=d.get(f,a))?b:f[a]}},propHooks:{tabIndex:{get:function(a){var f=w.find.attr(a,"tabindex");
return f?parseInt(f,10):Ua.test(a.nodeName)||nb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Aa.optSelected||(w.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});w.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){w.propFix[this.toLowerCase()]=
this});w.fn.extend({addClass:function(a){var f,h,b,c,d=0;if(ra(a))return this.each(function(f){w(this).addClass(a.call(this,f,na(this)))});var C=ka(a);if(C.length)for(;f=this[d++];){var g=na(f);if(h=1===f.nodeType&&" "+Y(g)+" "){for(c=0;b=C[c++];)0>h.indexOf(" "+b+" ")&&(h+=b+" ");h=Y(h);g!==h&&f.setAttribute("class",h)}}return this},removeClass:function(a){var f,h,b,c,d=0;if(ra(a))return this.each(function(f){w(this).removeClass(a.call(this,f,na(this)))});if(!arguments.length)return this.attr("class",
"");var C=ka(a);if(C.length)for(;f=this[d++];){var g=na(f);if(h=1===f.nodeType&&" "+Y(g)+" "){for(c=0;b=C[c++];)for(;-1<h.indexOf(" "+b+" ");)h=h.replace(" "+b+" "," ");h=Y(h);g!==h&&f.setAttribute("class",h)}}return this},toggleClass:function(a,h){var f=typeof a,b="string"===f||Array.isArray(a);return"boolean"===typeof h&&b?h?this.addClass(a):this.removeClass(a):ra(a)?this.each(function(f){w(this).toggleClass(a.call(this,f,na(this),h),h)}):this.each(function(){var h,c;if(b){var d=0;var C=w(this);
for(c=ka(a);h=c[d++];)C.hasClass(h)?C.removeClass(h):C.addClass(h)}else if(void 0===a||"boolean"===f)(h=na(this))&&ma.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||!1===a?"":ma.get(this,"__className__")||"")})},hasClass:function(a){var f,h=0;for(a=" "+a+" ";f=this[h++];)if(1===f.nodeType&&-1<(" "+Y(na(f))+" ").indexOf(a))return!0;return!1}});var ic=/\r/g;w.fn.extend({val:function(a){var f,h,b=this[0];if(arguments.length){var c=ra(a);return this.each(function(h){1===this.nodeType&&
(h=c?a.call(this,h,w(this).val()):a,null==h?h="":"number"===typeof h?h+="":Array.isArray(h)&&(h=w.map(h,function(a){return null==a?"":a+""})),f=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()],f&&"set"in f&&void 0!==f.set(this,h,"value")||(this.value=h))})}if(b){if((f=w.valHooks[b.type]||w.valHooks[b.nodeName.toLowerCase()])&&"get"in f&&void 0!==(h=f.get(b,"value")))return h;h=b.value;return"string"===typeof h?h.replace(ic,""):null==h?"":h}}});w.extend({valHooks:{option:{get:function(a){var f=
w.find.attr(a,"value");return null!=f?f:Y(w.text(a))}},select:{get:function(a){var f=a.options,h=a.selectedIndex,b="select-one"===a.type,d=b?null:[],C=b?h+1:f.length;for(a=0>h?C:b?h:0;a<C;a++){var g=f[a];if(!(!g.selected&&a!==h||g.disabled||g.parentNode.disabled&&c(g.parentNode,"optgroup"))){g=w(g).val();if(b)return g;d.push(g)}}return d},set:function(a,h){for(var f,b=a.options,c=w.makeArray(h),d=b.length;d--;)if(h=b[d],h.selected=-1<w.inArray(w.valHooks.option.get(h),c))f=!0;f||(a.selectedIndex=
-1);return c}}}});w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(a,h){if(Array.isArray(h))return a.checked=-1<w.inArray(w(a).val(),h)}};Aa.checkOn||(w.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});Aa.focusin="onfocusin"in H;var oc=/^(?:focusinfocus|focusoutblur)$/,jc=function(a){a.stopPropagation()};w.extend(w.event,{trigger:function(a,h,b,c){var f,d,C,g=[b||pa],l=ua.call(a,"type")?a.type:a;var D=ua.call(a,"namespace")?a.namespace.split("."):
[];var k=C=f=b=b||pa;if(3!==b.nodeType&&8!==b.nodeType&&!oc.test(l+w.event.triggered)){-1<l.indexOf(".")&&(D=l.split("."),l=D.shift(),D.sort());var e=0>l.indexOf(":")&&"on"+l;a=a[w.expando]?a:new w.Event(l,"object"===typeof a&&a);a.isTrigger=c?2:3;a.namespace=D.join(".");a.rnamespace=a.namespace?new RegExp("(^|\\.)"+D.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;a.result=void 0;a.target||(a.target=b);h=null==h?[a]:w.makeArray(h,[a]);D=w.event.special[l]||{};if(c||!D.trigger||!1!==D.trigger.apply(b,h)){if(!c&&
!D.noBubble&&!Eb(b)){var A=D.delegateType||l;oc.test(A+l)||(k=k.parentNode);for(;k;k=k.parentNode)g.push(k),f=k;f===(b.ownerDocument||pa)&&g.push(f.defaultView||f.parentWindow||H)}for(f=0;(k=g[f++])&&!a.isPropagationStopped();)C=k,a.type=1<f?A:D.bindType||l,(d=(ma.get(k,"events")||{})[a.type]&&ma.get(k,"handle"))&&d.apply(k,h),(d=e&&k[e])&&d.apply&&Ya(k)&&(a.result=d.apply(k,h),!1===a.result&&a.preventDefault());a.type=l;c||a.isDefaultPrevented()||D._default&&!1!==D._default.apply(g.pop(),h)||!Ya(b)||
!e||!ra(b[l])||Eb(b)||((f=b[e])&&(b[e]=null),w.event.triggered=l,a.isPropagationStopped()&&C.addEventListener(l,jc),b[l](),a.isPropagationStopped()&&C.removeEventListener(l,jc),w.event.triggered=void 0,f&&(b[e]=f));return a.result}}},simulate:function(a,h,b){a=w.extend(new w.Event,b,{type:a,isSimulated:!0});w.event.trigger(a,null,h)}});w.fn.extend({trigger:function(a,h){return this.each(function(){w.event.trigger(a,h,this)})},triggerHandler:function(a,h){var f=this[0];if(f)return w.event.trigger(a,
h,f,!0)}});Aa.focusin||w.each({focus:"focusin",blur:"focusout"},function(a,h){var f=function(a){w.event.simulate(h,a.target,w.event.fix(a))};w.event.special[h]={setup:function(){var b=this.ownerDocument||this,c=ma.access(b,h);c||b.addEventListener(a,f,!0);ma.access(b,h,(c||0)+1)},teardown:function(){var b=this.ownerDocument||this,c=ma.access(b,h)-1;c?ma.access(b,h,c):(b.removeEventListener(a,f,!0),ma.remove(b,h))}}});var Tb=H.location,Cb=Date.now(),wb=/\?/;w.parseXML=function(a){if(!a||"string"!==
typeof a)return null;try{var f=(new H.DOMParser).parseFromString(a,"text/xml")}catch(oa){f=void 0}f&&!f.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+a);return f};var Da=/\[\]$/,eb=/\r?\n/g,lb=/^(?:submit|button|image|reset|file)$/i,rb=/^(?:input|select|textarea|keygen)/i;w.param=function(a,h){var f,b=[],c=function(a,f){f=ra(f)?f():f;b[b.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==f?"":f)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!w.isPlainObject(a))w.each(a,
function(){c(this.name,this.value)});else for(f in a)za(f,a[f],h,c);return b.join("&")};w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=w.prop(this,"elements");return a?w.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!w(this).is(":disabled")&&rb.test(this.nodeName)&&!lb.test(a)&&(this.checked||!kb.test(a))}).map(function(a,h){a=w(this).val();return null==a?null:Array.isArray(a)?w.map(a,function(a){return{name:h.name,
value:a.replace(eb,"\r\n")}}):{name:h.name,value:a.replace(eb,"\r\n")}}).get()}});var sb=/%20/g,Mb=/#.*$/,xb=/([?&])_=[^&]*/,Zb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ub=/^(?:GET|HEAD)$/,pc=/^\/\//,yb={},Fb={},Ib="*/".concat("*"),Gb=pa.createElement("a");Gb.href=Tb.href;w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tb.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":Ib,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,h){return h?aa(aa(a,w.ajaxSettings),h):aa(w.ajaxSettings,a)},ajaxPrefilter:ha(yb),ajaxTransport:ha(Fb),
ajax:function(a,h){function f(a,f,h,d){var l=f;if(!U){U=!0;C&&H.clearTimeout(C);b=void 0;c=d||"";F.readyState=0<a?4:0;d=200<=a&&300>a||304===a;if(h){var r=k;for(var N=F,L,y,q,u,t=r.contents,E=r.dataTypes;"*"===E[0];)E.shift(),void 0===L&&(L=r.mimeType||N.getResponseHeader("Content-Type"));if(L)for(y in t)if(t[y]&&t[y].test(L)){E.unshift(y);break}if(E[0]in h)q=E[0];else{for(y in h){if(!E[0]||r.converters[y+" "+E[0]]){q=y;break}u||(u=y)}q=q||u}q?(q!==E[0]&&E.unshift(q),r=h[q]):r=void 0}a:{h=k;L=r;y=
F;q=d;var ja;N={};t=h.dataTypes.slice();if(t[1])for(X in h.converters)N[X.toLowerCase()]=h.converters[X];for(u=t.shift();u;){h.responseFields[u]&&(y[h.responseFields[u]]=L);!x&&q&&h.dataFilter&&(L=h.dataFilter(L,h.dataType));var x=u;if(u=t.shift())if("*"===u)u=x;else if("*"!==x&&x!==u){var X=N[x+" "+u]||N["* "+u];if(!X)for(ja in N)if(r=ja.split(" "),r[1]===u&&(X=N[x+" "+r[0]]||N["* "+r[0]])){!0===X?X=N[ja]:!0!==N[ja]&&(u=r[0],t.unshift(r[1]));break}if(!0!==X)if(X&&h.throws)L=X(L);else try{L=X(L)}catch(tc){r=
{state:"parsererror",error:X?tc:"No conversion from "+x+" to "+u};break a}}}r={state:"success",data:L}}if(d)if(k.ifModified&&((l=F.getResponseHeader("Last-Modified"))&&(w.lastModified[m]=l),(l=F.getResponseHeader("etag"))&&(w.etag[m]=l)),204===a||"HEAD"===k.type)l="nocontent";else if(304===a)l="notmodified";else{l=r.state;var ob=r.data;var O=r.error;d=!O}else if(O=l,a||!l)l="error",0>a&&(a=0);F.status=a;F.statusText=(f||l)+"";d?A.resolveWith(D,[ob,l,F]):A.rejectWith(D,[F,l,O]);F.statusCode(n);n=void 0;
g&&e.trigger(d?"ajaxSuccess":"ajaxError",[F,k,d?ob:O]);p.fireWith(D,[F,l]);g&&(e.trigger("ajaxComplete",[F,k]),--w.active||w.event.trigger("ajaxStop"))}}"object"===typeof a&&(h=a,a=void 0);h=h||{};var b,c,d,C,g,l,k=w.ajaxSetup({},h),D=k.context||k,e=k.context&&(D.nodeType||D.jquery)?w(D):w.event,A=w.Deferred(),p=w.Callbacks("once memory"),n=k.statusCode||{},r={},N={},L="canceled",F={readyState:0,getResponseHeader:function(a){var f;if(U){if(!d)for(d={};f=Zb.exec(c);)d[f[1].toLowerCase()+" "]=(d[f[1].toLowerCase()+
" "]||[]).concat(f[2]);f=d[a.toLowerCase()+" "]}return null==f?null:f.join(", ")},getAllResponseHeaders:function(){return U?c:null},setRequestHeader:function(a,f){null==U&&(a=N[a.toLowerCase()]=N[a.toLowerCase()]||a,r[a]=f);return this},overrideMimeType:function(a){null==U&&(k.mimeType=a);return this},statusCode:function(a){var f;if(a)if(U)F.always(a[F.status]);else for(f in a)n[f]=[n[f],a[f]];return this},abort:function(a){a=a||L;b&&b.abort(a);f(0,a);return this}};A.promise(F);k.url=((a||k.url||
Tb.href)+"").replace(pc,Tb.protocol+"//");k.type=h.method||h.type||k.method||k.type;k.dataTypes=(k.dataType||"*").toLowerCase().match($a)||[""];if(null==k.crossDomain){a=pa.createElement("a");try{a.href=k.url,a.href=a.href,k.crossDomain=Gb.protocol+"//"+Gb.host!==a.protocol+"//"+a.host}catch(sc){k.crossDomain=!0}}k.data&&k.processData&&"string"!==typeof k.data&&(k.data=w.param(k.data,k.traditional));da(yb,k,h,F);if(U)return F;(g=w.event&&k.global)&&0===w.active++&&w.event.trigger("ajaxStart");k.type=
k.type.toUpperCase();k.hasContent=!Ub.test(k.type);var m=k.url.replace(Mb,"");k.hasContent?k.data&&k.processData&&0===(k.contentType||"").indexOf("application/x-www-form-urlencoded")&&(k.data=k.data.replace(sb,"+")):(a=k.url.slice(m.length),k.data&&(k.processData||"string"===typeof k.data)&&(m+=(wb.test(m)?"&":"?")+k.data,delete k.data),!1===k.cache&&(m=m.replace(xb,"$1"),a=(wb.test(m)?"&":"?")+"_="+Cb++ +a),k.url=m+a);k.ifModified&&(w.lastModified[m]&&F.setRequestHeader("If-Modified-Since",w.lastModified[m]),
w.etag[m]&&F.setRequestHeader("If-None-Match",w.etag[m]));(k.data&&k.hasContent&&!1!==k.contentType||h.contentType)&&F.setRequestHeader("Content-Type",k.contentType);F.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Ib+"; q=0.01":""):k.accepts["*"]);for(l in k.headers)F.setRequestHeader(l,k.headers[l]);if(k.beforeSend&&(!1===k.beforeSend.call(D,F,k)||U))return F.abort();L="abort";p.add(k.complete);F.done(k.success);F.fail(k.error);
if(b=da(Fb,k,h,F)){F.readyState=1;g&&e.trigger("ajaxSend",[F,k]);if(U)return F;k.async&&0<k.timeout&&(C=H.setTimeout(function(){F.abort("timeout")},k.timeout));try{var U=!1;b.send(r,f)}catch(sc){if(U)throw sc;f(-1,sc)}}else f(-1,"No Transport");return F},getJSON:function(a,h,b){return w.get(a,h,b,"json")},getScript:function(a,h){return w.get(a,void 0,h,"script")}});w.each(["get","post"],function(a,h){w[h]=function(a,f,b,c){ra(f)&&(c=c||b,b=f,f=void 0);return w.ajax(w.extend({url:a,type:h,dataType:c,
data:f,success:b},w.isPlainObject(a)&&a))}});w._evalUrl=function(a,h){return w.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){w.globalEval(a,h)}})};w.fn.extend({wrapAll:function(a){this[0]&&(ra(a)&&(a=a.call(this[0])),a=w(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},
wrapInner:function(a){return ra(a)?this.each(function(f){w(this).wrapInner(a.call(this,f))}):this.each(function(){var f=w(this),h=f.contents();h.length?h.wrapAll(a):f.append(a)})},wrap:function(a){var f=ra(a);return this.each(function(h){w(this).wrapAll(f?a.call(this,h):a)})},unwrap:function(a){this.parent(a).not("body").each(function(){w(this).replaceWith(this.childNodes)});return this}});w.expr.pseudos.hidden=function(a){return!w.expr.pseudos.visible(a)};w.expr.pseudos.visible=function(a){return!!(a.offsetWidth||
a.offsetHeight||a.getClientRects().length)};w.ajaxSettings.xhr=function(){try{return new H.XMLHttpRequest}catch(f){}};var Db={0:200,1223:204},Jb=w.ajaxSettings.xhr();Aa.cors=!!Jb&&"withCredentials"in Jb;Aa.ajax=Jb=!!Jb;w.ajaxTransport(function(a){var f,h;if(Aa.cors||Jb&&!a.crossDomain)return{send:function(b,c){var d,C=a.xhr();C.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(d in a.xhrFields)C[d]=a.xhrFields[d];a.mimeType&&C.overrideMimeType&&C.overrideMimeType(a.mimeType);a.crossDomain||
b["X-Requested-With"]||(b["X-Requested-With"]="XMLHttpRequest");for(d in b)C.setRequestHeader(d,b[d]);f=function(a){return function(){f&&(f=h=C.onload=C.onerror=C.onabort=C.ontimeout=C.onreadystatechange=null,"abort"===a?C.abort():"error"===a?"number"!==typeof C.status?c(0,"error"):c(C.status,C.statusText):c(Db[C.status]||C.status,C.statusText,"text"!==(C.responseType||"text")||"string"!==typeof C.responseText?{binary:C.response}:{text:C.responseText},C.getAllResponseHeaders()))}};C.onload=f();h=
C.onerror=C.ontimeout=f("error");void 0!==C.onabort?C.onabort=h:C.onreadystatechange=function(){4===C.readyState&&H.setTimeout(function(){f&&h()})};f=f("abort");try{C.send(a.hasContent&&a.data||null)}catch(xc){if(f)throw xc;}},abort:function(){f&&f()}}});w.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){w.globalEval(a);
return a}}});w.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});w.ajaxTransport("script",function(a){if(a.crossDomain||a.scriptAttrs){var f,h;return{send:function(b,c){f=w("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",h=function(a){f.remove();h=null;a&&c("error"===a.type?404:200,a.type)});pa.head.appendChild(f[0])},abort:function(){h&&h()}}}});var h=[],C=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var a=h.pop()||w.expando+"_"+Cb++;this[a]=!0;return a}});w.ajaxPrefilter("json jsonp",function(a,b,c){var f,d=!1!==a.jsonp&&(C.test(a.url)?"url":"string"===typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&C.test(a.data)&&"data");if(d||"jsonp"===a.dataTypes[0]){var g=a.jsonpCallback=ra(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;d?a[d]=a[d].replace(C,"$1"+g):!1!==a.jsonp&&(a.url+=(wb.test(a.url)?"&":"?")+a.jsonp+"="+g);a.converters["script json"]=
function(){f||w.error(g+" was not called");return f[0]};a.dataTypes[0]="json";var l=H[g];H[g]=function(){f=arguments};c.always(function(){void 0===l?w(H).removeProp(g):H[g]=l;a[g]&&(a.jsonpCallback=b.jsonpCallback,h.push(g));f&&ra(l)&&l(f[0]);f=l=void 0});return"script"}});Aa.createHTMLDocument=function(){var a=pa.implementation.createHTMLDocument("").body;a.innerHTML="<form></form><form></form>";return 2===a.childNodes.length}();w.parseHTML=function(a,h,b){if("string"!==typeof a)return[];"boolean"===
typeof h&&(b=h,h=!1);if(!h)if(Aa.createHTMLDocument){h=pa.implementation.createHTMLDocument("");var f=h.createElement("base");f.href=pa.location.href;h.head.appendChild(f)}else h=pa;f=jb.exec(a);b=!b&&[];if(f)return[h.createElement(f[1])];f=G([a],h,b);b&&b.length&&w(b).remove();return w.merge([],f.childNodes)};w.fn.load=function(a,h,b){var f,c,d=this,C=a.indexOf(" ");if(-1<C){var g=Y(a.slice(C));a=a.slice(0,C)}ra(h)?(b=h,h=void 0):h&&"object"===typeof h&&(f="POST");0<d.length&&w.ajax({url:a,type:f||
"GET",dataType:"html",data:h}).done(function(a){c=arguments;d.html(g?w("<div>").append(w.parseHTML(a)).find(g):a)}).always(b&&function(a,f){d.each(function(){b.apply(this,c||[a.responseText,f,a])})});return this};w.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,h){w.fn[h]=function(a){return this.on(h,a)}});w.expr.pseudos.animated=function(a){return w.grep(w.timers,function(f){return a===f.elem}).length};w.offset={setOffset:function(a,h,b){var f=w.css(a,
"position"),c=w(a),d={};"static"===f&&(a.style.position="relative");var C=c.offset();var g=w.css(a,"top");var l=w.css(a,"left");("absolute"===f||"fixed"===f)&&-1<(g+l).indexOf("auto")?(l=c.position(),g=l.top,l=l.left):(g=parseFloat(g)||0,l=parseFloat(l)||0);ra(h)&&(h=h.call(a,b,w.extend({},C)));null!=h.top&&(d.top=h.top-C.top+g);null!=h.left&&(d.left=h.left-C.left+l);"using"in h?h.using.call(a,d):c.css(d)}};w.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(f){w.offset.setOffset(this,
a,f)});var f;if(f=this[0]){if(!f.getClientRects().length)return{top:0,left:0};var h=f.getBoundingClientRect();f=f.ownerDocument.defaultView;return{top:h.top+f.pageYOffset,left:h.left+f.pageXOffset}}},position:function(){if(this[0]){var a,h=this[0],b={top:0,left:0};if("fixed"===w.css(h,"position"))var c=h.getBoundingClientRect();else{c=this.offset();var d=h.ownerDocument;for(a=h.offsetParent||d.documentElement;a&&(a===d.body||a===d.documentElement)&&"static"===w.css(a,"position");)a=a.parentNode;a&&
a!==h&&1===a.nodeType&&(b=w(a).offset(),b.top+=w.css(a,"borderTopWidth",!0),b.left+=w.css(a,"borderLeftWidth",!0))}return{top:c.top-b.top-w.css(h,"marginTop",!0),left:c.left-b.left-w.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===w.css(a,"position");)a=a.offsetParent;return a||ub})}});w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,h){var f="pageYOffset"===h;w.fn[a]=function(b){return fa(this,function(a,b,
c){if(Eb(a))var d=a;else 9===a.nodeType&&(d=a.defaultView);if(void 0===c)return d?d[h]:a[b];d?d.scrollTo(f?d.pageXOffset:c,f?c:d.pageYOffset):a[b]=c},a,b,arguments.length)}});w.each(["top","left"],function(a,h){w.cssHooks[h]=Ga(Aa.pixelPosition,function(a,f){if(f)return f=qa(a,h),tb.test(f)?w(a).position()[h]+"px":f})});w.each({Height:"height",Width:"width"},function(a,h){w.each({padding:"inner"+a,content:h,"":"outer"+a},function(f,b){w.fn[b]=function(c,d){var C=arguments.length&&(f||"boolean"!==
typeof c),g=f||(!0===c||!0===d?"margin":"border");return fa(this,function(f,h,c){return Eb(f)?0===b.indexOf("outer")?f["inner"+a]:f.document.documentElement["client"+a]:9===f.nodeType?(h=f.documentElement,Math.max(f.body["scroll"+a],h["scroll"+a],f.body["offset"+a],h["offset"+a],h["client"+a])):void 0===c?w.css(f,h,g):w.style(f,h,c,g)},h,C?c:void 0,C)}})});w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(a,h){w.fn[h]=function(a,f){return 0<arguments.length?this.on(h,null,a,f):this.trigger(h)}});w.fn.extend({hover:function(a,h){return this.mouseenter(a).mouseleave(h||a)}});w.fn.extend({bind:function(a,h,b){return this.on(a,null,h,b)},unbind:function(a,h){return this.off(a,null,h)},delegate:function(a,h,b,c){return this.on(h,a,b,c)},undelegate:function(a,h,b){return 1===arguments.length?this.off(a,"**"):this.off(h,a||"**",b)}});w.proxy=function(a,h){if("string"===typeof h){var f=a[h];h=a;a=
f}if(ra(a)){var b=xa.call(arguments,2);f=function(){return a.apply(h||this,b.concat(xa.call(arguments)))};f.guid=a.guid=a.guid||w.guid++;return f}};w.holdReady=function(a){a?w.readyWait++:w.ready(!0)};w.isArray=Array.isArray;w.parseJSON=JSON.parse;w.nodeName=c;w.isFunction=ra;w.isWindow=Eb;w.camelCase=v;w.type=Ka;w.now=Date.now;w.isNumeric=function(a){var f=w.type(a);return("number"===f||"string"===f)&&!isNaN(a-parseFloat(a))};!(ia=[],I=function(){return w}.apply(ba,ia),void 0!==I&&(B.exports=I));
var ob=H.jQuery,$b=H.$;w.noConflict=function(a){H.$===w&&(H.$=$b);a&&H.jQuery===w&&(H.jQuery=ob);return w};Fa||(H.jQuery=H.$=w);return w})},Iab2:function(B,ba,H){(function(H){var I,ia,Fa;(function(b,H){!(ia=[],I=H,Fa="function"===typeof I?I.apply(ba,ia):I,void 0!==Fa&&(B.exports=Fa))})(this,function(){function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?
new Blob(["\ufeff",a],{type:a.type}):a}function I(a,b,c){var k=new XMLHttpRequest;k.open("GET",a);k.responseType="blob";k.onload=function(){q(k.response,b,c)};k.onerror=function(){console.error("could not download file")};k.send()}function a(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(k){}return 200<=b.status&&299>=b.status}function c(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(k){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,
0,80,20,!1,!1,!1,!1,0,null);a.dispatchEvent(b)}}var e="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof H&&H.global===H?H:void 0,q=e.saveAs||("object"!=typeof window||window!==e?function(){}:"download"in HTMLAnchorElement.prototype?function(b,m,k){var r=e.URL||e.webkitURL,q=document.createElement("a");m=m||b.name||"download";q.download=m;q.rel="noopener";"string"==typeof b?(q.href=b,q.origin===location.origin?c(q):a(q.href)?I(b,m,
k):c(q,q.target="_blank")):(q.href=r.createObjectURL(b),setTimeout(function(){r.revokeObjectURL(q.href)},4E4),setTimeout(function(){c(q)},0))}:"msSaveOrOpenBlob"in navigator?function(e,m,k){if(m=m||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(b(e,k),m);else if(a(e))I(e,m,k);else{var r=document.createElement("a");r.href=e;r.target="_blank";setTimeout(function(){c(r)})}}:function(a,b,c,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),
"string"==typeof a)return I(a,b,c);b="application/octet-stream"===a.type;c=/constructor/i.test(e.HTMLElement)||e.safari;var k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||b&&c)&&"object"==typeof FileReader){var m=new FileReader;m.onloadend=function(){var a=m.result;a=k?a:a.replace(/^data:[^;]*;/,"data:attachment/file;");r?r.location.href=a:location=a;r=null};m.readAsDataURL(a)}else{var q=e.URL||e.webkitURL,n=q.createObjectURL(a);r?r.location=n:location.href=n;r=null;setTimeout(function(){q.revokeObjectURL(n)},
4E4)}});e.saveAs=q.saveAs=q;B.exports=q})}).call(this,H("yLpj"))},LdiE:function(B,ba,H){},VS3o:function(B,ba,H){(function(H,I){var ia,Fa;!function(a,b){"object"==typeof B.exports?B.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a,b){var h=(b=b||da).createElement("script");h.text=a;b.head.appendChild(h).parentNode.removeChild(h)}function q(a){var h=!!a&&
"length"in a&&a.length,b=u.type(a);return"function"!==b&&!u.isWindow(a)&&("array"===b||0===h||"number"==typeof h&&0<h&&h-1 in a)}function t(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function m(a,b,c){return u.isFunction(b)?u.grep(a,function(a,f){return!!b.call(a,f,a)!==c}):b.nodeType?u.grep(a,function(a){return a===b!==c}):"string"!=typeof b?u.grep(a,function(a){return-1<xa.call(b,a)!==c}):uc.test(b)?u.filter(b,a,c):(b=u.filter(b,a),u.grep(a,function(a){return-1<xa.call(b,
a)!==c&&1===a.nodeType}))}function k(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function r(a){return a}function x(a){throw a;}function z(a,b,c,d){var f;try{a&&u.isFunction(f=a.promise)?f.call(a).done(b).fail(c):a&&u.isFunction(f=a.then)?f.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(D){c.apply(void 0,[D])}}function v(){da.removeEventListener("DOMContentLoaded",v);a.removeEventListener("load",v);u.ready()}function n(){this.expando=u.expando+n.uid++}function d(a,b,c){var h;if(void 0===c&&1===a.nodeType)if(h=
"data-"+b.replace(Ya,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(h))){try{h=c,c="true"===h||"false"!==h&&("null"===h?null:h===+h+""?+h:Ca.test(h)?JSON.parse(h):h)}catch(f){}ja.set(a,b,c)}else c=void 0;return c}function g(a,b,c,d){var f,h=1,C=20,g=d?function(){return d.cur()}:function(){return u.css(a,b,"")},l=g(),k=c&&c[3]||(u.cssNumber[b]?"":"px"),e=(u.cssNumber[b]||"px"!==k&&+l)&&va.exec(u.css(a,b));if(e&&e[3]!==k){k=k||e[3];c=c||[];e=+l||1;do e/=h=h||".5",u.style(a,b,e+k);while(h!==
(h=g()/l)&&1!==h&&--C)}return c&&(e=+e||+l||0,f=c[1]?e+(c[1]+1)*c[2]:+c[2],d&&(d.unit=k,d.start=e,d.end=f)),f}function E(a,b){for(var h,c,f=[],d=0,C=a.length;d<C;d++)if((c=a[d]).style)if(h=c.style.display,b){if("none"===h&&(f[d]=fa.get(c,"display")||null,f[d]||(c.style.display="")),""===c.style.display&&Xa(c)){h=d;var g=void 0;var l=c.ownerDocument;var k=c.nodeName;l=(c=ya[k])||(g=l.body.appendChild(l.createElement(k)),c=u.css(g,"display"),g.parentNode.removeChild(g),"none"===c&&(c="block"),ya[k]=
c,c);f[h]=l}}else"none"!==h&&(f[d]="none",fa.set(c,"display",h));for(d=0;d<C;d++)null!=f[d]&&(a[d].style.display=f[d]);return a}function l(a,b){var h;return h=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&t(a,b)?u.merge([a],h):h}function O(a,b){for(var h=0,c=a.length;h<c;h++)fa.set(a[h],"globalEval",!b||fa.get(b[h],"globalEval"))}function G(a,b,c,d,f){for(var h,g,C,k,e=b.createDocumentFragment(),A=[],p=0,n=a.length;p<
n;p++)if((h=a[p])||0===h)if("object"===u.type(h))u.merge(A,h.nodeType?[h]:h);else if(Kb.test(h)){g=g||e.appendChild(b.createElement("div"));C=(ub.exec(h)||["",""])[1].toLowerCase();C=ab[C]||ab._default;g.innerHTML=C[1]+u.htmlPrefilter(h)+C[2];for(C=C[0];C--;)g=g.lastChild;u.merge(A,g.childNodes);(g=e.firstChild).textContent=""}else A.push(b.createTextNode(h));e.textContent="";for(p=0;h=A[p++];)if(d&&-1<u.inArray(h,d))f&&f.push(h);else if(k=u.contains(h.ownerDocument,h),g=l(e.appendChild(h),"script"),
k&&O(g),c)for(C=0;h=g[C++];)pb.test(h.type||"")&&c.push(h);return e}function y(){return!0}function R(){return!1}function N(){try{return da.activeElement}catch(h){}}function p(a,b,c,d,f,g){var h,C;if("object"==typeof b){for(C in"string"!=typeof c&&(d=d||c,c=void 0),b)p(a,C,c,d,b[C],g);return a}if(null==d&&null==f?(f=c,d=c=void 0):null==f&&("string"==typeof c?(f=d,d=void 0):(f=d,d=c,c=void 0)),!1===f)f=R;else if(!f)return a;return 1===g&&(h=f,(f=function(a){return u().off(a),h.apply(this,arguments)}).guid=
h.guid||(h.guid=u.guid++)),a.each(function(){u.event.add(this,b,f,d,c)})}function V(a,b){return t(a,"table")&&t(11!==b.nodeType?b:b.firstChild,"tr")&&u(">tbody",a)[0]||a}function M(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Q(a){var h=Sb.exec(a.type);return h?a.type=h[1]:a.removeAttribute("type"),a}function ca(a,b){var h,c,f,d,g,C;if(1===b.nodeType){if(fa.hasData(a)&&(h=fa.access(a),c=fa.set(b,h),C=h.events))for(f in delete c.handle,c.events={},C)for(h=0,c=C[f].length;h<
c;h++)u.event.add(b,f,C[f][h]);ja.hasData(a)&&(d=ja.access(a),g=u.extend({},d),ja.set(b,g))}}function K(a,b,d,g){b=H.apply([],b);var f,h,C,k=0,e=a.length,A=e-1,p=b[0],n=u.isFunction(p);if(n||1<e&&"string"==typeof p&&!ua.checkClone&&mc.test(p))return a.each(function(f){var h=a.eq(f);n&&(b[0]=p.call(this,f,h.html()));K(h,b,d,g)});if(e&&(h=(f=G(b,a[0].ownerDocument,!1,a,g)).firstChild,1===f.childNodes.length&&(f=h),h||g)){for(C=(h=u.map(l(f,"script"),M)).length;k<e;k++){var F=f;k!==A&&(F=u.clone(F,!0,
!0),C&&u.merge(h,l(F,"script")));d.call(a[k],F,k)}if(C)for(f=h[h.length-1].ownerDocument,u.map(h,Q),k=0;k<C;k++)F=h[k],pb.test(F.type||"")&&!fa.access(F,"globalEval")&&u.contains(f,F)&&(F.src?u._evalUrl&&u._evalUrl(F.src):c(F.textContent.replace(Yb,""),f))}return a}function P(a,b,c){for(var h=b?u.filter(b,a):a,f=0;null!=(b=h[f]);f++)c||1!==b.nodeType||u.cleanData(l(b)),b.parentNode&&(c&&u.contains(b.ownerDocument,b)&&O(l(b,"script")),b.parentNode.removeChild(b));return a}function J(a,b,c){var h,f,
d,g,C=a.style;return(c=c||Sa(a))&&(""!==(g=c.getPropertyValue(b)||c[b])||u.contains(a.ownerDocument,a)||(g=u.style(a,b)),!ua.pixelMarginRight()&&Hb.test(g)&&qb.test(b)&&(h=C.width,f=C.minWidth,d=C.maxWidth,C.minWidth=C.maxWidth=C.width=g,g=c.width,C.width=h,C.minWidth=f,C.maxWidth=d)),void 0!==g?g+"":g}function qa(a,b){return{get:function(){if(!a())return(this.get=b).apply(this,arguments);delete this.get}}}function Ga(a){var h=u.cssProps[a];if(!h){h=u.cssProps;a:{var b=a;if(!(b in Ob)){for(var c=
b[0].toUpperCase()+b.slice(1),f=Ma.length;f--;)if((b=Ma[f]+c)in Ob)break a;b=void 0}}h=h[a]=b||a}return h}function U(a,b,c){return(a=va.exec(b))?Math.max(0,a[2]-(c||0))+(a[3]||"px"):b}function X(a,b,c,d,f){var h=0;for(b=c===(d?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===c&&(h+=u.css(a,c+wa[b],!0,f)),d?("content"===c&&(h-=u.css(a,"padding"+wa[b],!0,f)),"margin"!==c&&(h-=u.css(a,"border"+wa[b]+"Width",!0,f))):(h+=u.css(a,"padding"+wa[b],!0,f),"padding"!==c&&(h+=u.css(a,"border"+wa[b]+
"Width",!0,f)));return h}function W(a,b,c){var h,f=Sa(a),d=J(a,b,f),g="border-box"===u.css(a,"boxSizing",!1,f);return Hb.test(d)?d:(h=g&&(ua.boxSizingReliable()||d===a.style[b]),"auto"===d&&(d=a["offset"+b[0].toUpperCase()+b.slice(1)]),(parseFloat(d)||0)+X(a,b,c||(g?"border":"content"),h,f)+"px")}function L(a,b,c,d,f){return new L.prototype.init(a,b,c,d,f)}function A(){Va&&(!1===da.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(A):a.setTimeout(A,u.fx.interval),u.fx.tick())}function F(){return a.setTimeout(function(){Bb=
void 0}),Bb=u.now()}function T(a,b){var h,c=0,f={height:a};for(b=b?1:0;4>c;c+=2-b)f["margin"+(h=wa[c])]=f["padding"+h]=a;return b&&(f.opacity=f.width=a),f}function S(a,b,c){for(var h,f=(sa.tweeners[b]||[]).concat(sa.tweeners["*"]),d=0,g=f.length;d<g;d++)if(h=f[d].call(c,b,a))return h}function sa(a,b,c){var h,f=0,d=sa.prefilters.length,g=u.Deferred().always(function(){delete l.elem}),l=function(){if(h)return!1;var f=Bb||F();f=Math.max(0,C.startTime+C.duration-f);for(var b=1-(f/C.duration||0),c=0,d=
C.tweens.length;c<d;c++)C.tweens[c].run(b);return g.notifyWith(a,[C,b,f]),1>b&&d?f:(d||g.notifyWith(a,[C,1,0]),g.resolveWith(a,[C]),!1)},C=g.promise({elem:a,props:u.extend({},b),opts:u.extend(!0,{specialEasing:{},easing:u.easing._default},c),originalProperties:b,originalOptions:c,startTime:Bb||F(),duration:c.duration,tweens:[],createTween:function(f,h){f=u.Tween(a,C.opts,f,h,C.opts.specialEasing[f]||C.opts.easing);return C.tweens.push(f),f},stop:function(f){var b=0,c=f?C.tweens.length:0;if(h)return this;
for(h=!0;b<c;b++)C.tweens[b].run(1);return f?(g.notifyWith(a,[C,1,0]),g.resolveWith(a,[C,f])):g.rejectWith(a,[C,f]),this}});c=C.props;!function(a,f){var h,b,c,d,g;for(h in a)if(c=f[b=u.camelCase(h)],d=a[h],Array.isArray(d)&&(c=d[1],d=a[h]=d[0]),h!==b&&(a[b]=d,delete a[h]),(g=u.cssHooks[b])&&"expand"in g)for(h in d=g.expand(d),delete a[b],d)h in a||(a[h]=d[h],f[h]=c);else f[b]=c}(c,C.opts.specialEasing);for(;f<d;f++)if(b=sa.prefilters[f].call(C,a,c,C.opts))return u.isFunction(b.stop)&&(u._queueHooks(C.elem,
C.opts.queue).stop=u.proxy(b.stop,b)),b;return u.map(c,S,C),u.isFunction(C.opts.start)&&C.opts.start.call(a,C),C.progress(C.opts.progress).done(C.opts.done,C.opts.complete).fail(C.opts.fail).always(C.opts.always),u.fx.timer(u.extend(l,{elem:a,anim:C,queue:C.opts.queue})),C}function ea(a){return(a.match(Oa)||[]).join(" ")}function Z(a){return a.getAttribute&&a.getAttribute("class")||""}function Y(a,b,c,d){var f;if(Array.isArray(b))u.each(b,function(f,h){c||oc.test(a)?d(a,h):Y(a+"["+("object"==typeof h&&
null!=h?f:"")+"]",h,c,d)});else if(c||"object"!==u.type(b))d(a,b);else for(f in b)Y(a+"["+f+"]",b[f],c,d)}function na(a){return function(h,b){"string"!=typeof h&&(b=h,h="*");var c=0,f=h.toLowerCase().match(Oa)||[];if(u.isFunction(b))for(;h=f[c++];)"+"===h[0]?(h=h.slice(1)||"*",(a[h]=a[h]||[]).unshift(b)):(a[h]=a[h]||[]).push(b)}}function ka(a,b,c,d){function f(l){var C;return h[l]=!0,u.each(a[l]||[],function(a,l){a=l(b,c,d);return"string"!=typeof a||g||h[a]?g?!(C=a):void 0:(b.dataTypes.unshift(a),
f(a),!1)}),C}var h={},g=a===xb;return f(b.dataTypes[0])||!h["*"]&&f("*")}function za(a,b){var h,c,f=u.ajaxSettings.flatOptions||{};for(h in b)void 0!==b[h]&&((f[h]?a:c||(c={}))[h]=b[h]);return c&&u.extend(!0,a,c),a}var ha=[],da=a.document,aa=Object.getPrototypeOf,I=ha.slice,H=ha.concat,Na=ha.push,xa=ha.indexOf,bc={},Pb=bc.toString,Ab=bc.hasOwnProperty,zb=Ab.toString,Nb=zb.call(Object),ua={},u=function(a,b){return new u.fn.init(a,b)},Qb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Aa=/^-ms-/,ra=/-([a-z])/g,
Eb=function(a,b){return b.toUpperCase()};$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();u.fn=u.prototype={jquery:"3.2.1",constructor:u,length:0,toArray:function(){return I.call(this)},get:function(a){return null==a?I.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=u.merge(this.constructor(),a);return a.prevObject=this,a},each:function(a){return u.each(this,a)},map:function(a){return this.pushStack(u.map(this,
function(h,b){return a.call(h,b,h)}))},slice:function(){return this.pushStack(I.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var h=this.length;a=+a+(0>a?h:0);return this.pushStack(0<=a&&a<h?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Na,sort:ha.sort,splice:ha.splice};u.extend=u.fn.extend=function(){var a,b,c,d,f,g=arguments[0]||{},l=1,k=arguments.length,e=!1;"boolean"==typeof g&&(e=g,g=arguments[l]||
{},l++);"object"==typeof g||u.isFunction(g)||(g={});for(l===k&&(g=this,l--);l<k;l++)if(null!=(a=arguments[l]))for(b in a){var A=g[b];g!==(c=a[b])&&(e&&c&&(u.isPlainObject(c)||(d=Array.isArray(c)))?(d?(d=!1,f=A&&Array.isArray(A)?A:[]):f=A&&u.isPlainObject(A)?A:{},g[b]=u.extend(e,f,c)):void 0!==c&&(g[b]=c))}return g};u.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===u.type(a)},
isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var h=u.type(a);return("number"===h||"string"===h)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var h,b;return!(!a||"[object Object]"!==Pb.call(a))&&(!(h=aa(a))||"function"==typeof(b=Ab.call(h,"constructor")&&h.constructor)&&zb.call(b)===Nb)},isEmptyObject:function(a){for(var h in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?bc[Pb.call(a)]||"object":typeof a},globalEval:function(a){c(a)},
camelCase:function(a){return a.replace(Aa,"ms-").replace(ra,Eb)},each:function(a,b){var h,c=0;if(q(a))for(h=a.length;c<h&&!1!==b.call(a[c],c,a[c]);c++);else for(c in a)if(!1===b.call(a[c],c,a[c]))break;return a},trim:function(a){return null==a?"":(a+"").replace(Qb,"")},makeArray:function(a,b){b=b||[];return null!=a&&(q(Object(a))?u.merge(b,"string"==typeof a?[a]:a):Na.call(b,a)),b},inArray:function(a,b,c){return null==b?-1:xa.call(b,a,c)},merge:function(a,b){for(var h=+b.length,c=0,f=a.length;c<h;c++)a[f++]=
b[c];return a.length=f,a},grep:function(a,b,c){var h=[],f=0,d=a.length;for(c=!c;f<d;f++)!b(a[f],f)!==c&&h.push(a[f]);return h},map:function(a,b,c){var h,f,d=0,g=[];if(q(a))for(h=a.length;d<h;d++)null!=(f=b(a[d],d,c))&&g.push(f);else for(d in a)null!=(f=b(a[d],d,c))&&g.push(f);return H.apply([],g)},guid:1,proxy:function(a,b){var h,c,f;if("string"==typeof b&&(h=a[b],b=a,a=h),u.isFunction(a))return c=I.call(arguments,2),(f=function(){return a.apply(b||this,c.concat(I.call(arguments)))}).guid=a.guid=
a.guid||u.guid++,f},now:Date.now,support:ua});"function"==typeof Symbol&&(u.fn[Symbol.iterator]=ha[Symbol.iterator]);u.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){bc["[object "+b+"]"]=b.toLowerCase()});var Za=function(a){function h(a,f,h,b){var c,d,g,l,k=f&&f.ownerDocument,C=f?f.nodeType:9;if(h=h||[],"string"!=typeof a||!a||1!==C&&9!==C&&11!==C)return h;if(!b&&((f?f.ownerDocument||f:Ca)!==w&&T(f),f=f||w,v)){if(11!==C&&(l=Pb.exec(a)))if(c=l[1])if(9===
C){if(!(d=f.getElementById(c)))return h;if(d.id===c)return h.push(d),h}else{if(k&&(d=k.getElementById(c))&&M(f,d)&&d.id===c)return h.push(d),h}else{if(l[2])return qa.apply(h,f.getElementsByTagName(a)),h;if((c=l[3])&&y.getElementsByClassName&&f.getElementsByClassName)return qa.apply(h,f.getElementsByClassName(c)),h}if(!(!y.qsa||Z[a+" "]||S&&S.test(a))){if(1!==C){k=f;var e=a}else if("object"!==f.nodeName.toLowerCase()){(g=f.getAttribute("id"))?g=g.replace(Qa,ua):f.setAttribute("id",g=Q);for(c=(d=ja(a)).length;c--;)d[c]=
"#"+g+" "+F(d[c]);e=d.join(",");k=H.test(a)&&p(f.parentNode)||f}if(e)try{return qa.apply(h,k.querySelectorAll(e)),h}catch(Dc){}finally{g===Q&&f.removeAttribute("id")}}}return x(a.replace(ka,"$1"),f,h,b)}function b(){var a=[];return function fc(f,h){return a.push(f+" ")>u.cacheLength&&delete fc[a.shift()],fc[f+" "]=h}}function c(a){return a[Q]=!0,a}function f(a){var f=w.createElement("fieldset");try{return!!a(f)}catch(qc){return!1}finally{f.parentNode&&f.parentNode.removeChild(f)}}function d(a,f){a=
a.split("|");for(var h=a.length;h--;)u.attrHandle[a[h]]=f}function g(a,f){var h=f&&a,b=h&&1===a.nodeType&&1===f.nodeType&&a.sourceIndex-f.sourceIndex;if(b)return b;if(h)for(;h=h.nextSibling;)if(h===f)return-1;return a?1:-1}function l(a){return function(f){return"input"===f.nodeName.toLowerCase()&&f.type===a}}function k(a){return function(f){var h=f.nodeName.toLowerCase();return("input"===h||"button"===h)&&f.type===a}}function e(a){return function(f){return"form"in f?f.parentNode&&!1===f.disabled?
"label"in f?"label"in f.parentNode?f.parentNode.disabled===a:f.disabled===a:f.isDisabled===a||f.isDisabled!==!a&&Ab(f)===a:f.disabled===a:"label"in f&&f.disabled===a}}function A(a){return c(function(f){return f=+f,c(function(h,b){for(var c,d=a([],h.length,f),g=d.length;g--;)h[c=d[g]]&&(h[c]=!(b[c]=h[c]))})})}function p(a){return a&&void 0!==a.getElementsByTagName&&a}function n(){}function F(a){for(var f=0,h=a.length,b="";f<h;f++)b+=a[f].value;return b}function r(a,f,h){var b=f.dir,c=f.next,d=c||b,
g=h&&"parentNode"===d,l=Y++;return f.first?function(f,h,c){for(;f=f[b];)if(1===f.nodeType||g)return a(f,h,c);return!1}:function(f,h,k){var C,e,A,p=[ca,l];if(k)for(;f=f[b];){if((1===f.nodeType||g)&&a(f,h,k))return!0}else for(;f=f[b];)if(1===f.nodeType||g)if(e=(A=f[Q]||(f[Q]={}))[f.uniqueID]||(A[f.uniqueID]={}),c&&c===f.nodeName.toLowerCase())f=f[b]||f;else{if((C=e[d])&&C[0]===ca&&C[1]===l)return p[2]=C[2];if(e[d]=p,p[2]=a(f,h,k))return!0}return!1}}function N(a){return 1<a.length?function(f,h,b){for(var c=
a.length;c--;)if(!a[c](f,h,b))return!1;return!0}:a[0]}function L(a,f,h,b,c){for(var d,g=[],l=0,k=a.length,C=null!=f;l<k;l++)(d=a[l])&&(h&&!h(d,b,c)||(g.push(d),C&&f.push(l)));return g}function U(a,f,b,d,g,l){return d&&!d[Q]&&(d=U(d)),g&&!g[Q]&&(g=U(g,l)),c(function(c,l,k,C){var e,A=[],p=[],n=l.length,F;if(!(F=c)){F=f||"*";for(var r=k.nodeType?[k]:k,N=[],y=0,U=r.length;y<U;y++)h(F,r[y],N);F=N}F=!a||!c&&f?F:L(F,A,a,k,C);r=b?g||(c?a:n||d)?[]:l:F;if(b&&b(F,r,k,C),d){var u=L(r,p);d(u,[],k,C);for(k=u.length;k--;)(e=
u[k])&&(r[p[k]]=!(F[p[k]]=e))}if(c){if(g||a){if(g){u=[];for(k=r.length;k--;)(e=r[k])&&u.push(F[k]=e);g(null,r=[],u,C)}for(k=r.length;k--;)(e=r[k])&&-1<(u=g?Na(c,e):A[k])&&(c[u]=!(l[u]=e))}}else r=L(r===l?r.splice(n,r.length):r),g?g(null,l,r,C):qa.apply(l,r)})}function m(a){var f,h,b=a.length,c=u.relative[a[0].type];var d=c||u.relative[" "];for(var g=c?1:0,l=r(function(a){return a===f},d,!0),k=r(function(a){return-1<Na(f,a)},d,!0),C=[function(a,h,b){a=!c&&(b||h!==O)||((f=h).nodeType?l(a,h,b):k(a,h,
b));return f=null,a}];g<b;g++)if(d=u.relative[a[g].type])C=[r(N(C),d)];else{if((d=u.filter[a[g].type].apply(null,a[g].matches))[Q]){for(h=++g;h<b&&!u.relative[a[h].type];h++);return U(1<g&&N(C),1<g&&F(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(ka,"$1"),d,g<h&&m(a.slice(g,h)),h<b&&m(a=a.slice(h)),h<b&&F(a))}C.push(d)}return N(C)}var q,y,u,E,X,ja,t,x,O,R,G,T,w,W,v,S,K,z,M,Q="sizzle"+1*new Date,Ca=a.document,ca=0,Y=0,J=b(),sa=b(),Z=b(),V=function(a,f){return a===f&&(G=!0),0},ea=
{}.hasOwnProperty,P=[],ma=P.pop,Ya=P.push,qa=P.push,Ga=P.slice,Na=function(a,f){for(var h=0,b=a.length;h<b;h++)if(a[h]===f)return h;return-1},B=/[\x20\t\r\n\f]+/g,ka=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,xa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,na=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,za=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,va=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
aa=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,da={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ha=/^(?:input|select|textarea|button)$/i,wa=/^h\d$/i,I=/^[^{]+\{\s*\[native \w/,
Pb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,H=/[+~]/,Xa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ya=function(a,f,h){a="0x"+f-65536;return a!=a||h?f:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},Qa=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ua=function(a,f){return f?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},la=function(){T()},Ab=r(function(a){return!0===a.disabled&&("form"in a||"label"in a)},{dir:"parentNode",
next:"legend"});try{qa.apply(P=Ga.call(Ca.childNodes),Ca.childNodes),P[Ca.childNodes.length].nodeType}catch(wc){qa={apply:P.length?function(a,f){Ya.apply(a,Ga.call(f))}:function(a,f){for(var h=a.length,b=0;a[h++]=f[b++];);a.length=h-1}}}for(q in y=h.support={},X=h.isXML=function(a){a=a&&(a.ownerDocument||a).documentElement;return!!a&&"HTML"!==a.nodeName},T=h.setDocument=function(a){var h,b;a=a?a.ownerDocument||a:Ca;return a!==w&&9===a.nodeType&&a.documentElement?(W=(w=a).documentElement,v=!X(w),Ca!==
w&&(b=w.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",la,!1):b.attachEvent&&b.attachEvent("onunload",la)),y.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),y.getElementsByTagName=f(function(a){return a.appendChild(w.createComment("")),!a.getElementsByTagName("*").length}),y.getElementsByClassName=I.test(w.getElementsByClassName),y.getById=f(function(a){return W.appendChild(a).id=Q,!w.getElementsByName||!w.getElementsByName(Q).length}),y.getById?
(u.filter.ID=function(a){var f=a.replace(Xa,ya);return function(a){return a.getAttribute("id")===f}},u.find.ID=function(a,f){if(void 0!==f.getElementById&&v)return(a=f.getElementById(a))?[a]:[]}):(u.filter.ID=function(a){var f=a.replace(Xa,ya);return function(a){return(a=void 0!==a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===f}},u.find.ID=function(a,f){if(void 0!==f.getElementById&&v){var h,b=f.getElementById(a);if(b){if((h=b.getAttributeNode("id"))&&h.value===a)return[b];var c=f.getElementsByName(a);
for(f=0;b=c[f++];)if((h=b.getAttributeNode("id"))&&h.value===a)return[b]}return[]}}),u.find.TAG=y.getElementsByTagName?function(a,f){return void 0!==f.getElementsByTagName?f.getElementsByTagName(a):y.qsa?f.querySelectorAll(a):void 0}:function(a,f){var h=[],b=0;f=f.getElementsByTagName(a);if("*"===a){for(;a=f[b++];)1===a.nodeType&&h.push(a);return h}return f},u.find.CLASS=y.getElementsByClassName&&function(a,f){if(void 0!==f.getElementsByClassName&&v)return f.getElementsByClassName(a)},K=[],S=[],(y.qsa=
I.test(w.querySelectorAll))&&(f(function(a){W.appendChild(a).innerHTML="<a id='"+Q+"'></a><select id='"+Q+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&S.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||S.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+
Q+"-]").length||S.push("~=");a.querySelectorAll(":checked").length||S.push(":checked");a.querySelectorAll("a#"+Q+"+*").length||S.push(".#.+[+~]")}),f(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var f=w.createElement("input");f.setAttribute("type","hidden");a.appendChild(f).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&S.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&S.push(":enabled",
":disabled");W.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&S.push(":enabled",":disabled");a.querySelectorAll("*,:x");S.push(",.*:")})),(y.matchesSelector=I.test(z=W.matches||W.webkitMatchesSelector||W.mozMatchesSelector||W.oMatchesSelector||W.msMatchesSelector))&&f(function(a){y.disconnectedMatch=z.call(a,"*");z.call(a,"[s!='']:x");K.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
S=S.length&&new RegExp(S.join("|")),K=K.length&&new RegExp(K.join("|")),h=I.test(W.compareDocumentPosition),M=h||I.test(W.contains)?function(a,f){var h=9===a.nodeType?a.documentElement:a;f=f&&f.parentNode;return a===f||!(!f||1!==f.nodeType||!(h.contains?h.contains(f):a.compareDocumentPosition&&16&a.compareDocumentPosition(f)))}:function(a,f){if(f)for(;f=f.parentNode;)if(f===a)return!0;return!1},V=h?function(a,f){if(a===f)return G=!0,0;var h=!a.compareDocumentPosition-!f.compareDocumentPosition;return h||
(1&(h=(a.ownerDocument||a)===(f.ownerDocument||f)?a.compareDocumentPosition(f):1)||!y.sortDetached&&f.compareDocumentPosition(a)===h?a===w||a.ownerDocument===Ca&&M(Ca,a)?-1:f===w||f.ownerDocument===Ca&&M(Ca,f)?1:R?Na(R,a)-Na(R,f):0:4&h?-1:1)}:function(a,f){if(a===f)return G=!0,0;var h=0,b=a.parentNode,c=f.parentNode,d=[a],l=[f];if(!b||!c)return a===w?-1:f===w?1:b?-1:c?1:R?Na(R,a)-Na(R,f):0;if(b===c)return g(a,f);for(;a=a.parentNode;)d.unshift(a);for(a=f;a=a.parentNode;)l.unshift(a);for(;d[h]===l[h];)h++;
return h?g(d[h],l[h]):d[h]===Ca?-1:l[h]===Ca?1:0},w):w},h.matches=function(a,f){return h(a,null,null,f)},h.matchesSelector=function(a,f){if((a.ownerDocument||a)!==w&&T(a),f=f.replace(za,"='$1']"),!(!y.matchesSelector||!v||Z[f+" "]||K&&K.test(f)||S&&S.test(f)))try{var b=z.call(a,f);if(b||y.disconnectedMatch||a.document&&11!==a.document.nodeType)return b}catch(Ba){}return 0<h(f,w,null,[a]).length},h.contains=function(a,f){return(a.ownerDocument||a)!==w&&T(a),M(a,f)},h.attr=function(a,f){(a.ownerDocument||
a)!==w&&T(a);var h=u.attrHandle[f.toLowerCase()];h=h&&ea.call(u.attrHandle,f.toLowerCase())?h(a,f,!v):void 0;return void 0!==h?h:y.attributes||!v?a.getAttribute(f):(h=a.getAttributeNode(f))&&h.specified?h.value:null},h.escape=function(a){return(a+"").replace(Qa,ua)},h.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);},h.uniqueSort=function(a){var f,h=[],b=0,c=0;if(G=!y.detectDuplicates,R=!y.sortStable&&a.slice(0),a.sort(V),G){for(;f=a[c++];)f===a[c]&&(b=h.push(c));for(;b--;)a.splice(h[b],
1)}return R=null,a},E=h.getText=function(a){var f,h="",b=0;if(f=a.nodeType)if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)h+=E(a)}else{if(3===f||4===f)return a.nodeValue}else for(;f=a[b++];)h+=E(f);return h},(u=h.selectors={cacheLength:50,createPseudo:c,match:da,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=
a[1].replace(Xa,ya),a[3]=(a[3]||a[4]||a[5]||"").replace(Xa,ya),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||h.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&h.error(a[0]),a},PSEUDO:function(a){var f,h=!a[6]&&a[2];return da.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":h&&va.test(h)&&(f=ja(h,!0))&&(f=h.indexOf(")",h.length-f)-h.length)&&(a[0]=a[0].slice(0,
f),a[2]=h.slice(0,f)),a.slice(0,3))}},filter:{TAG:function(a){var f=a.replace(Xa,ya).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===f}},CLASS:function(a){var f=J[a+" "];return f||(f=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),J(a,function(a){return f.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,f,b){return function(c){c=h.attr(c,a);return null==
c?"!="===f:!f||(c+="","="===f?c===b:"!="===f?c!==b:"^="===f?b&&0===c.indexOf(b):"*="===f?b&&-1<c.indexOf(b):"$="===f?b&&c.slice(-b.length)===b:"~="===f?-1<(" "+c.replace(B," ")+" ").indexOf(b):"|="===f&&(c===b||c.slice(0,b.length+1)===b+"-"))}},CHILD:function(a,f,h,b,c){var d="nth"!==a.slice(0,3),g="last"!==a.slice(-4),l="of-type"===f;return 1===b&&0===c?function(a){return!!a.parentNode}:function(f,h,k){var C,e,A,p;h=d!==g?"nextSibling":"previousSibling";var n=f.parentNode,F=l&&f.nodeName.toLowerCase(),
r=!k&&!l,N=!1;if(n){if(d){for(;h;){for(A=f;A=A[h];)if(l?A.nodeName.toLowerCase()===F:1===A.nodeType)return!1;var L=h="only"===a&&!L&&"nextSibling"}return!0}if(L=[g?n.firstChild:n.lastChild],g&&r)for(N=(p=(C=(k=(e=(A=n)[Q]||(A[Q]={}))[A.uniqueID]||(e[A.uniqueID]={}))[a]||[])[0]===ca&&C[1])&&C[2],A=p&&n.childNodes[p];A=++p&&A&&A[h]||(N=p=0)||L.pop();){if(1===A.nodeType&&++N&&A===f){k[a]=[ca,p,N];break}}else if(r&&(N=p=(C=((e=(A=f)[Q]||(A[Q]={}))[A.uniqueID]||(e[A.uniqueID]={}))[a]||[])[0]===ca&&C[1]),
!1===N)for(;(A=++p&&A&&A[h]||(N=p=0)||L.pop())&&((l?A.nodeName.toLowerCase()!==F:1!==A.nodeType)||!++N||(r&&((k=(e=A[Q]||(A[Q]={}))[A.uniqueID]||(e[A.uniqueID]={}))[a]=[ca,N]),A!==f)););return(N-=c)===b||0==N%b&&0<=N/b}}},PSEUDO:function(a,f){var b,d=u.pseudos[a]||u.setFilters[a.toLowerCase()]||h.error("unsupported pseudo: "+a);return d[Q]?d(f):1<d.length?(b=[a,a,"",f],u.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,h){for(var b,c=d(a,f),g=c.length;g--;)a[b=Na(a,c[g])]=!(h[b]=c[g])}):function(a){return d(a,
0,b)}):d}},pseudos:{not:c(function(a){var f=[],h=[],b=t(a.replace(ka,"$1"));return b[Q]?c(function(a,f,h,c){var d;h=b(a,null,c,[]);for(c=a.length;c--;)(d=h[c])&&(a[c]=!(f[c]=d))}):function(a,c,d){return f[0]=a,b(f,null,d,h),f[0]=null,!h.pop()}}),has:c(function(a){return function(f){return 0<h(a,f).length}}),contains:c(function(a){return a=a.replace(Xa,ya),function(f){return-1<(f.textContent||f.innerText||E(f)).indexOf(a)}}),lang:c(function(a){return aa.test(a||"")||h.error("unsupported lang: "+a),
a=a.replace(Xa,ya).toLowerCase(),function(f){var h;do if(h=v?f.lang:f.getAttribute("xml:lang")||f.getAttribute("lang"))return(h=h.toLowerCase())===a||0===h.indexOf(a+"-");while((f=f.parentNode)&&1===f.nodeType);return!1}}),target:function(f){var h=a.location&&a.location.hash;return h&&h.slice(1)===f.id},root:function(a){return a===W},focus:function(a){return a===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:e(!1),disabled:e(!0),checked:function(a){var f=a.nodeName.toLowerCase();
return"input"===f&&!!a.checked||"option"===f&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!u.pseudos.empty(a)},header:function(a){return wa.test(a.nodeName)},input:function(a){return ha.test(a.nodeName)},button:function(a){var f=a.nodeName.toLowerCase();return"input"===f&&"button"===a.type||"button"===f},text:function(a){var f;return"input"===
a.nodeName.toLowerCase()&&"text"===a.type&&(null==(f=a.getAttribute("type"))||"text"===f.toLowerCase())},first:A(function(){return[0]}),last:A(function(a,f){return[f-1]}),eq:A(function(a,f,h){return[0>h?h+f:h]}),even:A(function(a,f){for(var h=0;h<f;h+=2)a.push(h);return a}),odd:A(function(a,f){for(var h=1;h<f;h+=2)a.push(h);return a}),lt:A(function(a,f,h){for(f=0>h?h+f:h;0<=--f;)a.push(f);return a}),gt:A(function(a,f,h){for(h=0>h?h+f:h;++h<f;)a.push(h);return a})}}).pseudos.nth=u.pseudos.eq,{radio:!0,
checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[q]=l(q);for(q in{submit:!0,reset:!0})u.pseudos[q]=k(q);return n.prototype=u.filters=u.pseudos,u.setFilters=new n,ja=h.tokenize=function(a,f){var b,c,d,g,l,k;if(l=sa[a+" "])return f?0:l.slice(0);l=a;var C=[];for(k=u.preFilter;l;){for(g in b&&!(c=xa.exec(l))||(c&&(l=l.slice(c[0].length)||l),C.push(d=[])),b=!1,(c=na.exec(l))&&(b=c.shift(),d.push({value:b,type:c[0].replace(ka," ")}),l=l.slice(b.length)),u.filter)!(c=da[g].exec(l))||k[g]&&!(c=k[g](c))||
(b=c.shift(),d.push({value:b,type:g,matches:c}),l=l.slice(b.length));if(!b)break}return f?l.length:l?h.error(a):sa(a,C).slice(0)},t=h.compile=function(a,f){var b,d=[],g=[],l=Z[a+" "];if(!l){f||(f=ja(a));for(b=f.length;b--;)(l=m(f[b]))[Q]?d.push(l):g.push(l);(l=Z(a,function(a,f){var b=0<f.length,d=0<a.length,g=function(c,g,l,k,C){var A,e,p=0,n="0",F=c&&[],r=[],N=O,y=c||d&&u.find.TAG("*",C),U=ca+=null==N?1:Math.random()||.1,m=y.length;for(C&&(O=g===w||g||C);n!==m&&null!=(A=y[n]);n++){if(d&&A){var q=
0;for(g||A.ownerDocument===w||(T(A),l=!v);e=a[q++];)if(e(A,g||w,l)){k.push(A);break}C&&(ca=U)}b&&((A=!e&&A)&&p--,c&&F.push(A))}if(p+=n,b&&n!==p){for(q=0;e=f[q++];)e(F,r,g,l);if(c){if(0<p)for(;n--;)F[n]||r[n]||(r[n]=ma.call(k));r=L(r)}qa.apply(k,r);C&&!c&&0<r.length&&1<p+f.length&&h.uniqueSort(k)}return C&&(ca=U,O=N),F};return b?c(g):g}(g,d))).selector=a}return l},x=h.select=function(a,f,h,b){var c,d,g,l,k,C="function"==typeof a&&a,A=!b&&ja(a=C.selector||a);if(h=h||[],1===A.length){if(2<(d=A[0]=A[0].slice(0)).length&&
"ID"===(g=d[0]).type&&9===f.nodeType&&v&&u.relative[d[1].type]){if(!(f=(u.find.ID(g.matches[0].replace(Xa,ya),f)||[])[0]))return h;C&&(f=f.parentNode);a=a.slice(d.shift().value.length)}for(c=da.needsContext.test(a)?0:d.length;c--&&(g=d[c],!u.relative[l=g.type]);)if((k=u.find[l])&&(b=k(g.matches[0].replace(Xa,ya),H.test(d[0].type)&&p(f.parentNode)||f))){if(d.splice(c,1),!(a=b.length&&F(d)))return qa.apply(h,b),h;break}}return(C||t(a,A))(b,f,!v,h,!f||H.test(a)&&p(f.parentNode)||f),h},y.sortStable=Q.split("").sort(V).join("")===
Q,y.detectDuplicates=!!G,T(),y.sortDetached=f(function(a){return 1&a.compareDocumentPosition(w.createElement("fieldset"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||d("type|href|height|width",function(a,f,h){if(!h)return a.getAttribute(f,"type"===f.toLowerCase()?1:2)}),y.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||d("value",function(a,f,h){if(!h&&"input"===
a.nodeName.toLowerCase())return a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,f,h){var b;if(!h)return!0===a[f]?f.toLowerCase():(b=a.getAttributeNode(f))&&b.specified?b.value:null}),h}(a);u.find=Za;u.expr=Za.selectors;u.expr[":"]=u.expr.pseudos;u.uniqueSort=u.unique=Za.uniqueSort;u.text=Za.getText;u.isXMLDoc=Za.isXML;u.contains=Za.contains;
u.escapeSelector=Za.escape;var w=function(a,b,c){for(var h=[],f=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(f&&u(a).is(c))break;h.push(a)}return h},dc=function(a,b){for(var h=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&h.push(a);return h},db=u.expr.match.needsContext,hb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,uc=/^.[^:#\[\.,]*$/;u.filter=function(a,b,c){var h=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===h.nodeType?u.find.matchesSelector(h,a)?[h]:[]:u.find.matches(a,
u.grep(b,function(a){return 1===a.nodeType}))};u.fn.extend({find:function(a){var h,b=this.length,c=this;if("string"!=typeof a)return this.pushStack(u(a).filter(function(){for(h=0;h<b;h++)if(u.contains(c[h],this))return!0}));var f=this.pushStack([]);for(h=0;h<b;h++)u.find(a,c[h],f);return 1<b?u.uniqueSort(f):f},filter:function(a){return this.pushStack(m(this,a||[],!1))},not:function(a){return this.pushStack(m(this,a||[],!0))},is:function(a){return!!m(this,"string"==typeof a&&db.test(a)?u(a):a||[],
!1).length}});var ib=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(u.fn.init=function(a,b,c){var h,f;if(!a)return this;if(c=c||jb,"string"==typeof a){if(!(h="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:ib.exec(a))||!h[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(h[1]){if(b=b instanceof u?b[0]:b,u.merge(this,u.parseHTML(h[1],b&&b.nodeType?b.ownerDocument||b:da,!0)),hb.test(h[1])&&u.isPlainObject(b))for(h in b)u.isFunction(this[h])?this[h](b[h]):this.attr(h,b[h]);return this}return(f=
da.getElementById(h[2]))&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):u.isFunction(a)?void 0!==c.ready?c.ready(a):a(u):u.makeArray(a,this)}).prototype=u.fn;var jb=u(da);var Ha=/^(?:parents|prev(?:Until|All))/,Ea={children:!0,contents:!0,next:!0,prev:!0};u.fn.extend({has:function(a){var h=u(a,this),b=h.length;return this.filter(function(){for(var a=0;a<b;a++)if(u.contains(this,h[a]))return!0})},closest:function(a,b){var h,c=0,f=this.length,d=[],g="string"!=typeof a&&
u(a);if(!db.test(a))for(;c<f;c++)for(h=this[c];h&&h!==b;h=h.parentNode)if(11>h.nodeType&&(g?-1<g.index(h):1===h.nodeType&&u.find.matchesSelector(h,a))){d.push(h);break}return this.pushStack(1<d.length?u.uniqueSort(d):d)},index:function(a){return a?"string"==typeof a?xa.call(u(a),this[0]):xa.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(u.uniqueSort(u.merge(this.get(),u(a,b))))},addBack:function(a){return this.add(null==
a?this.prevObject:this.prevObject.filter(a))}});u.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return w(a,"parentNode")},parentsUntil:function(a,b,c){return w(a,"parentNode",c)},next:function(a){return k(a,"nextSibling")},prev:function(a){return k(a,"previousSibling")},nextAll:function(a){return w(a,"nextSibling")},prevAll:function(a){return w(a,"previousSibling")},nextUntil:function(a,b,c){return w(a,"nextSibling",c)},prevUntil:function(a,b,c){return w(a,
"previousSibling",c)},siblings:function(a){return dc((a.parentNode||{}).firstChild,a)},children:function(a){return dc(a.firstChild)},contents:function(a){return t(a,"iframe")?a.contentDocument:(t(a,"template")&&(a=a.content||a),u.merge([],a.childNodes))}},function(a,b){u.fn[a]=function(h,c){var f=u.map(this,b,h);return"Until"!==a.slice(-5)&&(c=h),c&&"string"==typeof c&&(f=u.filter(c,f)),1<this.length&&(Ea[a]||u.uniqueSort(f),Ha.test(a)&&f.reverse()),this.pushStack(f)}});var Oa=/[^\x20\t\r\n\f]+/g;
u.Callbacks=function(a){a="string"==typeof a?function(a){var f={};return u.each(a.match(Oa)||[],function(a,h){f[h]=!0}),f}(a):u.extend({},a);var h,b,c,f,d=[],g=[],l=-1,k=function(){f=f||a.once;for(c=h=!0;g.length;l=-1)for(b=g.shift();++l<d.length;)!1===d[l].apply(b[0],b[1])&&a.stopOnFalse&&(l=d.length,b=!1);a.memory||(b=!1);h=!1;f&&(d=b?[]:"")},A={add:function(){return d&&(b&&!h&&(l=d.length-1,g.push(b)),function yc(f){u.each(f,function(f,h){u.isFunction(h)?a.unique&&A.has(h)||d.push(h):h&&h.length&&
"string"!==u.type(h)&&yc(h)})}(arguments),b&&!h&&k()),this},remove:function(){return u.each(arguments,function(a,f){for(var h;-1<(h=u.inArray(f,d,h));)d.splice(h,1),h<=l&&l--}),this},has:function(a){return a?-1<u.inArray(a,d):0<d.length},empty:function(){return d&&(d=[]),this},disable:function(){return f=g=[],d=b="",this},disabled:function(){return!d},lock:function(){return f=g=[],b||h||(d=b=""),this},locked:function(){return!!f},fireWith:function(a,b){return f||(b=[a,(b=b||[]).slice?b.slice():b],
g.push(b),h||k()),this},fire:function(){return A.fireWith(this,arguments),this},fired:function(){return!!c}};return A};u.extend({Deferred:function(h){var b=[["notify","progress",u.Callbacks("memory"),u.Callbacks("memory"),2],["resolve","done",u.Callbacks("once memory"),u.Callbacks("once memory"),0,"resolved"],["reject","fail",u.Callbacks("once memory"),u.Callbacks("once memory"),1,"rejected"]],c="pending",d={state:function(){return c},always:function(){return f.done(arguments).fail(arguments),this},
catch:function(a){return d.then(null,a)},pipe:function(){var a=arguments;return u.Deferred(function(h){u.each(b,function(b,c){var d=u.isFunction(a[c[4]])&&a[c[4]];f[c[1]](function(){var a=d&&d.apply(this,arguments);a&&u.isFunction(a.promise)?a.promise().progress(h.notify).done(h.resolve).fail(h.reject):h[c[0]+"With"](this,d?[a]:arguments)})});a=null}).promise()},then:function(f,h,c){function d(f,h,b,c){return function(){var l=this,k=arguments,A=function(){var a;if(!(f<g)){if((a=b.apply(l,k))===h.promise())throw new TypeError("Thenable self-resolution");
var A=a&&("object"==typeof a||"function"==typeof a)&&a.then;u.isFunction(A)?c?A.call(a,d(g,h,r,c),d(g,h,x,c)):(g++,A.call(a,d(g,h,r,c),d(g,h,x,c),d(g,h,r,h.notifyWith))):(b!==r&&(l=void 0,k=[a]),(c||h.resolveWith)(l,k))}},C=c?A:function(){try{A()}catch(vc){u.Deferred.exceptionHook&&u.Deferred.exceptionHook(vc,C.stackTrace),f+1>=g&&(b!==x&&(l=void 0,k=[vc]),h.rejectWith(l,k))}};f?C():(u.Deferred.getStackHook&&(C.stackTrace=u.Deferred.getStackHook()),a.setTimeout(C))}}var g=0;return u.Deferred(function(a){b[0][3].add(d(0,
a,u.isFunction(c)?c:r,a.notifyWith));b[1][3].add(d(0,a,u.isFunction(f)?f:r));b[2][3].add(d(0,a,u.isFunction(h)?h:x))}).promise()},promise:function(a){return null!=a?u.extend(a,d):d}},f={};return u.each(b,function(a,h){var g=h[2],l=h[5];d[h[1]]=g.add;l&&g.add(function(){c=l},b[3-a][2].disable,b[0][2].lock);g.add(h[3].fire);f[h[0]]=function(){return f[h[0]+"With"](this===f?void 0:this,arguments),this};f[h[0]+"With"]=g.fireWith}),d.promise(f),h&&h.call(f,f),f},when:function(a){var h=arguments.length,
b=h,c=Array(b),f=I.call(arguments),d=u.Deferred(),g=function(a){return function(b){c[a]=this;f[a]=1<arguments.length?I.call(arguments):b;--h||d.resolveWith(c,f)}};if(1>=h&&(z(a,d.done(g(b)).resolve,d.reject,!h),"pending"===d.state()||u.isFunction(f[b]&&f[b].then)))return d.then();for(;b--;)z(f[b],g(b),d.reject);return d.promise()}});var Ka=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;u.Deferred.exceptionHook=function(h,b){a.console&&a.console.warn&&h&&Ka.test(h.name)&&a.console.warn("jQuery.Deferred exception: "+
h.message,h.stack,b)};u.readyException=function(h){a.setTimeout(function(){throw h;})};var $a=u.Deferred();u.fn.ready=function(a){return $a.then(a).catch(function(a){u.readyException(a)}),this};u.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--u.readyWait:u.isReady)||(u.isReady=!0,!0!==a&&0<--u.readyWait||$a.resolveWith(da,[u]))}});u.ready.then=$a.then;"complete"===da.readyState||"loading"!==da.readyState&&!da.documentElement.doScroll?a.setTimeout(u.ready):(da.addEventListener("DOMContentLoaded",
v),a.addEventListener("load",v));var Ja=function(a,b,c,d,f,g,l){var h=0,k=a.length,A=null==c;if("object"===u.type(c))for(h in f=!0,c)Ja(a,b,h,c[h],!0,g,l);else if(void 0!==d&&(f=!0,u.isFunction(d)||(l=!0),A&&(l?(b.call(a,d),b=null):(A=b,b=function(a,f,h){return A.call(u(a),h)})),b))for(;h<k;h++)b(a[h],c,l?d:d.call(a[h],h,b(a[h],c)));return f?a:A?b.call(a):k?b(a[0],c):g},Ia=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};n.uid=1;n.prototype={cache:function(a){var h=a[this.expando];
return h||(h={},Ia(a)&&(a.nodeType?a[this.expando]=h:Object.defineProperty(a,this.expando,{value:h,configurable:!0}))),h},set:function(a,b,c){var h;a=this.cache(a);if("string"==typeof b)a[u.camelCase(b)]=c;else for(h in b)a[u.camelCase(h)]=b[h];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][u.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var h=
a[this.expando];if(void 0!==h){if(void 0!==b){var c=(b=Array.isArray(b)?b.map(u.camelCase):(b=u.camelCase(b))in h?[b]:b.match(Oa)||[]).length;for(;c--;)delete h[b[c]]}(void 0===b||u.isEmptyObject(h))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!u.isEmptyObject(a)}};var fa=new n,ja=new n,Ca=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ya=/[A-Z]/g;u.extend({hasData:function(a){return ja.hasData(a)||fa.hasData(a)},data:function(a,b,c){return ja.access(a,
b,c)},removeData:function(a,b){ja.remove(a,b)},_data:function(a,b,c){return fa.access(a,b,c)},_removeData:function(a,b){fa.remove(a,b)}});u.fn.extend({data:function(a,b){var h,c,f,g=this[0],l=g&&g.attributes;if(void 0===a){if(this.length&&(f=ja.get(g),1===g.nodeType&&!fa.get(g,"hasDataAttrs"))){for(h=l.length;h--;)l[h]&&0===(c=l[h].name).indexOf("data-")&&(c=u.camelCase(c.slice(5)),d(g,c,f[c]));fa.set(g,"hasDataAttrs",!0)}return f}return"object"==typeof a?this.each(function(){ja.set(this,a)}):Ja(this,
function(f){var b;if(g&&void 0===f)return void 0!==(b=ja.get(g,a))?b:void 0!==(b=d(g,a))?b:void 0;this.each(function(){ja.set(this,a,f)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){ja.remove(this,a)})}});u.extend({queue:function(a,b,c){var h;if(a)return b=(b||"fx")+"queue",h=fa.get(a,b),c&&(!h||Array.isArray(c)?h=fa.access(a,b,u.makeArray(c)):h.push(c)),h||[]},dequeue:function(a,b){b=b||"fx";var h=u.queue(a,b),c=h.length,f=h.shift(),d=u._queueHooks(a,b);
"inprogress"===f&&(f=h.shift(),c--);f&&("fx"===b&&h.unshift("inprogress"),delete d.stop,f.call(a,function(){u.dequeue(a,b)},d));!c&&d&&d.empty.fire()},_queueHooks:function(a,b){var h=b+"queueHooks";return fa.get(a,h)||fa.access(a,h,{empty:u.Callbacks("once memory").add(function(){fa.remove(a,[b+"queue",h])})})}});u.fn.extend({queue:function(a,b){var h=2;return"string"!=typeof a&&(b=a,a="fx",h--),arguments.length<h?u.queue(this[0],a):void 0===b?this:this.each(function(){var h=u.queue(this,a,b);u._queueHooks(this,
a);"fx"===a&&"inprogress"!==h[0]&&u.dequeue(this,a)})},dequeue:function(a){return this.each(function(){u.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var h,c=1,f=u.Deferred(),d=this,g=this.length,l=function(){--c||f.resolveWith(d,[d])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";g--;)(h=fa.get(d[g],a+"queueHooks"))&&h.empty&&(c++,h.empty.add(l));return l(),f.promise(b)}});var ma=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,va=new RegExp("^(?:([+-])=|)("+
ma+")([a-z%]*)$","i"),wa=["Top","Right","Bottom","Left"],Xa=function(a,b){return"none"===(a=b||a).style.display||""===a.style.display&&u.contains(a.ownerDocument,a)&&"none"===u.css(a,"display")},Wb=function(a,b,c,d){var f,h={};for(f in b)h[f]=a.style[f],a.style[f]=b[f];for(f in c=c.apply(a,d||[]),b)a.style[f]=h[f];return c},ya={};u.fn.extend({show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Xa(this)?
u(this).show():u(this).hide()})}});var Qa=/^(?:checkbox|radio)$/i,ub=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pb=/^$|\/(?:java|ecma)script/i,ab={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ab.optgroup=ab.option;ab.tbody=ab.tfoot=ab.colgroup=ab.caption=ab.thead;ab.th=ab.td;var La,Kb=/<|&#?\w+;/;var bb=da.createDocumentFragment().appendChild(da.createElement("div"));
(La=da.createElement("input")).setAttribute("type","radio");La.setAttribute("checked","checked");La.setAttribute("name","t");bb.appendChild(La);ua.checkClone=bb.cloneNode(!0).cloneNode(!0).lastChild.checked;bb.innerHTML="<textarea>x</textarea>";ua.noCloneChecked=!!bb.cloneNode(!0).lastChild.defaultValue;var kb=da.documentElement,cb=/^key/,Ra=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fb=/^([^.]*)(?:\.(.+)|)/;u.event={global:{},add:function(a,b,c,d,f){var h,g,l,k,A,e,p,n,C;if(A=fa.get(a))for(c.handler&&
(c=(h=c).handler,f=h.selector),f&&u.find.matchesSelector(kb,f),c.guid||(c.guid=u.guid++),(k=A.events)||(k=A.events={}),(g=A.handle)||(g=A.handle=function(f){return void 0!==u&&u.event.triggered!==f.type?u.event.dispatch.apply(a,arguments):void 0}),A=(b=(b||"").match(Oa)||[""]).length;A--;){var F=C=(l=fb.exec(b[A])||[])[1];l=(l[2]||"").split(".").sort();F&&(p=u.event.special[F]||{},F=(f?p.delegateType:p.bindType)||F,p=u.event.special[F]||{},e=u.extend({type:F,origType:C,data:d,handler:c,guid:c.guid,
selector:f,needsContext:f&&u.expr.match.needsContext.test(f),namespace:l.join(".")},h),(n=k[F])||((n=k[F]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(a,d,l,g)||a.addEventListener&&a.addEventListener(F,g)),p.add&&(p.add.call(a,e),e.handler.guid||(e.handler.guid=c.guid)),f?n.splice(n.delegateCount++,0,e):n.push(e),u.event.global[F]=!0)}},remove:function(a,b,c,d,f){var h,g,l,k,A,e,p,n,C=fa.hasData(a)&&fa.get(a);if(C&&(k=C.events)){for(A=(b=(b||"").match(Oa)||[""]).length;A--;)if(e=n=(l=fb.exec(b[A])||
[])[1],p=(l[2]||"").split(".").sort(),e){var F=u.event.special[e]||{};var r=k[e=(d?F.delegateType:F.bindType)||e]||[];l=l[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=h=r.length;h--;){var N=r[h];!f&&n!==N.origType||c&&c.guid!==N.guid||l&&!l.test(N.namespace)||d&&d!==N.selector&&("**"!==d||!N.selector)||(r.splice(h,1),N.selector&&r.delegateCount--,F.remove&&F.remove.call(a,N))}g&&!r.length&&(F.teardown&&!1!==F.teardown.call(a,p,C.handle)||u.removeEvent(a,e,C.handle),delete k[e])}else for(e in k)u.event.remove(a,
e+b[A],c,d,!0);u.isEmptyObject(k)&&fa.remove(a,"handle events")}},dispatch:function(a){var b,h,c,f,d=u.event.fix(a),g=Array(arguments.length);var l=(fa.get(this,"events")||{})[d.type]||[];var k=u.event.special[d.type]||{};g[0]=d;for(b=1;b<arguments.length;b++)g[b]=arguments[b];if(d.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,d)){var A=u.event.handlers.call(this,d,l);for(b=0;(c=A[b++])&&!d.isPropagationStopped();)for(d.currentTarget=c.elem,l=0;(f=c.handlers[l++])&&!d.isImmediatePropagationStopped();)d.rnamespace&&
!d.rnamespace.test(f.namespace)||(d.handleObj=f,d.data=f.data,void 0!==(h=((u.event.special[f.origType]||{}).handle||f.handler).apply(c.elem,g))&&!1===(d.result=h)&&(d.preventDefault(),d.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,d),d.result}},handlers:function(a,b){var h,c,f,d=[],g=b.delegateCount,l=a.target;if(g&&l.nodeType&&!("click"===a.type&&1<=a.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==a.type||!0!==l.disabled)){var k=[];var A={};for(h=
0;h<g;h++)void 0===A[f=(c=b[h]).selector+" "]&&(A[f]=c.needsContext?-1<u(f,this).index(l):u.find(f,this,null,[l]).length),A[f]&&k.push(c);k.length&&d.push({elem:l,handlers:k})}return l=this,g<b.length&&d.push({elem:l,handlers:b.slice(g)}),d},addProp:function(a,b){Object.defineProperty(u.Event.prototype,a,{enumerable:!0,configurable:!0,get:u.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,
a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[u.expando]?a:new u.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==N()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===N()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&t(this,"input"))return this.click(),!1},_default:function(a){return t(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==
a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};u.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};u.Event=function(a,b){if(!(this instanceof u.Event))return new u.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?y:R,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):
this.type=a;b&&u.extend(this,b);this.timeStamp=a&&a.timeStamp||u.now();this[u.expando]=!0};u.Event.prototype={constructor:u.Event,isDefaultPrevented:R,isPropagationStopped:R,isImmediatePropagationStopped:R,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=y;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=y;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=
this.originalEvent;this.isImmediatePropagationStopped=y;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};u.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;
return null==a.which&&cb.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Ra.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},u.event.addProp);u.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){u.event.special[a]={delegateType:b,bindType:b,handle:function(a){var h,f=a.relatedTarget,c=a.handleObj;return f&&(f===this||u.contains(this,f))||(a.type=c.origType,h=c.handler.apply(this,arguments),a.type=b),h}}});u.fn.extend({on:function(a,
b,c,d){return p(this,a,b,c,d)},one:function(a,b,c,d){return p(this,a,b,c,d,1)},off:function(a,b,c){var h,f;if(a&&a.preventDefault&&a.handleObj)return h=a.handleObj,u(a.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"==typeof a){for(f in a)this.off(f,b,a[f]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=R),this.each(function(){u.event.remove(this,a,c,b)})}});var Vb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
Xb=/<script|<style|<link/i,mc=/checked\s*(?:[^=]|=\s*.checked.)/i,Sb=/^true\/(.*)/,Yb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;u.extend({htmlPrefilter:function(a){return a.replace(Vb,"<$1></$2>")},clone:function(a,b,c){var h,f,d=a.cloneNode(!0),g=u.contains(a.ownerDocument,a);if(!(ua.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||u.isXMLDoc(a))){var k=l(d);var A=0;for(h=(f=l(a)).length;A<h;A++){var e=f[A],p=k[A],n=p.nodeName.toLowerCase();"input"===n&&Qa.test(e.type)?p.checked=e.checked:"input"!==
n&&"textarea"!==n||(p.defaultValue=e.defaultValue)}}if(b)if(c)for(f=f||l(a),k=k||l(d),A=0,h=f.length;A<h;A++)ca(f[A],k[A]);else ca(a,d);return 0<(k=l(d,"script")).length&&O(k,!g&&l(a,"script")),d},cleanData:function(a){for(var b,h,c,f=u.event.special,d=0;void 0!==(h=a[d]);d++)if(Ia(h)){if(b=h[fa.expando]){if(b.events)for(c in b.events)f[c]?u.event.remove(h,c):u.removeEvent(h,c,b.handle);h[fa.expando]=void 0}h[ja.expando]&&(h[ja.expando]=void 0)}}});u.fn.extend({detach:function(a){return P(this,a,
!0)},remove:function(a){return P(this,a)},text:function(a){return Ja(this,function(a){return void 0===a?u.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return K(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||V(this,a).appendChild(a)})},prepend:function(){return K(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=
V(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return K(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return K(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(u.cleanData(l(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return u.clone(this,a,b)})},
html:function(a){return Ja(this,function(a){var b=this[0]||{},h=0,f=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Xb.test(a)&&!ab[(ub.exec(a)||["",""])[1].toLowerCase()]){a=u.htmlPrefilter(a);try{for(;h<f;h++)1===(b=this[h]||{}).nodeType&&(u.cleanData(l(b,!1)),b.innerHTML=a);b=0}catch(D){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return K(this,arguments,function(b){var h=this.parentNode;0>u.inArray(this,a)&&(u.cleanData(l(this)),
h&&h.replaceChild(b,this))},a)}});u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){u.fn[a]=function(a){for(var h=[],f=u(a),c=f.length-1,d=0;d<=c;d++)a=d===c?this:this.clone(!0),u(f[d])[b](a),Na.apply(h,a.get());return this.pushStack(h)}});var qb=/^margin/,Hb=new RegExp("^("+ma+")(?!px)[a-z%]+$","i"),Sa=function(b){var h=b.ownerDocument.defaultView;return h&&h.opener||(h=a),h.getComputedStyle(b)};!function(){function b(){if(k){k.style.cssText=
"box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";k.innerHTML="";kb.appendChild(l);var b=a.getComputedStyle(k);c="1%"!==b.top;f="2px"===b.marginLeft;d="4px"===b.width;k.style.marginRight="50%";g="4px"===b.marginRight;kb.removeChild(l);k=null}}var c,d,g,f,l=da.createElement("div"),k=da.createElement("div");k.style&&(k.style.backgroundClip="content-box",k.cloneNode(!0).style.backgroundClip="",ua.clearCloneStyle="content-box"===k.style.backgroundClip,
l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.appendChild(k),u.extend(ua,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),d},pixelMarginRight:function(){return b(),g},reliableMarginLeft:function(){return b(),f}}))}();var tb=/^(none|table(?!-c[ea]).+)/,mb=/^--/,ta={position:"absolute",visibility:"hidden",display:"block"},cc={letterSpacing:"0",fontWeight:"400"},Ma=["Webkit","Moz","ms"],Ob=da.createElement("div").style;
u.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=J(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,h,l,k=u.camelCase(b),A=mb.test(b),e=a.style;if(A||(b=Ga(k)),l=u.cssHooks[b]||u.cssHooks[k],void 0===c)return l&&"get"in l&&
void 0!==(f=l.get(a,!1,d))?f:e[b];"string"===(h=typeof c)&&(f=va.exec(c))&&f[1]&&(c=g(a,b,f),h="number");null!=c&&c==c&&("number"===h&&(c+=f&&f[3]||(u.cssNumber[k]?"":"px")),ua.clearCloneStyle||""!==c||0!==b.indexOf("background")||(e[b]="inherit"),l&&"set"in l&&void 0===(c=l.set(a,c,d))||(A?e.setProperty(b,c):e[b]=c))}},css:function(a,b,c,d){var f,h,g,l=u.camelCase(b);return mb.test(b)||(b=Ga(l)),(g=u.cssHooks[b]||u.cssHooks[l])&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=J(a,b,d)),"normal"===f&&
b in cc&&(f=cc[b]),""===c||c?(h=parseFloat(f),!0===c||isFinite(h)?h||0:f):f}});u.each(["height","width"],function(a,b){u.cssHooks[b]={get:function(a,h,f){if(h)return!tb.test(u.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?W(a,b,f):Wb(a,ta,function(){return W(a,b,f)})},set:function(a,h,f){var c,d=f&&Sa(a);f=f&&X(a,b,f,"border-box"===u.css(a,"boxSizing",!1,d),d);return f&&(c=va.exec(h))&&"px"!==(c[3]||"px")&&(a.style[b]=h,h=u.css(a,b)),U(0,h,f)}}});u.cssHooks.marginLeft=
qa(ua.reliableMarginLeft,function(a,b){if(b)return(parseFloat(J(a,"marginLeft"))||a.getBoundingClientRect().left-Wb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});u.each({margin:"",padding:"",border:"Width"},function(a,b){u.cssHooks[a+b]={expand:function(h){var c=0,f={};for(h="string"==typeof h?h.split(" "):[h];4>c;c++)f[a+wa[c]+b]=h[c]||h[c-2]||h[0];return f}};qb.test(a)||(u.cssHooks[a+b].set=U)});u.fn.extend({css:function(a,b){return Ja(this,function(a,b,f){var h,c=
{},d=0;if(Array.isArray(b)){f=Sa(a);for(h=b.length;d<h;d++)c[b[d]]=u.css(a,b[d],!1,f);return c}return void 0!==f?u.style(a,b,f):u.css(a,b)},a,b,1<arguments.length)}});u.Tween=L;L.prototype={constructor:L,init:function(a,b,c,d,f,g){this.elem=a;this.prop=c;this.easing=f||u.easing._default;this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=g||(u.cssNumber[c]?"":"px")},cur:function(){var a=L.propHooks[this.prop];return a&&a.get?a.get(this):L.propHooks._default.get(this)},run:function(a){var b,
h=L.propHooks[this.prop];return this.options.duration?this.pos=b=u.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),h&&h.set?h.set(this):L.propHooks._default.set(this),this}};L.prototype.init.prototype=L.prototype;L.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=
u.css(a.elem,a.prop,""))&&"auto"!==b?b:0},set:function(a){u.fx.step[a.prop]?u.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[u.cssProps[a.prop]]&&!u.cssHooks[a.prop]?a.elem[a.prop]=a.now:u.style(a.elem,a.prop,a.now+a.unit)}}};L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};u.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};u.fx=L.prototype.init;u.fx.step={};
var Bb,Va,nc=/^(?:toggle|show|hide)$/,Rb=/queueHooks$/;u.Animation=u.extend(sa,{tweeners:{"*":[function(a,b){var h=this.createTween(a,b);return g(h.elem,a,va.exec(b),h),h}]},tweener:function(a,b){u.isFunction(a)?(b=a,a=["*"]):a=a.match(Oa);for(var h,c=0,f=a.length;c<f;c++)h=a[c],sa.tweeners[h]=sa.tweeners[h]||[],sa.tweeners[h].unshift(b)},prefilters:[function(a,b,c){var h,f,d,g,l,k,A,e="width"in b||"height"in b,p=this,n={},F=a.style,r=a.nodeType&&Xa(a),N=fa.get(a,"fxshow");for(h in c.queue||(null==
(g=u._queueHooks(a,"fx")).unqueued&&(g.unqueued=0,l=g.empty.fire,g.empty.fire=function(){g.unqueued||l()}),g.unqueued++,p.always(function(){p.always(function(){g.unqueued--;u.queue(a,"fx").length||g.empty.fire()})})),b)if(f=b[h],nc.test(f)){if(delete b[h],d=d||"toggle"===f,f===(r?"hide":"show")){if("show"!==f||!N||void 0===N[h])continue;r=!0}n[h]=N&&N[h]||u.style(a,h)}if((b=!u.isEmptyObject(b))||!u.isEmptyObject(n))for(h in e&&1===a.nodeType&&(c.overflow=[F.overflow,F.overflowX,F.overflowY],null==
(k=N&&N.display)&&(k=fa.get(a,"display")),"none"===(A=u.css(a,"display"))&&(k?A=k:(E([a],!0),k=a.style.display||k,A=u.css(a,"display"),E([a]))),("inline"===A||"inline-block"===A&&null!=k)&&"none"===u.css(a,"float")&&(b||(p.done(function(){F.display=k}),null==k&&(A=F.display,k="none"===A?"":A)),F.display="inline-block")),c.overflow&&(F.overflow="hidden",p.always(function(){F.overflow=c.overflow[0];F.overflowX=c.overflow[1];F.overflowY=c.overflow[2]})),b=!1,n)b||(N?"hidden"in N&&(r=N.hidden):N=fa.access(a,
"fxshow",{display:k}),d&&(N.hidden=!r),r&&E([a],!0),p.done(function(){for(h in r||E([a]),fa.remove(a,"fxshow"),n)u.style(a,h,n[h])})),b=S(r?N[h]:0,h,p),h in N||(N[h]=b.start,r&&(b.end=b.start,b.start=0))}],prefilter:function(a,b){b?sa.prefilters.unshift(a):sa.prefilters.push(a)}});u.speed=function(a,b,c){var h=a&&"object"==typeof a?u.extend({},a):{complete:c||!c&&b||u.isFunction(a)&&a,duration:a,easing:c&&b||b&&!u.isFunction(b)&&b};return u.fx.off?h.duration=0:"number"!=typeof h.duration&&(h.duration in
u.fx.speeds?h.duration=u.fx.speeds[h.duration]:h.duration=u.fx.speeds._default),null!=h.queue&&!0!==h.queue||(h.queue="fx"),h.old=h.complete,h.complete=function(){u.isFunction(h.old)&&h.old.call(this);h.queue&&u.dequeue(this,h.queue)},h};u.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Xa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var f=u.isEmptyObject(a),h=u.speed(b,c,d);b=function(){var b=sa(this,u.extend({},a),h);(f||fa.get(this,"finish"))&&b.stop(!0)};
return b.finish=b,f||!1===h.queue?this.each(b):this.queue(h.queue,b)},stop:function(a,b,c){var h=function(a){var f=a.stop;delete a.stop;f(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var f=!0,b=null!=a&&a+"queueHooks",d=u.timers,g=fa.get(this);if(b)g[b]&&g[b].stop&&h(g[b]);else for(b in g)g[b]&&g[b].stop&&Rb.test(b)&&h(g[b]);for(b=d.length;b--;)d[b].elem!==this||null!=a&&d[b].queue!==a||(d[b].anim.stop(c),f=!1,d.splice(b,1));!f&&c||u.dequeue(this,
a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b=fa.get(this),h=b[a+"queue"];var c=b[a+"queueHooks"];var f=u.timers,d=h?h.length:0;b.finish=!0;u.queue(this,a,[]);c&&c.stop&&c.stop.call(this,!0);for(c=f.length;c--;)f[c].elem===this&&f[c].queue===a&&(f[c].anim.stop(!0),f.splice(c,1));for(c=0;c<d;c++)h[c]&&h[c].finish&&h[c].finish.call(this);delete b.finish})}});u.each(["toggle","show","hide"],function(a,b){var h=u.fn[b];u.fn[b]=function(a,f,c){return null==a||"boolean"==
typeof a?h.apply(this,arguments):this.animate(T(b,!0),a,f,c)}});u.each({slideDown:T("show"),slideUp:T("hide"),slideToggle:T("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){u.fn[a]=function(a,h,f){return this.animate(b,a,h,f)}});u.timers=[];u.fx.tick=function(){var a,b=0,c=u.timers;for(Bb=u.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||u.fx.stop();Bb=void 0};u.fx.timer=function(a){u.timers.push(a);u.fx.start()};u.fx.interval=
13;u.fx.start=function(){Va||(Va=!0,A())};u.fx.stop=function(){Va=null};u.fx.speeds={slow:600,fast:200,_default:400};u.fn.delay=function(b,c){return b=u.fx&&u.fx.speeds[b]||b,c=c||"fx",this.queue(c,function(h,c){var f=a.setTimeout(h,b);c.stop=function(){a.clearTimeout(f)}})};(function(){var a=da.createElement("input"),b=da.createElement("select").appendChild(da.createElement("option"));a.type="checkbox";ua.checkOn=""!==a.value;ua.optSelected=b.selected;(a=da.createElement("input")).value="t";a.type=
"radio";ua.radioValue="t"===a.value})();var gb=u.expr.attrHandle;u.fn.extend({attr:function(a,b){return Ja(this,u.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){u.removeAttr(this,a)})}});u.extend({attr:function(a,b,c){var h,f,d=a.nodeType;if(3!==d&&8!==d&&2!==d)return void 0===a.getAttribute?u.prop(a,b,c):(1===d&&u.isXMLDoc(a)||(f=u.attrHooks[b.toLowerCase()]||(u.expr.match.bool.test(b)?Ta:void 0)),void 0!==c?null===c?void u.removeAttr(a,b):f&&"set"in f&&void 0!==
(h=f.set(a,c,b))?h:(a.setAttribute(b,c+""),c):f&&"get"in f&&null!==(h=f.get(a,b))?h:null==(h=u.find.attr(a,b))?void 0:h)},attrHooks:{type:{set:function(a,b){if(!ua.radioValue&&"radio"===b&&t(a,"input")){var h=a.value;return a.setAttribute("type",b),h&&(a.value=h),b}}}},removeAttr:function(a,b){var h=0,c=b&&b.match(Oa);if(c&&1===a.nodeType)for(;b=c[h++];)a.removeAttribute(b)}});var Ta={set:function(a,b,c){return!1===b?u.removeAttr(a,c):a.setAttribute(c,c),c}};u.each(u.expr.match.bool.source.match(/\w+/g),
function(a,b){var h=gb[b]||u.find.attr;gb[b]=function(a,b,c){var f,d,g=b.toLowerCase();return c||(d=gb[g],gb[g]=f,f=null!=h(a,b,c)?g:null,gb[g]=d),f}});var Wa=/^(?:input|select|textarea|button)$/i,Pa=/^(?:a|area)$/i;u.fn.extend({prop:function(a,b){return Ja(this,u.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[u.propFix[a]||a]})}});u.extend({prop:function(a,b,c){var h,f,d=a.nodeType;if(3!==d&&8!==d&&2!==d)return 1===d&&u.isXMLDoc(a)||(b=u.propFix[b]||
b,f=u.propHooks[b]),void 0!==c?f&&"set"in f&&void 0!==(h=f.set(a,c,b))?h:a[b]=c:f&&"get"in f&&null!==(h=f.get(a,b))?h:a[b]},propHooks:{tabIndex:{get:function(a){var b=u.find.attr(a,"tabindex");return b?parseInt(b,10):Wa.test(a.nodeName)||Pa.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}});ua.optSelected||(u.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&
a.parentNode.selectedIndex)}});u.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){u.propFix[this.toLowerCase()]=this});u.fn.extend({addClass:function(a){var b,c,h,f,d,g,l,k=0;if(u.isFunction(a))return this.each(function(b){u(this).addClass(a.call(this,b,Z(this)))});if("string"==typeof a&&a)for(b=a.match(Oa)||[];c=this[k++];)if(f=Z(c),h=1===c.nodeType&&" "+ea(f)+" "){for(g=0;d=b[g++];)0>h.indexOf(" "+d+" ")&&(h+=d+" ");
f!==(l=ea(h))&&c.setAttribute("class",l)}return this},removeClass:function(a){var b,c,h,f,d,g,l,k=0;if(u.isFunction(a))return this.each(function(b){u(this).removeClass(a.call(this,b,Z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(Oa)||[];c=this[k++];)if(f=Z(c),h=1===c.nodeType&&" "+ea(f)+" "){for(g=0;d=b[g++];)for(;-1<h.indexOf(" "+d+" ");)h=h.replace(" "+d+" "," ");f!==(l=ea(h))&&c.setAttribute("class",l)}return this},toggleClass:function(a,b){var c=
typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):u.isFunction(a)?this.each(function(c){u(this).toggleClass(a.call(this,c,Z(this),b),b)}):this.each(function(){var b,f;if("string"===c){var h=0;var d=u(this);for(f=a.match(Oa)||[];b=f[h++];)d.hasClass(b)?d.removeClass(b):d.addClass(b)}else void 0!==a&&"boolean"!==c||((b=Z(this))&&fa.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":fa.get(this,"__className__")||""))})},hasClass:function(a){var b,
c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+ea(Z(b))+" ").indexOf(a))return!0;return!1}});var Lb=/\r/g;u.fn.extend({val:function(a){var b,c,h,f=this[0];return arguments.length?(h=u.isFunction(a),this.each(function(f){var c;1===this.nodeType&&(null==(c=h?a.call(this,f,u(this).val()):a)?c="":"number"==typeof c?c+="":Array.isArray(c)&&(c=u.map(c,function(a){return null==a?"":a+""})),(b=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,c,"value")||
(this.value=c))})):f?(b=u.valHooks[f.type]||u.valHooks[f.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(f,"value"))?c:"string"==typeof(c=f.value)?c.replace(Lb,""):null==c?"":c:void 0}});u.extend({valHooks:{option:{get:function(a){var b=u.find.attr(a,"value");return null!=b?b:ea(u.text(a))}},select:{get:function(a){var b,c,h=a.options,f=a.selectedIndex,d="select-one"===a.type,g=d?null:[],l=d?f+1:h.length;for(c=0>f?l:d?f:0;c<l;c++)if(!(!(b=h[c]).selected&&c!==f||b.disabled||b.parentNode.disabled&&
t(b.parentNode,"optgroup"))){if(a=u(b).val(),d)return a;g.push(a)}return g},set:function(a,b){var c,h,f=a.options;b=u.makeArray(b);for(var d=f.length;d--;)((h=f[d]).selected=-1<u.inArray(u.valHooks.option.get(h),b))&&(c=!0);return c||(a.selectedIndex=-1),b}}}});u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=-1<u.inArray(u(a).val(),b)}};ua.checkOn||(u.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});
var vb=/^(?:focusinfocus|focusoutblur)$/;u.extend(u.event,{trigger:function(b,c,d,g){var f,h,l,k,A,e=[d||da],p=Ab.call(b,"type")?b.type:b;var n=Ab.call(b,"namespace")?b.namespace.split("."):[];if(f=h=d=d||da,3!==d.nodeType&&8!==d.nodeType&&!vb.test(p+u.event.triggered)&&(-1<p.indexOf(".")&&(n=p.split("."),p=n.shift(),n.sort()),l=0>p.indexOf(":")&&"on"+p,(b=b[u.expando]?b:new u.Event(p,"object"==typeof b&&b)).isTrigger=g?2:3,b.namespace=n.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+
"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:u.makeArray(c,[b]),A=u.event.special[p]||{},g||!A.trigger||!1!==A.trigger.apply(d,c))){if(!g&&!A.noBubble&&!u.isWindow(d)){var F=A.delegateType||p;for(vb.test(F+p)||(f=f.parentNode);f;f=f.parentNode)e.push(f),h=f;h===(d.ownerDocument||da)&&e.push(h.defaultView||h.parentWindow||a)}for(n=0;(f=e[n++])&&!b.isPropagationStopped();)b.type=1<n?F:A.bindType||p,(k=(fa.get(f,"events")||{})[b.type]&&fa.get(f,"handle"))&&k.apply(f,c),(k=l&&
f[l])&&k.apply&&Ia(f)&&(b.result=k.apply(f,c),!1===b.result&&b.preventDefault());return b.type=p,g||b.isDefaultPrevented()||A._default&&!1!==A._default.apply(e.pop(),c)||!Ia(d)||l&&u.isFunction(d[p])&&!u.isWindow(d)&&((h=d[l])&&(d[l]=null),u.event.triggered=p,d[p](),u.event.triggered=void 0,h&&(d[l]=h)),b.result}},simulate:function(a,b,c){a=u.extend(new u.Event,c,{type:a,isSimulated:!0});u.event.trigger(a,null,b)}});u.fn.extend({trigger:function(a,b){return this.each(function(){u.event.trigger(a,
b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return u.event.trigger(a,b,c,!0)}});u.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){u.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});u.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});ua.focusin="onfocusin"in
a;ua.focusin||u.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){u.event.simulate(b,a.target,u.event.fix(a))};u.event.special[b]={setup:function(){var h=this.ownerDocument||this,f=fa.access(h,b);f||h.addEventListener(a,c,!0);fa.access(h,b,(f||0)+1)},teardown:function(){var h=this.ownerDocument||this,f=fa.access(h,b)-1;f?fa.access(h,b,f):(h.removeEventListener(a,c,!0),fa.remove(h,b))}}});var Ua=a.location,nb=u.now(),ic=/\?/;u.parseXML=function(b){if(!b||"string"!=typeof b)return null;
try{var c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(ob){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||u.error("Invalid XML: "+b),c};var oc=/\[\]$/,jc=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Cb=/^(?:input|select|textarea|keygen)/i;u.param=function(a,b){var c,h=[],f=function(a,b){b=u.isFunction(b)?b():b;h[h.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==b?"":b)};if(Array.isArray(a)||a.jquery&&!u.isPlainObject(a))u.each(a,function(){f(this.name,
this.value)});else for(c in a)Y(c,a[c],b,f);return h.join("&")};u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=u.prop(this,"elements");return a?u.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!u(this).is(":disabled")&&Cb.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!Qa.test(a))}).map(function(a,b){a=u(this).val();return null==a?null:Array.isArray(a)?u.map(a,function(a){return{name:b.name,
value:a.replace(jc,"\r\n")}}):{name:b.name,value:a.replace(jc,"\r\n")}}).get()}});var wb=/%20/g,Da=/#.*$/,eb=/([?&])_=[^&]*/,lb=/^(.*?):[ \t]*([^\r\n]*)$/gm,rb=/^(?:GET|HEAD)$/,sb=/^\/\//,Mb={},xb={},Zb="*/".concat("*"),Ub=da.createElement("a");Ub.href=Ua.href;u.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ua.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ua.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":Zb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?za(za(a,u.ajaxSettings),b):za(u.ajaxSettings,a)},ajaxPrefilter:na(Mb),ajaxTransport:na(xb),
ajax:function(b,c){function h(b,c,h,l){var e,p,U,m,q,X=c;ja||(ja=!0,k&&a.clearTimeout(k),d=void 0,g=l||"",E.readyState=0<b?4:0,e=200<=b&&300>b||304===b,h&&(m=function(a,b,f){for(var c,h,d,g,l=a.contents,k=a.dataTypes;"*"===k[0];)k.shift(),void 0===c&&(c=a.mimeType||b.getResponseHeader("Content-Type"));if(c)for(h in l)if(l[h]&&l[h].test(c)){k.unshift(h);break}if(k[0]in f)d=k[0];else{for(h in f){if(!k[0]||a.converters[h+" "+k[0]]){d=h;break}g||(g=h)}d=d||g}if(d)return d!==k[0]&&k.unshift(d),f[d]}(n,
E,h)),m=function(a,b,f,c){var h,d,g,l,k,A={},e=a.dataTypes.slice();if(e[1])for(g in a.converters)A[g.toLowerCase()]=a.converters[g];for(d=e.shift();d;)if(a.responseFields[d]&&(f[a.responseFields[d]]=b),!k&&c&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),k=d,d=e.shift())if("*"===d)d=k;else if("*"!==k&&k!==d){if(!(g=A[k+" "+d]||A["* "+d]))for(h in A)if((l=h.split(" "))[1]===d&&(g=A[k+" "+l[0]]||A["* "+l[0]])){!0===g?g=A[h]:!0!==A[h]&&(d=l[0],e.unshift(l[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=
g(b)}catch(tc){return{state:"parsererror",error:g?tc:"No conversion from "+k+" to "+d}}}return{state:"success",data:b}}(n,m,E,e),e?(n.ifModified&&((q=E.getResponseHeader("Last-Modified"))&&(u.lastModified[f]=q),(q=E.getResponseHeader("etag"))&&(u.etag[f]=q)),204===b||"HEAD"===n.type?X="nocontent":304===b?X="notmodified":(X=m.state,p=m.data,e=!(U=m.error))):(U=X,!b&&X||(X="error",0>b&&(b=0))),E.status=b,E.statusText=(c||X)+"",e?N.resolveWith(F,[p,X,E]):N.rejectWith(F,[E,X,U]),E.statusCode(y),y=void 0,
A&&r.trigger(e?"ajaxSuccess":"ajaxError",[E,n,e?p:U]),L.fireWith(F,[E,X]),A&&(r.trigger("ajaxComplete",[E,n]),--u.active||u.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0);c=c||{};var d,f,g,l,k,A,e,p,n=u.ajaxSetup({},c),F=n.context||n,r=n.context&&(F.nodeType||F.jquery)?u(F):u.event,N=u.Deferred(),L=u.Callbacks("once memory"),y=n.statusCode||{},U={},m={},q="canceled",E={readyState:0,getResponseHeader:function(a){var b;if(ja){if(!l)for(l={};b=lb.exec(g);)l[b[1].toLowerCase()]=b[2];b=
l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return ja?g:null},setRequestHeader:function(a,b){return null==ja&&(a=m[a.toLowerCase()]=m[a.toLowerCase()]||a,U[a]=b),this},overrideMimeType:function(a){return null==ja&&(n.mimeType=a),this},statusCode:function(a){var b;if(a)if(ja)E.always(a[E.status]);else for(b in a)y[b]=[y[b],a[b]];return this},abort:function(a){a=a||q;return d&&d.abort(a),h(0,a),this}};if(N.promise(E),n.url=((b||n.url||Ua.href)+"").replace(sb,Ua.protocol+
"//"),n.type=c.method||c.type||n.method||n.type,n.dataTypes=(n.dataType||"*").toLowerCase().match(Oa)||[""],null==n.crossDomain){b=da.createElement("a");try{b.href=n.url,b.href=b.href,n.crossDomain=Ub.protocol+"//"+Ub.host!=b.protocol+"//"+b.host}catch(lc){n.crossDomain=!0}}if(n.data&&n.processData&&"string"!=typeof n.data&&(n.data=u.param(n.data,n.traditional)),ka(Mb,n,c,E),ja)return E;for(e in(A=u.event&&n.global)&&0==u.active++&&u.event.trigger("ajaxStart"),n.type=n.type.toUpperCase(),n.hasContent=
!rb.test(n.type),f=n.url.replace(Da,""),n.hasContent?n.data&&n.processData&&0===(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&(n.data=n.data.replace(wb,"+")):(p=n.url.slice(f.length),n.data&&(f+=(ic.test(f)?"&":"?")+n.data,delete n.data),!1===n.cache&&(f=f.replace(eb,"$1"),p=(ic.test(f)?"&":"?")+"_="+nb++ +p),n.url=f+p),n.ifModified&&(u.lastModified[f]&&E.setRequestHeader("If-Modified-Since",u.lastModified[f]),u.etag[f]&&E.setRequestHeader("If-None-Match",u.etag[f])),(n.data&&
n.hasContent&&!1!==n.contentType||c.contentType)&&E.setRequestHeader("Content-Type",n.contentType),E.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+Zb+"; q=0.01":""):n.accepts["*"]),n.headers)E.setRequestHeader(e,n.headers[e]);if(n.beforeSend&&(!1===n.beforeSend.call(F,E,n)||ja))return E.abort();if(q="abort",L.add(n.complete),E.done(n.success),E.fail(n.error),d=ka(xb,n,c,E)){if(E.readyState=1,A&&r.trigger("ajaxSend",[E,n]),
ja)return E;n.async&&0<n.timeout&&(k=a.setTimeout(function(){E.abort("timeout")},n.timeout));try{var ja=!1;d.send(U,h)}catch(lc){if(ja)throw lc;h(-1,lc)}}else h(-1,"No Transport");return E},getJSON:function(a,b,c){return u.get(a,b,c,"json")},getScript:function(a,b){return u.get(a,void 0,b,"script")}});u.each(["get","post"],function(a,b){u[b]=function(a,c,f,h){return u.isFunction(c)&&(h=h||f,f=c,c=void 0),u.ajax(u.extend({url:a,type:b,dataType:h,data:c,success:f},u.isPlainObject(a)&&a))}});u._evalUrl=
function(a){return u.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})};u.fn.extend({wrapAll:function(a){var b;return this[0]&&(u.isFunction(a)&&(a=a.call(this[0])),b=u(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return u.isFunction(a)?this.each(function(b){u(this).wrapInner(a.call(this,b))}):this.each(function(){var b=
u(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=u.isFunction(a);return this.each(function(c){u(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){u(this).replaceWith(this.childNodes)}),this}});u.expr.pseudos.hidden=function(a){return!u.expr.pseudos.visible(a)};u.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};u.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(h){}};
var pc={0:200,1223:204},yb=u.ajaxSettings.xhr();ua.cors=!!yb&&"withCredentials"in yb;ua.ajax=yb=!!yb;u.ajaxTransport(function(b){var c,h;if(ua.cors||yb&&!b.crossDomain)return{send:function(d,f){var g,l=b.xhr();if(l.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)l[g]=b.xhrFields[g];for(g in b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest"),d)l.setRequestHeader(g,d[g]);c=function(a){return function(){c&&
(c=h=l.onload=l.onerror=l.onabort=l.onreadystatechange=null,"abort"===a?l.abort():"error"===a?"number"!=typeof l.status?f(0,"error"):f(l.status,l.statusText):f(pc[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}};l.onload=c();h=l.onerror=c("error");void 0!==l.onabort?l.onabort=h:l.onreadystatechange=function(){4===l.readyState&&a.setTimeout(function(){c&&h()})};c=c("abort");try{l.send(b.hasContent&&
b.data||null)}catch(ac){if(c)throw ac;}},abort:function(){c&&c()}}});u.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return u.globalEval(a),a}}});u.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});u.ajaxTransport("script",function(a){var b,
c;if(a.crossDomain)return{send:function(h,f){b=u("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&f("error"===a.type?404:200,a.type)});da.head.appendChild(b[0])},abort:function(){c&&c()}}});var Fb,Ib=[],Gb=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ib.pop()||u.expando+"_"+nb++;return this[a]=!0,a}});u.ajaxPrefilter("json jsonp",function(b,c,d){var h,f,g,l=!1!==b.jsonp&&(Gb.test(b.url)?"url":"string"==typeof b.data&&
0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");if(l||"jsonp"===b.dataTypes[0])return h=b.jsonpCallback=u.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(Gb,"$1"+h):!1!==b.jsonp&&(b.url+=(ic.test(b.url)?"&":"?")+b.jsonp+"="+h),b.converters["script json"]=function(){return g||u.error(h+" was not called"),g[0]},b.dataTypes[0]="json",f=a[h],a[h]=function(){g=arguments},d.always(function(){void 0===f?u(a).removeProp(h):a[h]=
f;b[h]&&(b.jsonpCallback=c.jsonpCallback,Ib.push(h));g&&u.isFunction(f)&&f(g[0]);g=f=void 0}),"script"});ua.createHTMLDocument=((Fb=da.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Fb.childNodes.length);u.parseHTML=function(a,b,c){return"string"!=typeof a?[]:("boolean"==typeof b&&(c=b,b=!1),b||(ua.createHTMLDocument?((h=(b=da.implementation.createHTMLDocument("")).createElement("base")).href=da.location.href,b.head.appendChild(h)):b=da),d=!c&&[],(f=hb.exec(a))?
[b.createElement(f[1])]:(f=G([a],b,d),d&&d.length&&u(d).remove(),u.merge([],f.childNodes)));var h,f,d};u.fn.load=function(a,b,c){var h,f,d,g=this,l=a.indexOf(" ");return-1<l&&(h=ea(a.slice(l)),a=a.slice(0,l)),u.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),0<g.length&&u.ajax({url:a,type:f||"GET",dataType:"html",data:b}).done(function(a){d=arguments;g.html(h?u("<div>").append(u.parseHTML(a)).find(h):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,d||[a.responseText,b,a])})}),
this};u.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){u.fn[b]=function(a){return this.on(b,a)}});u.expr.pseudos.animated=function(a){return u.grep(u.timers,function(b){return a===b.elem}).length};u.offset={setOffset:function(a,b,c){var h,f,d,g=u.css(a,"position"),l=u(a),k={};"static"===g&&(a.style.position="relative");var A=l.offset();var e=u.css(a,"top");var n=u.css(a,"left");("absolute"===g||"fixed"===g)&&-1<(e+n).indexOf("auto")?(d=(h=l.position()).top,
f=h.left):(d=parseFloat(e)||0,f=parseFloat(n)||0);u.isFunction(b)&&(b=b.call(a,c,u.extend({},A)));null!=b.top&&(k.top=b.top-A.top+d);null!=b.left&&(k.left=b.left-A.left+f);"using"in b?b.using.call(a,k):l.css(k)}};u.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){u.offset.setOffset(this,a,b)});var b,c,h,f,d=this[0];return d?d.getClientRects().length?(h=d.getBoundingClientRect(),c=(b=d.ownerDocument).documentElement,f=b.defaultView,{top:h.top+f.pageYOffset-
c.clientTop,left:h.left+f.pageXOffset-c.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===u.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),t(a[0],"html")||(d=a.offset()),d={top:d.top+u.css(a[0],"borderTopWidth",!0),left:d.left+u.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-u.css(c,"marginTop",!0),left:b.left-d.left-u.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent;a&&"static"===u.css(a,"position");)a=a.offsetParent;return a||kb})}});u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;u.fn[a]=function(h){return Ja(this,function(a,h,d){var f;if(u.isWindow(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===d)return f?f[b]:a[h];f?f.scrollTo(c?f.pageXOffset:d,c?d:f.pageYOffset):a[h]=d},a,h,arguments.length)}});u.each(["top","left"],function(a,b){u.cssHooks[b]=qa(ua.pixelPosition,function(a,c){if(c)return c=
J(a,b),Hb.test(c)?u(a).position()[b]+"px":c})});u.each({Height:"height",Width:"width"},function(a,b){u.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,h){u.fn[h]=function(f,d){var g=arguments.length&&(c||"boolean"!=typeof f),l=c||(!0===f||!0===d?"margin":"border");return Ja(this,function(b,f,c){var d;return u.isWindow(b)?0===h.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(d=b.documentElement,Math.max(b.body["scroll"+a],d["scroll"+a],b.body["offset"+
a],d["offset"+a],d["client"+a])):void 0===c?u.css(b,f,l):u.style(b,f,c,l)},b,g?f:void 0,g)}})});u.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});u.holdReady=function(a){a?u.readyWait++:u.ready(!0)};u.isArray=Array.isArray;u.parseJSON=JSON.parse;u.nodeName=t;!(ia=[],Fa=function(){return u}.apply(ba,
ia),void 0!==Fa&&(B.exports=Fa));var Db=a.jQuery,Jb=a.$;return u.noConflict=function(b){return a.$===u&&(a.$=Jb),b&&a.jQuery===u&&(a.jQuery=Db),u},b||(a.jQuery=a.$=u),u});(function(a,b){!function(a){function b(a,b,c){a.byteLength;for(var d=0,g=c.length;d<g;d++){var l=c.charCodeAt(d);if(128>l)a.setUint8(b++,l>>>0&127|0);else{if(2048>l)a.setUint8(b++,l>>>6&31|192);else{if(65536>l)a.setUint8(b++,l>>>12&15|224);else{if(!(1114112>l))throw Error("bad codepoint "+l);a.setUint8(b++,l>>>18&7|240);a.setUint8(b++,
l>>>12&63|128)}a.setUint8(b++,l>>>6&63|128)}a.setUint8(b++,l>>>0&63|128)}}}function c(a){for(var b=0,c=0,d=a.length;c<d;c++){var g=a.charCodeAt(c);if(128>g)b+=1;else if(2048>g)b+=2;else if(65536>g)b+=3;else{if(!(1114112>g))throw Error("bad codepoint "+g);b+=4}}return b}function e(a){var d=new ArrayBuffer(function ea(a){var b=typeof a;if("string"===b){var d=c(a);if(32>d)return 1+d;if(256>d)return 2+d;if(65536>d)return 3+d;if(4294967296>d)return 5+d}if(a instanceof Uint8Array){d=a.byteLength;if(256>
d)return 2+d;if(65536>d)return 3+d;if(4294967296>d)return 5+d}if("number"===b){if(Math.floor(a)!==a)return 9;if(0<=a){if(128>a)return 1;if(256>a)return 2;if(65536>a)return 3;if(4294967296>a)return 5;throw Error("Number too big 0x"+a.toString(16));}if(-32<=a)return 1;if(-128<=a)return 2;if(-32768<=a)return 3;if(-2147483648<=a)return 5;throw Error("Number too small -0x"+a.toString(16).substr(1));}if("boolean"===b||null===a)return 1;if("object"===b){b=0;if(Array.isArray(a)){d=a.length;for(var g=0;g<
d;g++)b+=ea(a[g])}else{var l=Object.keys(a);d=l.length;for(g=0;g<d;g++){var k=l[g];b+=ea(k)+ea(a[k])}}if(16>d)return 1+b;if(65536>d)return 3+b;if(4294967296>d)return 5+b;throw Error("Array or object too long 0x"+d.toString(16));}throw Error("Unknown type "+b);}(a)),g=new DataView(d);return function na(a,d,g){var l=typeof a;if("string"===l){var k=c(a);if(32>k)return d.setUint8(g,160|k),b(d,g+1,a),1+k;if(256>k)return d.setUint8(g,217),d.setUint8(g+1,k),b(d,g+2,a),2+k;if(65536>k)return d.setUint8(g,
218),d.setUint16(g+1,k),b(d,g+3,a),3+k;if(4294967296>k)return d.setUint8(g,219),d.setUint32(g+1,k),b(d,g+5,a),5+k}if(a instanceof Uint8Array){k=a.byteLength;var A=new Uint8Array(d.buffer);if(256>k)return d.setUint8(g,196),d.setUint8(g+1,k),A.set(a,g+2),2+k;if(65536>k)return d.setUint8(g,197),d.setUint16(g+1,k),A.set(a,g+3),3+k;if(4294967296>k)return d.setUint8(g,198),d.setUint32(g+1,k),A.set(a,g+5),5+k}if("number"===l){if(!isFinite(a))throw Error("Number not finite: "+a);if(Math.floor(a)!==a)return d.setUint8(g,
203),d.setFloat64(g+1,a),9;if(0<=a){if(128>a)return d.setUint8(g,a),1;if(256>a)return d.setUint8(g,204),d.setUint8(g+1,a),2;if(65536>a)return d.setUint8(g,205),d.setUint16(g+1,a),3;if(4294967296>a)return d.setUint8(g,206),d.setUint32(g+1,a),5;throw Error("Number too big 0x"+a.toString(16));}if(-32<=a)return d.setInt8(g,a),1;if(-128<=a)return d.setUint8(g,208),d.setInt8(g+1,a),2;if(-32768<=a)return d.setUint8(g,209),d.setInt16(g+1,a),3;if(-2147483648<=a)return d.setUint8(g,210),d.setInt32(g+1,a),5;
throw Error("Number too small -0x"+(-a).toString(16).substr(1));}if(null===a)return d.setUint8(g,192),1;if("boolean"===l)return d.setUint8(g,a?195:194),1;if("object"===l){l=0;if(A=Array.isArray(a))k=a.length;else{var e=Object.keys(a);k=e.length}if(16>k?(d.setUint8(g,k|(A?144:128)),l=1):65536>k?(d.setUint8(g,A?220:222),d.setUint16(g+1,k),l=3):4294967296>k&&(d.setUint8(g,A?221:223),d.setUint32(g+1,k),l=5),A)for(A=0;A<k;A++)l+=na(a[A],d,g+l);else for(A=0;A<k;A++){var n=e[A];l+=na(n,d,g+l);l+=na(a[n],
d,g+l)}return l}throw Error("Unknown type "+l);}(a,g,0),new Uint8Array(d)}function k(a,b,c){return b?new a(b.buffer,b.byteOffset,b.byteLength/(c||1)):void 0}function r(a,b){var c=a.length/2;b||(b=new Int16Array(c));for(var d=0,g=0;d<c;++d,g+=2)b[d]=a[g]<<8^a[g+1]<<0;return b}function x(a,b){var c=a.length/4;b||(b=new Int32Array(c));for(var d=0,g=0;d<c;++d,g+=4)b[d]=a[g]<<24^a[g+1]<<16^a[g+2]<<8^a[g+3]<<0;return b}function z(a,b){var c=a.length;b||(b=new Uint8Array(4*c));for(var d=k(DataView,b),g=
0;g<c;++g)d.setInt32(4*g,a[g]);return k(Uint8Array,b)}function v(a,b,c){var d=a.length;b=1/b;c||(c=new Float32Array(d));for(var g=0;g<d;++g)c[g]=a[g]*b;return c}function n(a,b,c){var d=a.length;c||(c=new Int32Array(d));for(var g=0;g<d;++g)c[g]=Math.round(a[g]*b);return c}function d(a,b){var c;if(!b){var d=b=0;for(c=a.length;d<c;d+=2)b+=a[d+1];b=new a.constructor(b)}var g=0;d=0;for(c=a.length;d<c;d+=2)for(var l=a[d],k=a[d+1],A=0;A<k;++A)b[g]=l,++g;return b}function g(a){if(0===a.length)return new Int32Array;
var b,c=2;var d=1;for(b=a.length;d<b;++d)a[d-1]!==a[d]&&(c+=2);c=new Int32Array(c);var g=0,l=1;d=1;for(b=a.length;d<b;++d)a[d-1]!==a[d]?(c[g]=a[d-1],c[g+1]=l,l=1,g+=2):++l;return c[g]=a[a.length-1],c[g+1]=l,c}function E(a,b){var c=a.length;b||(b=new a.constructor(c));c&&(b[0]=a[0]);for(var d=1;d<c;++d)b[d]=a[d]+b[d-1];return b}function l(a,b){var c=a.length;b||(b=new a.constructor(c));b[0]=a[0];for(var d=1;d<c;++d)b[d]=a[d]-a[d-1];return b}function O(a,b){var c,d,g=a instanceof Int8Array?127:32767,
l=-g-1,k=a.length;if(!b){for(c=b=0;c<k;++c)a[c]<g&&a[c]>l&&++b;b=new Int32Array(b)}for(d=c=0;c<k;){for(var e=0;a[c]===g||a[c]===l;)e+=a[c],++c;e+=a[c];++c;b[d]=e;++d}return b}function G(a,b,c){return v(O(a,k(Int32Array,c,4)),b,c)}function y(a,b,c){a=O(a,k(Int32Array,c,4));c=k(Float32Array,a,4);return v(E(a,k(Int32Array,c,4)),b,c)}function R(a,b,c,d){var g=new ArrayBuffer(12+d.byteLength),l=new Uint8Array(g);g=new DataView(g);return g.setInt32(0,a),g.setInt32(4,b),c&&l.set(c,8),l.set(d,12),l}function N(a){var b=
a.length;a=k(Uint8Array,a);return R(2,b,void 0,a)}function p(a){var b=a.length;a=z(a);return R(4,b,void 0,a)}function V(a,b){var c=a.length/b;b=z([b]);a=k(Uint8Array,a);return R(5,c,b,a)}function M(a){var b=a.length;a=z(g(a));return R(6,b,void 0,a)}function Q(a){var b=a.length;a=z(g(l(a)));return R(8,b,void 0,a)}function ca(a,b){var c=a.length,d=z([b]);a=z(g(n(a,b)));return R(9,c,d,a)}function K(a,b){var c=a.length,d=z([b]);b=l(n(a,b),void 0);var g,e=-32768,A=b.length;for(g=a=0;g<A;++g){var p=b[g];
0===p?++a:a+=32767===p||p===e?2:0<p?Math.ceil(p/32767):Math.ceil(p/e)}a=new Int16Array(a);var r=0;for(g=0;g<A;++g){p=b[g];if(0<=p)for(;32767<=p;)a[r]=32767,++r,p-=32767;else for(;p<=e;)a[r]=e,++r,p-=e;a[r]=p;++r}b=void 0;g=a.length;b||(b=new Uint8Array(2*g));e=k(DataView,b);for(A=0;A<g;++A)e.setInt16(2*A,a[A]);a=k(Uint8Array,b);return R(10,c,d,a)}function P(a){var b={};return W.forEach(function(c){void 0!==a[c]&&(b[c]=a[c])}),a.bondAtomList&&(b.bondAtomList=p(a.bondAtomList)),a.bondOrderList&&(b.bondOrderList=
N(a.bondOrderList)),b.xCoordList=K(a.xCoordList,1E3),b.yCoordList=K(a.yCoordList,1E3),b.zCoordList=K(a.zCoordList,1E3),a.bFactorList&&(b.bFactorList=K(a.bFactorList,100)),a.atomIdList&&(b.atomIdList=Q(a.atomIdList)),a.altLocList&&(b.altLocList=M(a.altLocList)),a.occupancyList&&(b.occupancyList=ca(a.occupancyList,100)),b.groupIdList=Q(a.groupIdList),b.groupTypeList=p(a.groupTypeList),a.secStructList&&(b.secStructList=N(a.secStructList)),a.insCodeList&&(b.insCodeList=M(a.insCodeList)),a.sequenceIndexList&&
(b.sequenceIndexList=Q(a.sequenceIndexList)),b.chainIdList=V(a.chainIdList,4),a.chainNameList&&(b.chainNameList=V(a.chainNameList,4)),b}function J(a){function b(a){for(var b={},c=0;c<a;c++){var d=l();b[d]=l()}return b}function c(b){var c=a.subarray(k,k+b);return k+=b,c}function d(b){var c=a.subarray(k,k+b);k+=b;if(65535<b){b=[];for(var d=0;d<c.length;d+=65535)b.push(String.fromCharCode.apply(null,c.subarray(d,d+65535)));return b.join("")}return String.fromCharCode.apply(null,c)}function g(a){for(var b=
Array(a),c=0;c<a;c++)b[c]=l();return b}function l(){var l,n,p=a[k];if(0==(128&p))return k++,p;if(128==(240&p))return k++,b(15&p);if(144==(240&p))return k++,g(15&p);if(160==(224&p))return k++,d(31&p);if(224==(224&p))return l=e.getInt8(k),k++,l;switch(p){case 192:return k++,null;case 194:return k++,!1;case 195:return k++,!0;case 196:return n=e.getUint8(k+1),k+=2,c(n);case 197:return n=e.getUint16(k+1),k+=3,c(n);case 198:return n=e.getUint32(k+1),k+=5,c(n);case 202:return l=e.getFloat32(k+1),k+=5,l;
case 203:return l=e.getFloat64(k+1),k+=9,l;case 204:return l=a[k+1],k+=2,l;case 205:return l=e.getUint16(k+1),k+=3,l;case 206:return l=e.getUint32(k+1),k+=5,l;case 208:return l=e.getInt8(k+1),k+=2,l;case 209:return l=e.getInt16(k+1),k+=3,l;case 210:return l=e.getInt32(k+1),k+=5,l;case 217:return n=e.getUint8(k+1),k+=2,d(n);case 218:return n=e.getUint16(k+1),k+=3,d(n);case 219:return n=e.getUint32(k+1),k+=5,d(n);case 220:return n=e.getUint16(k+1),k+=3,g(n);case 221:return n=e.getUint32(k+1),k+=5,g(n);
case 222:return n=e.getUint16(k+1),k+=3,b(n);case 223:return n=e.getUint32(k+1),k+=5,b(n)}throw Error("Unknown type 0x"+p.toString(16));}var k=0,e=new DataView(a.buffer);return l()}function qa(a,b,c,g){switch(a){case 1:return function(a,b){var c=a.length;b||(b=new Float32Array(c/4));var d=k(DataView,b);a=k(DataView,a);var g=0,l=0;for(c/=4;g<c;++g,l+=4)d.setFloat32(l,a.getFloat32(l),!0);return b}(b);case 2:return k(Int8Array,b);case 3:return r(b);case 4:return x(b);case 5:return k(Uint8Array,b);case 6:return d(x(b),
new Uint8Array(c));case 7:return d(x(b));case 8:return E(d(x(b)),l);case 9:return function(a,b,c){return v(d(a,k(Int32Array,c,4)),b,c)}(x(b),x(g)[0]);case 10:return y(r(b),x(g)[0]);case 11:return v(r(b),x(g)[0]);case 12:return G(r(b),x(g)[0]);case 13:return G(k(Int8Array,b),x(g)[0]);case 14:return O(r(b));case 15:return O(k(Int8Array,b))}var l}function Ga(a,b){var c=(b=b||{}).ignoreFields,d={};return L.forEach(function(b){var g,l,e,n,p,A=!!c&&-1!==c.indexOf(b),r=a[b];A||void 0===r||(r instanceof Uint8Array?
d[b]=qa.apply(null,(l=k(DataView,g=r),e=l.getInt32(0),n=l.getInt32(4),p=g.subarray(8,12),g=g.subarray(12),[e,g,n,p])):d[b]=r)}),d}function U(a,b){return a instanceof ArrayBuffer&&(a=new Uint8Array(a)),Ga(a instanceof Uint8Array?J(a):a,b)}function X(a,b,c,d){var g=new XMLHttpRequest;g.addEventListener("load",function(){try{var a=U(g.response);c(a)}catch(Z){d(Z)}},!0);g.addEventListener("error",d,!0);g.responseType="arraybuffer";g.open("GET",b+a.toUpperCase());g.send()}var W="mmtfVersion mmtfProducer unitCell spaceGroup structureId title depositionDate releaseDate experimentalMethods resolution rFree rWork bioAssemblyList ncsOperatorList entityList groupList numBonds numAtoms numGroups numChains numModels groupsPerChain chainsPerModel".split(" "),
L=W.concat("xCoordList yCoordList zCoordList groupIdList groupTypeList chainIdList bFactorList atomIdList altLocList occupancyList secStructList insCodeList sequenceIndexList chainNameList bondAtomList bondOrderList".split(" "));a.encode=function(a){return e(P(a))};a.decode=U;a.traverse=function(a,b,c){var d,g;c=(c||{}).firstModelOnly;var l=b.onModel,k=b.onChain,e=b.onGroup,n=b.onAtom,p=b.onBond,A=0,r=0,N=0,L=0,y=-1,U=a.chainNameList,m=a.secStructList,q=a.insCodeList,E=a.sequenceIndexList,F=a.atomIdList,
X=a.bFactorList,t=a.altLocList,x=a.occupancyList,O=a.bondAtomList,u=a.bondOrderList;b=0;for(d=a.chainsPerModel.length;b<d&&!(c&&0<A);++b){var R=a.chainsPerModel[A];l&&l({chainCount:R,modelIndex:A});for(g=0;g<R;++g){var G=a.groupsPerChain[r];if(k){var W=String.fromCharCode.apply(null,a.chainIdList.subarray(4*r,4*r+4)).replace(/\0/g,"");var v=null;U&&(v=String.fromCharCode.apply(null,U.subarray(4*r,4*r+4)).replace(/\0/g,""));k({groupCount:G,chainIndex:r,modelIndex:A,chainId:W,chainName:v})}for(W=0;W<
G;++W){var K=a.groupList[a.groupTypeList[N]],w=K.atomNameList.length;if(e){v=null;m&&(v=m[N]);var z=null;a.insCodeList&&(z=String.fromCharCode(q[N]));var Q=null;E&&(Q=E[N]);e({atomCount:w,groupIndex:N,chainIndex:r,modelIndex:A,groupId:a.groupIdList[N],groupType:a.groupTypeList[N],groupName:K.groupName,singleLetterCode:K.singleLetterCode,chemCompType:K.chemCompType,secStruct:v,insCode:z,sequenceIndex:Q})}for(v=0;v<w;++v){if(n){z=null;F&&(z=F[L]);Q=null;X&&(Q=X[L]);var T=null;t&&(T=String.fromCharCode(t[L]));
var M=null;x&&(M=x[L]);n({atomIndex:L,groupIndex:N,chainIndex:r,modelIndex:A,atomId:z,element:K.elementList[v],atomName:K.atomNameList[v],formalCharge:K.formalChargeList[v],xCoord:a.xCoordList[L],yCoord:a.yCoordList[L],zCoord:a.zCoordList[L],bFactor:Q,altLoc:T,occupancy:M})}L+=1}if(p)for(Q=K.bondAtomList,v=0,z=K.bondOrderList.length;v<z;++v)p({atomIndex1:L-w+Q[2*v],atomIndex2:L-w+Q[2*v+1],bondOrder:K.bondOrderList[v]});N+=1}r+=1}if(g=y+1,y=L-1,p&&O)for(v=0,z=O.length;v<z;v+=2)R=O[v],G=O[v+1],(R>=
g&&R<=y||G>=g&&G<=y)&&p({atomIndex1:R,atomIndex2:G,bondOrder:u?u[v/2]:null});A+=1}};a.fetch=function(a,b,c){X(a,"http://mmtf.rcsb.org/v1.0/full/",b,c)};a.fetchReduced=function(a,b,c){X(a,"http://mmtf.rcsb.org/v1.0/reduced/",b,c)};a.version="v1.0.0";a.fetchUrl="http://mmtf.rcsb.org/v1.0/full/";a.fetchReducedUrl="http://mmtf.rcsb.org/v1.0/reduced/";a.encodeMsgpack=e;a.encodeMmtf=P;a.decodeMsgpack=J;a.decodeMmtf=Ga;Object.defineProperty(a,"__esModule",{value:!0})}(a.MMTF=a.MMTF||{})})(this);B.exports=
function(){return function t(b,e,q){function c(r,m){if(!e[r]){if(!b[r]){if(k)return k(r,!0);m=Error("Cannot find module '"+r+"'");throw m.code="MODULE_NOT_FOUND",m;}m=e[r]={exports:{}};b[r][0].call(m.exports,function(k){return c(b[r][1][k]||k)},m,m.exports,t,b,e,q)}return e[r].exports}for(var k=!1,r=0;r<q.length;r++)c(q[r]);return c}({1:[function(b,e,q){b="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;q.assign=function(b){for(var c=Array.prototype.slice.call(arguments,
1);c.length;){var k=c.shift();if(k){if("object"!=typeof k)throw new TypeError(k+"must be non-object");for(var e in k)k.hasOwnProperty(e)&&(b[e]=k[e])}}return b};q.shrinkBuf=function(b,c){return b.length===c?b:b.subarray?b.subarray(0,c):(b.length=c,b)};var c={arraySet:function(b,c,e,m,q){if(c.subarray&&b.subarray)b.set(c.subarray(e,e+m),q);else for(var k=0;k<m;k++)b[q+k]=c[e+k]},flattenChunks:function(b){var c,k;var e=k=0;for(c=b.length;e<c;e++)k+=b[e].length;var m=new Uint8Array(k);e=k=0;for(c=b.length;e<
c;e++){var n=b[e];m.set(n,k);k+=n.length}return m}},m={arraySet:function(b,c,e,m,q){for(var k=0;k<m;k++)b[q+k]=c[e+k]},flattenChunks:function(b){return[].concat.apply([],b)}};q.setTyped=function(b){b?(q.Buf8=Uint8Array,q.Buf16=Uint16Array,q.Buf32=Int32Array,q.assign(q,c)):(q.Buf8=Array,q.Buf16=Array,q.Buf32=Array,q.assign(q,m))};q.setTyped(b)},{}],2:[function(b,e,q){function c(b,c){if(65537>c&&(b.subarray&&r||!b.subarray&&k))return String.fromCharCode.apply(null,m.shrinkBuf(b,c));for(var e="",d=0;d<
c;d++)e+=String.fromCharCode(b[d]);return e}var m=b("./common"),k=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(z){k=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(z){r=!1}var x=new m.Buf8(256);for(b=0;256>b;b++)x[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;x[254]=x[254]=1;q.string2buf=function(b){var c,k,d,g,e=b.length,l=0;for(d=0;d<e;d++)55296==(64512&(c=b.charCodeAt(d)))&&d+1<e&&56320==(64512&(k=b.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(k-56320),d++),l+=128>c?1:
2048>c?2:65536>c?3:4;var r=new m.Buf8(l);for(d=g=0;g<l;d++)55296==(64512&(c=b.charCodeAt(d)))&&d+1<e&&56320==(64512&(k=b.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(k-56320),d++),128>c?r[g++]=c:2048>c?(r[g++]=192|c>>>6,r[g++]=128|63&c):65536>c?(r[g++]=224|c>>>12,r[g++]=128|c>>>6&63,r[g++]=128|63&c):(r[g++]=240|c>>>18,r[g++]=128|c>>>12&63,r[g++]=128|c>>>6&63,r[g++]=128|63&c);return r};q.buf2binstring=function(b){return c(b,b.length)};q.binstring2buf=function(b){for(var c=new m.Buf8(b.length),k=0,d=
c.length;k<d;k++)c[k]=b.charCodeAt(k);return c};q.buf2string=function(b,k){var e,d,g,r=k||b.length,l=Array(2*r);for(k=e=0;k<r;)if(128>(d=b[k++]))l[e++]=d;else if(4<(g=x[d]))l[e++]=65533,k+=g-1;else{for(d&=2===g?31:3===g?15:7;1<g&&k<r;)d=d<<6|63&b[k++],g--;1<g?l[e++]=65533:65536>d?l[e++]=d:(d-=65536,l[e++]=55296|d>>10&1023,l[e++]=56320|1023&d)}return c(l,e)};q.utf8border=function(b,c){var k;(c=c||b.length)>b.length&&(c=b.length);for(k=c-1;0<=k&&128==(192&b[k]);)k--;return 0>k?c:0===k?c:k+x[b[k]]>c?
k:c}},{"./common":1}],3:[function(b,e,q){e.exports=function(b,c,k,e){var r=65535&b|0;b=b>>>16&65535|0;for(var m;0!==k;){k-=m=2E3<k?2E3:k;do b=b+(r=r+c[e++]|0)|0;while(--m);r%=65521;b%=65521}return r|b<<16|0}},{}],4:[function(b,e,q){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,
Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(b,e,q){var c=function(){for(var b,c=[],e=0;256>e;e++){b=e;for(var q=0;8>q;q++)b=1&b?3988292384^b>>>1:b>>>1;c[e]=b}return c}();e.exports=function(b,k,e,q){e=q+e;for(b^=-1;q<e;q++)b=b>>>8^c[255&(b^k[q])];return-1^b}},{}],6:[function(b,e,q){e.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=
0;this.done=!1}},{}],7:[function(b,e,q){e.exports=function(b,c){var k,e,q;var m=b.state;var t=b.next_in;var n=b.input;var d=t+(b.avail_in-5);var g=b.next_out;var E=b.output;c=g-(c-b.avail_out);var l=g+(b.avail_out-257);var O=m.dmax;var G=m.wsize;var y=m.whave;var R=m.wnext;var N=m.window;var p=m.hold;var V=m.bits;var M=m.lencode;var Q=m.distcode;var ca=(1<<m.lenbits)-1;var K=(1<<m.distbits)-1;a:do{15>V&&(p+=n[t++]<<V,V+=8,p+=n[t++]<<V,V+=8);var P=M[p&ca];b:for(;;){if(p>>>=k=P>>>24,V-=k,0===(k=P>>>
16&255))E[g++]=65535&P;else{if(!(16&k)){if(0==(64&k)){P=M[(65535&P)+(p&(1<<k)-1)];continue b}if(32&k){m.mode=12;break a}b.msg="invalid literal/length code";m.mode=30;break a}var J=65535&P;(k&=15)&&(V<k&&(p+=n[t++]<<V,V+=8),J+=p&(1<<k)-1,p>>>=k,V-=k);15>V&&(p+=n[t++]<<V,V+=8,p+=n[t++]<<V,V+=8);P=Q[p&K];c:for(;;){if(p>>>=k=P>>>24,V-=k,!(16&(k=P>>>16&255))){if(0==(64&k)){P=Q[(65535&P)+(p&(1<<k)-1)];continue c}b.msg="invalid distance code";m.mode=30;break a}if(e=65535&P,V<(k&=15)&&(p+=n[t++]<<V,(V+=8)<
k&&(p+=n[t++]<<V,V+=8)),(e+=p&(1<<k)-1)>O){b.msg="invalid distance too far back";m.mode=30;break a}if(p>>>=k,V-=k,e>(k=g-c)){if((k=e-k)>y&&m.sane){b.msg="invalid distance too far back";m.mode=30;break a}if(P=0,q=N,0===R){if(P+=G-k,k<J){J-=k;do E[g++]=N[P++];while(--k);P=g-e;q=E}}else if(R<k){if(P+=G+R-k,(k-=R)<J){J-=k;do E[g++]=N[P++];while(--k);if(P=0,R<J){J-=k=R;do E[g++]=N[P++];while(--k);P=g-e;q=E}}}else if(P+=R-k,k<J){J-=k;do E[g++]=N[P++];while(--k);P=g-e;q=E}for(;2<J;)E[g++]=q[P++],E[g++]=
q[P++],E[g++]=q[P++],J-=3;J&&(E[g++]=q[P++],1<J&&(E[g++]=q[P++]))}else{P=g-e;do E[g++]=E[P++],E[g++]=E[P++],E[g++]=E[P++],J-=3;while(2<J);J&&(E[g++]=E[P++],1<J&&(E[g++]=E[P++]))}break}}break}}while(t<d&&g<l);t-=J=V>>3;p&=(1<<(V-=J<<3))-1;b.next_in=t;b.next_out=g;b.avail_in=t<d?d-t+5:5-(t-d);b.avail_out=g<l?l-g+257:257-(g-l);m.hold=p;m.bits=V}},{}],8:[function(b,e,q){function c(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function m(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=
!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new v.Buf16(320);this.work=new v.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function k(b){var c;return b&&b.state?(c=b.state,b.total_in=b.total_out=c.total=0,b.msg=
"",c.wrap&&(b.adler=1&c.wrap),c.mode=1,c.last=0,c.havedict=0,c.dmax=32768,c.head=null,c.hold=0,c.bits=0,c.lencode=c.lendyn=new v.Buf32(852),c.distcode=c.distdyn=new v.Buf32(592),c.sane=1,c.back=-1,0):-2}function r(b){var c;return b&&b.state?((c=b.state).wsize=0,c.whave=0,c.wnext=0,k(b)):-2}function x(b,c){var d,g;return b&&b.state?(g=b.state,0>c?(d=0,c=-c):(d=1+(c>>4),48>c&&(c&=15)),c&&(8>c||15<c)?-2:(null!==g.window&&g.wbits!==c&&(g.window=null),g.wrap=d,g.wbits=c,r(b))):-2}function z(b,c){var d,
g;return b?(g=new m,b.state=g,g.window=null,0!==(d=x(b,c))&&(b.state=null),d):-2}var v=b("../utils/common"),n=b("./adler32"),d=b("./crc32"),g=b("./inffast"),E=b("./inftrees"),l,O,G=!0;q.inflateReset=r;q.inflateReset2=x;q.inflateResetKeep=k;q.inflateInit=function(b){return z(b,15)};q.inflateInit2=z;q.inflate=function(b,k){var e,p,r,m,q,y,t,x,R=0,z=new v.Buf8(4),Ga=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return-2;12===(e=b.state).mode&&(e.mode=
13);var U=b.next_out;var X=b.output;var W=b.avail_out;var L=b.next_in;var A=b.input;var F=b.avail_in;var T=e.hold;var S=e.bits;var sa=F;var ea=W;var Z=0;a:for(;;)switch(e.mode){case 1:if(0===e.wrap){e.mode=13;break}for(;16>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}if(2&e.wrap&&35615===T){e.check=0;z[0]=255&T;z[1]=T>>>8&255;e.check=d(e.check,z,2,0);S=T=0;e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&T)<<8)+(T>>8))%31){b.msg="incorrect header check";e.mode=30;break}if(8!==
(15&T)){b.msg="unknown compression method";e.mode=30;break}if(S-=4,t=8+(15&(T>>>=4)),0===e.wbits)e.wbits=t;else if(t>e.wbits){b.msg="invalid window size";e.mode=30;break}e.dmax=1<<t;b.adler=e.check=1;e.mode=512&T?10:12;S=T=0;break;case 2:for(;16>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}if(e.flags=T,8!==(255&e.flags)){b.msg="unknown compression method";e.mode=30;break}if(57344&e.flags){b.msg="unknown header flags set";e.mode=30;break}e.head&&(e.head.text=T>>8&1);512&e.flags&&(z[0]=255&T,z[1]=T>>>
8&255,e.check=d(e.check,z,2,0));S=T=0;e.mode=3;case 3:for(;32>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}e.head&&(e.head.time=T);512&e.flags&&(z[0]=255&T,z[1]=T>>>8&255,z[2]=T>>>16&255,z[3]=T>>>24&255,e.check=d(e.check,z,4,0));S=T=0;e.mode=4;case 4:for(;16>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}e.head&&(e.head.xflags=255&T,e.head.os=T>>8);512&e.flags&&(z[0]=255&T,z[1]=T>>>8&255,e.check=d(e.check,z,2,0));S=T=0;e.mode=5;case 5:if(1024&e.flags){for(;16>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}e.length=
T;e.head&&(e.head.extra_len=T);512&e.flags&&(z[0]=255&T,z[1]=T>>>8&255,e.check=d(e.check,z,2,0));S=T=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&((p=e.length)>F&&(p=F),p&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=Array(e.head.extra_len)),v.arraySet(e.head.extra,A,L,p,t)),512&e.flags&&(e.check=d(e.check,A,p,L)),F-=p,L+=p,e.length-=p),e.length))break a;e.length=0;e.mode=7;case 7:if(2048&e.flags){if(0===F)break a;p=0;do t=A[L+p++],e.head&&t&&65536>e.length&&
(e.head.name+=String.fromCharCode(t));while(t&&p<F);if(512&e.flags&&(e.check=d(e.check,A,p,L)),F-=p,L+=p,t)break a}else e.head&&(e.head.name=null);e.length=0;e.mode=8;case 8:if(4096&e.flags){if(0===F)break a;p=0;do t=A[L+p++],e.head&&t&&65536>e.length&&(e.head.comment+=String.fromCharCode(t));while(t&&p<F);if(512&e.flags&&(e.check=d(e.check,A,p,L)),F-=p,L+=p,t)break a}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;16>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}if(T!==(65535&
e.check)){b.msg="header crc mismatch";e.mode=30;break}S=T=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0);b.adler=e.check=0;e.mode=12;break;case 10:for(;32>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}b.adler=e.check=c(T);S=T=0;e.mode=11;case 11:if(0===e.havedict)return b.next_out=U,b.avail_out=W,b.next_in=L,b.avail_in=F,e.hold=T,e.bits=S,2;b.adler=e.check=1;e.mode=12;case 12:if(5===k||6===k)break a;case 13:if(e.last){T>>>=7&S;S-=7&S;e.mode=27;break}for(;3>S;){if(0===F)break a;F--;T+=A[L++]<<S;
S+=8}switch(e.last=1&T,--S,3&(T>>>=1)){case 0:e.mode=14;break;case 1:var Y=e;if(G){l=new v.Buf32(512);O=new v.Buf32(32);for(m=0;144>m;)Y.lens[m++]=8;for(;256>m;)Y.lens[m++]=9;for(;280>m;)Y.lens[m++]=7;for(;288>m;)Y.lens[m++]=8;E(1,Y.lens,0,288,l,0,Y.work,{bits:9});for(m=0;32>m;)Y.lens[m++]=5;E(2,Y.lens,0,32,O,0,Y.work,{bits:5});G=!1}Y.lencode=l;Y.lenbits=9;Y.distcode=O;Y.distbits=5;if(e.mode=20,6===k){T>>>=2;S-=2;break a}break;case 2:e.mode=17;break;case 3:b.msg="invalid block type",e.mode=30}T>>>=
2;S-=2;break;case 14:T>>>=7&S;for(S-=7&S;32>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}if((65535&T)!=(T>>>16^65535)){b.msg="invalid stored block lengths";e.mode=30;break}if(e.length=65535&T,T=0,S=0,e.mode=15,6===k)break a;case 15:e.mode=16;case 16:if(p=e.length){if(p>F&&(p=F),p>W&&(p=W),0===p)break a;v.arraySet(X,A,L,p,U);F-=p;L+=p;W-=p;U+=p;e.length-=p;break}e.mode=12;break;case 17:for(;14>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}if(e.nlen=257+(31&T),T>>>=5,S-=5,e.ndist=1+(31&T),T>>>=5,S-=5,e.ncode=
4+(15&T),T>>>=4,S-=4,286<e.nlen||30<e.ndist){b.msg="too many length or distance symbols";e.mode=30;break}e.have=0;e.mode=18;case 18:for(;e.have<e.ncode;){for(;3>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}e.lens[Ga[e.have++]]=7&T;T>>>=3;S-=3}for(;19>e.have;)e.lens[Ga[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,x={bits:e.lenbits},Z=E(0,e.lens,0,19,e.lencode,0,e.work,x),e.lenbits=x.bits,Z){b.msg="invalid code lengths set";e.mode=30;break}e.have=0;e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;R=
e.lencode[T&(1<<e.lenbits)-1],q=65535&R,!((m=R>>>24)<=S);){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}if(16>q)T>>>=m,S-=m,e.lens[e.have++]=q;else{if(16===q){for(Y=m+2;S<Y;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}if(T>>>=m,S-=m,0===e.have){b.msg="invalid bit length repeat";e.mode=30;break}t=e.lens[e.have-1];p=3+(3&T);T>>>=2;S-=2}else if(17===q){for(Y=m+3;S<Y;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}S-=m;t=0;p=3+(7&(T>>>=m));T>>>=3;S-=3}else{for(Y=m+7;S<Y;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}S-=m;t=
0;p=11+(127&(T>>>=m));T>>>=7;S-=7}if(e.have+p>e.nlen+e.ndist){b.msg="invalid bit length repeat";e.mode=30;break}for(;p--;)e.lens[e.have++]=t}}if(30===e.mode)break;if(0===e.lens[256]){b.msg="invalid code -- missing end-of-block";e.mode=30;break}if(e.lenbits=9,x={bits:e.lenbits},Z=E(1,e.lens,0,e.nlen,e.lencode,0,e.work,x),e.lenbits=x.bits,Z){b.msg="invalid literal/lengths set";e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,x={bits:e.distbits},Z=E(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,x),
e.distbits=x.bits,Z){b.msg="invalid distances set";e.mode=30;break}if(e.mode=20,6===k)break a;case 20:e.mode=21;case 21:if(6<=F&&258<=W){b.next_out=U;b.avail_out=W;b.next_in=L;b.avail_in=F;e.hold=T;e.bits=S;g(b,ea);U=b.next_out;X=b.output;W=b.avail_out;L=b.next_in;A=b.input;F=b.avail_in;T=e.hold;S=e.bits;12===e.mode&&(e.back=-1);break}for(e.back=0;Y=(R=e.lencode[T&(1<<e.lenbits)-1])>>>16&255,q=65535&R,!((m=R>>>24)<=S);){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}if(Y&&0==(240&Y)){var B=m;var I=Y;for(y=
q;Y=(R=e.lencode[y+((T&(1<<B+I)-1)>>B)])>>>16&255,q=65535&R,!(B+(m=R>>>24)<=S);){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}T>>>=B;S-=B;e.back+=B}if(T>>>=m,S-=m,e.back+=m,e.length=q,0===Y){e.mode=26;break}if(32&Y){e.back=-1;e.mode=12;break}if(64&Y){b.msg="invalid literal/length code";e.mode=30;break}e.extra=15&Y;e.mode=22;case 22:if(e.extra){for(Y=e.extra;S<Y;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}e.length+=T&(1<<e.extra)-1;T>>>=e.extra;S-=e.extra;e.back+=e.extra}e.was=e.length;e.mode=23;case 23:for(;Y=
(R=e.distcode[T&(1<<e.distbits)-1])>>>16&255,q=65535&R,!((m=R>>>24)<=S);){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}if(0==(240&Y)){B=m;I=Y;for(y=q;Y=(R=e.distcode[y+((T&(1<<B+I)-1)>>B)])>>>16&255,q=65535&R,!(B+(m=R>>>24)<=S);){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}T>>>=B;S-=B;e.back+=B}if(T>>>=m,S-=m,e.back+=m,64&Y){b.msg="invalid distance code";e.mode=30;break}e.offset=q;e.extra=15&Y;e.mode=24;case 24:if(e.extra){for(Y=e.extra;S<Y;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}e.offset+=T&(1<<e.extra)-1;
T>>>=e.extra;S-=e.extra;e.back+=e.extra}if(e.offset>e.dmax){b.msg="invalid distance too far back";e.mode=30;break}e.mode=25;case 25:if(0===W)break a;if(p=ea-W,e.offset>p){if((p=e.offset-p)>e.whave&&e.sane){b.msg="invalid distance too far back";e.mode=30;break}p>e.wnext?(p-=e.wnext,r=e.wsize-p):r=e.wnext-p;p>e.length&&(p=e.length);m=e.window}else m=X,r=U-e.offset,p=e.length;p>W&&(p=W);W-=p;e.length-=p;do X[U++]=m[r++];while(--p);0===e.length&&(e.mode=21);break;case 26:if(0===W)break a;X[U++]=e.length;
W--;e.mode=21;break;case 27:if(e.wrap){for(;32>S;){if(0===F)break a;F--;T|=A[L++]<<S;S+=8}if(ea-=W,b.total_out+=ea,e.total+=ea,ea&&(b.adler=e.check=e.flags?d(e.check,X,ea,U-ea):n(e.check,X,ea,U-ea)),ea=W,(e.flags?T:c(T))!==e.check){b.msg="incorrect data check";e.mode=30;break}S=T=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;32>S;){if(0===F)break a;F--;T+=A[L++]<<S;S+=8}if(T!==(4294967295&e.total)){b.msg="incorrect length check";e.mode=30;break}S=T=0}e.mode=29;case 29:Z=1;break a;case 30:Z=-3;break a;
case 31:return-4;default:return-2}b.next_out=U;b.avail_out=W;b.next_in=L;b.avail_in=F;e.hold=T;e.bits=S;if(L=e.wsize||ea!==b.avail_out&&30>e.mode&&(27>e.mode||4!==k)){L=b.output;U=b.next_out;A=ea-b.avail_out;var H;F=b.state;L=(null===F.window&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new v.Buf8(F.wsize)),A>=F.wsize?(v.arraySet(F.window,L,U-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):((H=F.wsize-F.wnext)>A&&(H=A),v.arraySet(F.window,L,U-A,H,F.wnext),(A-=H)?(v.arraySet(F.window,L,U-A,A,0),
F.wnext=A,F.whave=F.wsize):(F.wnext+=H,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=H))),0)}return L?(e.mode=31,-4):(sa-=b.avail_in,ea-=b.avail_out,b.total_in+=sa,b.total_out+=ea,e.total+=ea,e.wrap&&ea&&(b.adler=e.check=e.flags?d(e.check,X,ea,b.next_out-ea):n(e.check,X,ea,b.next_out-ea)),b.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0===sa&&0===ea||4===k)&&0===Z&&(Z=-5),Z)};q.inflateEnd=function(b){if(!b||!b.state)return-2;var c=b.state;return c.window&&
(c.window=null),b.state=null,0};q.inflateGetHeader=function(b,c){var d;return b&&b.state?0==(2&(d=b.state).wrap)?-2:(d.head=c,c.done=!1,0):-2};q.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(b,e,q){var c=b("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],k=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,
72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(b,e,n,d,g,q,l,t){var E,y,O,v,p,z,M=t.bits,Q,ca,K,P,J,qa=0,B,U=null,X=0,W=new c.Buf16(16);var L=new c.Buf16(16);var A=null,F=0;for(Q=0;15>=Q;Q++)W[Q]=0;for(ca=0;ca<d;ca++)W[e[n+ca]]++;var T=M;for(K=15;1<=K&&0===W[K];K--);if(T>K&&(T=K),0===K)return g[q++]=20971520,
g[q++]=20971520,t.bits=1,0;for(M=1;M<K&&0===W[M];M++);T<M&&(T=M);for(Q=E=1;15>=Q;Q++)if(E<<=1,0>(E-=W[Q]))return-1;if(0<E&&(0===b||1!==K))return-1;L[1]=0;for(Q=1;15>Q;Q++)L[Q+1]=L[Q]+W[Q];for(ca=0;ca<d;ca++)0!==e[n+ca]&&(l[L[e[n+ca]]++]=ca);if(0===b?(U=A=l,v=19):1===b?(U=m,X-=257,A=k,F-=257,v=256):(U=r,A=x,v=-1),B=0,ca=0,Q=M,L=q,P=T,J=0,O=-1,d=(qa=1<<T)-1,1===b&&852<qa||2===b&&592<qa)return 1;for(;;){0;var S=Q-J;l[ca]<v?(p=0,z=l[ca]):l[ca]>v?(p=A[F+l[ca]],z=U[X+l[ca]]):(p=96,z=0);E=1<<Q-J;M=y=1<<
P;do g[L+(B>>J)+(y-=E)]=S<<24|p<<16|z|0;while(0!==y);for(E=1<<Q-1;B&E;)E>>=1;if(0!==E?(B&=E-1,B+=E):B=0,ca++,0==--W[Q]){if(Q===K)break;Q=e[n+l[ca]]}if(Q>T&&(B&d)!==O){0===J&&(J=T);L+=M;for(E=1<<(P=Q-J);P+J<K&&!(0>=(E-=W[P+J]));)P++,E<<=1;if(qa+=1<<P,1===b&&852<qa||2===b&&592<qa)return 1;g[O=B&d]=T<<24|P<<16|L-q|0}}return 0!==B&&(g[L+B]=Q-J<<24|4194304),t.bits=T,0}},{"../utils/common":1}],10:[function(b,e,q){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error",
"-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(b,e,q){e.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],"/lib/inflate.js":[function(b,e,q){function c(b,c){c=new g(c);if(c.push(b,!0),c.err)throw c.msg;return c.result}var m=b("./zlib/inflate.js"),k=b("./utils/common"),r=b("./utils/strings"),x=b("./zlib/constants"),
z=b("./zlib/messages"),v=b("./zlib/zstream"),n=b("./zlib/gzheader"),d=Object.prototype.toString,g=function(b){var c=this.options=k.assign({chunkSize:16384,windowBits:0,to:""},b||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15));!(0<=c.windowBits&&16>c.windowBits)||b&&b.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&0==(15&c.windowBits)&&(c.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new v;
this.strm.avail_out=0;b=m.inflateInit2(this.strm,c.windowBits);if(b!==x.Z_OK)throw Error(z[b]);this.header=new n;m.inflateGetHeader(this.strm,this.header)};g.prototype.push=function(b,c){var g,e,l,n,q=this.strm,p=this.options.chunkSize;if(this.ended)return!1;c=c===~~c?c:!0===c?x.Z_FINISH:x.Z_NO_FLUSH;"string"==typeof b?q.input=r.binstring2buf(b):"[object ArrayBuffer]"===d.call(b)?q.input=new Uint8Array(b):q.input=b;q.next_in=0;q.avail_in=q.input.length;do{if(0===q.avail_out&&(q.output=new k.Buf8(p),
q.next_out=0,q.avail_out=p),(g=m.inflate(q,x.Z_NO_FLUSH))!==x.Z_STREAM_END&&g!==x.Z_OK)return this.onEnd(g),this.ended=!0,!1;q.next_out&&(0!==q.avail_out&&g!==x.Z_STREAM_END&&(0!==q.avail_in||c!==x.Z_FINISH&&c!==x.Z_SYNC_FLUSH)||("string"===this.options.to?(e=r.utf8border(q.output,q.next_out),l=q.next_out-e,n=r.buf2string(q.output,e),q.next_out=l,q.avail_out=p-l,l&&k.arraySet(q.output,q.output,e,l,0),this.onData(n)):this.onData(k.shrinkBuf(q.output,q.next_out))))}while(0<q.avail_in&&g!==x.Z_STREAM_END);
return g===x.Z_STREAM_END&&(c=x.Z_FINISH),c===x.Z_FINISH?(g=m.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===x.Z_OK):c!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),q.avail_out=0,!0)};g.prototype.onData=function(b){this.chunks.push(b)};g.prototype.onEnd=function(b){b===x.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=k.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};q.Inflate=g;q.inflate=c;q.inflateRaw=function(b,d){return(d=d||{}).raw=
!0,c(b,d)};q.ungzip=c},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")}();(function(a,b){B.exports=b()})(this,function(){return function(a){function b(c){if(e[c])return e[c].exports;var q=e[c]={i:c,l:!1,exports:{}};return a[c].call(q.exports,q,q.exports,b),q.l=!0,q.exports}var e={};return b.m=a,b.c=e,b.i=function(a){return a},b.d=function(a,c,e){b.o(a,c)||Object.defineProperty(a,
c,{configurable:!1,enumerable:!0,get:e})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=6)}([function(a,b,e){function c(a){0!=a.offset%4&&a.skip(4-a.offset%4)}a.exports.notNetcdf=function(a,b){if(a)throw new TypeError("Not a valid NetCDF v3.x file: "+b);};a.exports.padding=c;a.exports.readName=function(a){var b=a.readUint32();b=a.readChars(b);return c(a),
b}},function(a,b,e){function c(a,b){if(1!==a){for(var c=Array(a),e=0;e<a;e++)c[e]=b();return c}return b()}var t=e(0).notNetcdf,m={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};a.exports=m;a.exports.num2str=function(a){switch(Number(a)){case m.BYTE:return"byte";case m.CHAR:return"char";case m.SHORT:return"short";case m.INT:return"int";case m.FLOAT:return"float";case m.DOUBLE:return"double";default:return"undefined"}};a.exports.num2bytes=function(a){switch(Number(a)){case m.BYTE:case m.CHAR:return 1;
case m.SHORT:return 2;case m.INT:case m.FLOAT:return 4;case m.DOUBLE:return 8;default:return-1}};a.exports.str2num=function(a){switch(String(a)){case "byte":return m.BYTE;case "char":return m.CHAR;case "short":return m.SHORT;case "int":return m.INT;case "float":return m.FLOAT;case "double":return m.DOUBLE;default:return-1}};a.exports.readType=function(a,b,e){switch(b){case m.BYTE:return a.readBytes(e);case m.CHAR:return 0===(k=a.readChars(e)).charCodeAt(k.length-1)?k.substring(0,k.length-1):k;case m.SHORT:return c(e,
a.readInt16.bind(a));case m.INT:return c(e,a.readInt32.bind(a));case m.FLOAT:return c(e,a.readFloat32.bind(a));case m.DOUBLE:return c(e,a.readFloat64.bind(a));default:return void t(!0,"non valid type "+b)}var k}},function(a,b){b=function(){return this}();try{b=b||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(b=window)}a.exports=b},function(a,b,e){var c=e(1);a.exports.nonRecord=function(a,b){var e=c.str2num(b.type);b=b.size/c.num2bytes(e);for(var r=Array(b),m=0;m<b;m++)r[m]=
c.readType(a,e,1);return r};a.exports.record=function(a,b,e){var k=c.str2num(b.type);b=b.size?b.size/c.num2bytes(k):1;var m=e.length,q=Array(m);e=e.recordStep;for(var t=0;t<m;t++){var n=a.offset;q[t]=c.readType(a,k,b);a.seek(n+e)}return q}},function(a,b,e){function c(a){var b=a.readUint32();if(0===b)return t.notNetcdf(0!==a.readUint32(),"wrong empty tag for list of attributes"),[];t.notNetcdf(12!==b,"wrong tag for list of attributes");b=a.readUint32();for(var c=Array(b),e=0;e<b;e++){var k=t.readName(a),
n=a.readUint32();t.notNetcdf(1>n||6<n,"non valid type "+n);var d=a.readUint32();d=m.readType(a,n,d);t.padding(a);c[e]={name:k,type:m.num2str(n),value:d}}return c}var t=e(0),m=e(1);a.exports=function(a,b){var e={recordDimension:{length:a.readUint32()}};e.version=b;var k=function(a){var b,c,g=a.readUint32();if(0===g)return t.notNetcdf(0!==a.readUint32(),"wrong empty tag for list of dimensions"),[];t.notNetcdf(10!==g,"wrong tag for list of dimensions");g=a.readUint32();for(var e=Array(g),l=0;l<g;l++){var k=
t.readName(a),r=a.readUint32();0===r&&(b=l,c=k);e[l]={name:k,size:r}}return{dimensions:e,recordId:b,recordName:c}}(a);e.recordDimension.id=k.recordId;e.recordDimension.name=k.recordName;e.dimensions=k.dimensions;e.globalAttributes=c(a);a=function(a,b,d){var g=a.readUint32(),e=0;if(0===g)return t.notNetcdf(0!==a.readUint32(),"wrong empty tag for list of variables"),[];t.notNetcdf(11!==g,"wrong tag for list of variables");g=a.readUint32();for(var l=Array(g),k=0;k<g;k++){for(var n=t.readName(a),r=a.readUint32(),
q=Array(r),x=0;x<r;x++)q[x]=a.readUint32();r=c(a);x=a.readUint32();t.notNetcdf(1>x&&6<x,"non valid type "+x);var p=a.readUint32(),v=a.readUint32();2===d&&(t.notNetcdf(0<v,"offsets larger than 4GB not supported"),v=a.readUint32());q[0]===b&&(e+=p);l[k]={name:n,dimensions:q,attributes:r,type:m.num2str(x),size:p,offset:v,record:q[0]===b}}return{variables:l,recordStep:e}}(a,k.recordId,b);return e.variables=a.variables,e.recordDimension.recordStep=a.recordStep,e}},function(a,b,e){(function(b){var c=e(11),
m=[];a.exports=function(a,b){b=b||{};var c=!1;void 0===a&&(a=8192);"number"==typeof a?a=new ArrayBuffer(a):(c=!0,this._lastWrittenByte=a.byteLength);b=b.offset?b.offset>>>0:0;var e=a.byteLength-b,k=b;a.buffer&&(a.byteLength!==a.buffer.byteLength&&(k=a.byteOffset+b),a=a.buffer);this._lastWrittenByte=c?e:0;this.buffer=a;this.byteLength=this.length=e;this.byteOffset=k;this.offset=0;this.littleEndian=!0;this._data=new DataView(this.buffer,k,e);this._mark=0;this._marks=[]};a.exports.prototype.available=
function(a){return void 0===a&&(a=1),this.offset+a<=this.length};a.exports.prototype.isLittleEndian=function(){return this.littleEndian};a.exports.prototype.setLittleEndian=function(){return this.littleEndian=!0,this};a.exports.prototype.isBigEndian=function(){return!this.littleEndian};a.exports.prototype.setBigEndian=function(){return this.littleEndian=!1,this};a.exports.prototype.skip=function(a){return void 0===a&&(a=1),this.offset+=a,this};a.exports.prototype.seek=function(a){return this.offset=
a,this};a.exports.prototype.mark=function(){return this._mark=this.offset,this};a.exports.prototype.reset=function(){return this.offset=this._mark,this};a.exports.prototype.pushMark=function(){return this._marks.push(this.offset),this};a.exports.prototype.popMark=function(){var a=this._marks.pop();if(void 0===a)throw Error("Mark stack empty");return this.seek(a),this};a.exports.prototype.rewind=function(){return this.offset=0,this};a.exports.prototype.ensureAvailable=function(a){if(void 0===a&&(a=
1),!this.available(a)){a=2*(this.offset+a);var b=new Uint8Array(a);b.set(new Uint8Array(this.buffer));this.buffer=b.buffer;this.length=this.byteLength=a;this._data=new DataView(this.buffer)}return this};a.exports.prototype.readBoolean=function(){return 0!==this.readUint8()};a.exports.prototype.readInt8=function(){return this._data.getInt8(this.offset++)};a.exports.prototype.readUint8=function(){return this._data.getUint8(this.offset++)};a.exports.prototype.readByte=function(){return this.readUint8()};
a.exports.prototype.readBytes=function(a){void 0===a&&(a=1);for(var b=new Uint8Array(a),c=0;c<a;c++)b[c]=this.readByte();return b};a.exports.prototype.readInt16=function(){var a=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,a};a.exports.prototype.readUint16=function(){var a=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,a};a.exports.prototype.readInt32=function(){var a=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,a};
a.exports.prototype.readUint32=function(){var a=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,a};a.exports.prototype.readFloat32=function(){var a=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,a};a.exports.prototype.readFloat64=function(){var a=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,a};a.exports.prototype.readChar=function(){return String.fromCharCode(this.readInt8())};a.exports.prototype.readChars=function(a){void 0===
a&&(a=1);m.length=a;for(var b=0;b<a;b++)m[b]=this.readChar();return m.join("")};a.exports.prototype.readUtf8=function(a){void 0===a&&(a=1);a=this.readChars(a);return c.decode(a)};a.exports.prototype.writeBoolean=function(a){return this.writeUint8(a?255:0),this};a.exports.prototype.writeInt8=function(a){return this.ensureAvailable(1),this._data.setInt8(this.offset++,a),this._updateLastWrittenByte(),this};a.exports.prototype.writeUint8=function(a){return this.ensureAvailable(1),this._data.setUint8(this.offset++,
a),this._updateLastWrittenByte(),this};a.exports.prototype.writeByte=function(a){return this.writeUint8(a)};a.exports.prototype.writeBytes=function(a){this.ensureAvailable(a.length);for(var b=0;b<a.length;b++)this._data.setUint8(this.offset++,a[b]);return this._updateLastWrittenByte(),this};a.exports.prototype.writeInt16=function(a){return this.ensureAvailable(2),this._data.setInt16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this};a.exports.prototype.writeUint16=
function(a){return this.ensureAvailable(2),this._data.setUint16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this};a.exports.prototype.writeInt32=function(a){return this.ensureAvailable(4),this._data.setInt32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this};a.exports.prototype.writeUint32=function(a){return this.ensureAvailable(4),this._data.setUint32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this};
a.exports.prototype.writeFloat32=function(a){return this.ensureAvailable(4),this._data.setFloat32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this};a.exports.prototype.writeFloat64=function(a){return this.ensureAvailable(8),this._data.setFloat64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this};a.exports.prototype.writeChar=function(a){return this.writeUint8(a.charCodeAt(0))};a.exports.prototype.writeChars=function(a){for(var b=0;b<
a.length;b++)this.writeUint8(a.charCodeAt(b));return this};a.exports.prototype.writeUtf8=function(a){a=c.encode(a);return this.writeChars(a)};a.exports.prototype.toArray=function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)};a.exports.prototype.getBuffer=function(){return void 0!==b?b.from(this.toArray()):this.toArray()};a.exports.prototype._updateLastWrittenByte=function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)}}).call(b,e(8).Buffer)},
function(a,b,e){var c=e(5),t=e(0),m=e(3),k=e(4);a.exports=function(a){a=new c(a);a.setBigEndian();t.notNetcdf("CDF"!==a.readChars(3),"should start with CDF");var b=a.readByte();t.notNetcdf(2<b,"unknown version");this.header=k(a,b);this.buffer=a};a.exports.prototype.getDataVariable=function(a){var b;return b="string"==typeof a?this.header.variables.find(function(b){return b.name===a}):a,t.notNetcdf(void 0===b,"variable not found"),this.buffer.seek(b.offset),b.record?m.record(this.buffer,b,this.header.recordDimension):
m.nonRecord(this.buffer,b)};$jscomp.global.Object.defineProperties(a.exports.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return 1===this.header.version?"classic format":"64-bit offset format"}},recordDimension:{configurable:!0,enumerable:!0,get:function(){return this.header.recordDimension}},dimensions:{configurable:!0,enumerable:!0,get:function(){return this.header.dimensions}},globalAttributes:{configurable:!0,enumerable:!0,get:function(){return this.header.globalAttributes}},
variables:{configurable:!0,enumerable:!0,get:function(){return this.header.variables}}})},function(a,b,e){function c(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function t(a,b,c){for(var e,d=[],g=b;g<c;g+=3)b=(a[g]<<16)+(a[g+1]<<8)+a[g+2],d.push(m[(e=b)>>18&63]+m[e>>12&63]+m[e>>6&63]+m[63&e]);return d.join("")}b.byteLength=function(a){return 3*a.length/4-c(a)};b.toByteArray=function(a){var b=a.length;var e=c(a);var n=
new r(3*b/4-e);var d=0<e?b-4:b;var g=0;for(b=0;b<d;b+=4){var m=k[a.charCodeAt(b)]<<18|k[a.charCodeAt(b+1)]<<12|k[a.charCodeAt(b+2)]<<6|k[a.charCodeAt(b+3)];n[g++]=m>>16&255;n[g++]=m>>8&255;n[g++]=255&m}2===e?(m=k[a.charCodeAt(b)]<<2|k[a.charCodeAt(b+1)]>>4,n[g++]=255&m):1===e&&(m=k[a.charCodeAt(b)]<<10|k[a.charCodeAt(b+1)]<<4|k[a.charCodeAt(b+2)]>>2,n[g++]=m>>8&255,n[g++]=255&m);return n};b.fromByteArray=function(a){for(var b,c=a.length,e=c%3,d="",g=[],k=0,l=c-e;k<l;k+=16383)g.push(t(a,k,k+16383>
l?l:k+16383));1===e?(b=a[c-1],d+=m[b>>2],d+=m[b<<4&63],d+="=="):2===e&&(b=(a[c-2]<<8)+a[c-1],d+=m[b>>10],d+=m[b>>4&63],d+=m[b<<2&63],d+="=");return g.push(d),g.join("")};var m=[],k=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array;for(a=0;64>a;++a)m[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a],k["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=a;k[45]=62;k[95]=63},function(a,b,e){(function(a){function c(a,b){if((m.TYPED_ARRAY_SUPPORT?
2147483647:1073741823)<b)throw new RangeError("Invalid typed array length");return m.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b)).__proto__=m.prototype:(null===a&&(a=new m(b)),a.length=b),a}function m(a,b,c){if(!(m.TYPED_ARRAY_SUPPORT||this instanceof m))return new m(a,b,c);if("number"==typeof a){if("string"==typeof b)throw Error("If encoding is specified then the first argument must be a string");return q(this,a)}return k(this,a,b,c)}function k(a,b,d,g){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');
return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?function(a,b,c,d){if(b.byteLength,0>c||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d);m.TYPED_ARRAY_SUPPORT?(a=b).__proto__=m.prototype:a=z(a,b);return a}(a,b,d,g):"string"==typeof b?function(a,b,d){"string"==typeof d&&""!==d||(d="utf8");if(!m.isEncoding(d))throw new TypeError('"encoding" must be a valid string encoding');
var g=0|n(b,d);b=(a=c(a,g)).write(b,d);b!==g&&(a=a.slice(0,b));return a}(a,b,d):function(a,b){if(m.isBuffer(b)){var d=0|v(b.length);return 0===(a=c(a,d)).length?a:(b.copy(a,0,0,d),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||(d=b.length)!=d?c(a,0):z(a,b);if("Buffer"===b.type&&J(b.data))return z(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}(a,b)}function r(a){if("number"!=
typeof a)throw new TypeError('"size" argument must be a number');if(0>a)throw new RangeError('"size" argument must not be negative');}function q(a,b){if(r(b),a=c(a,0>b?0:0|v(b)),!m.TYPED_ARRAY_SUPPORT)for(var d=0;d<b;++d)a[d]=0;return a}function z(a,b){var d=0>b.length?0:0|v(b.length);a=c(a,d);for(var g=0;g<d;g+=1)a[g]=255&b[g];return a}function v(a){if(a>=(m.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(m.TYPED_ARRAY_SUPPORT?
2147483647:1073741823).toString(16)+" bytes");return 0|a}function n(a,b){if(m.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case "ascii":case "latin1":case "binary":return c;case "utf8":case "utf-8":case void 0:return M(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*
c;case "hex":return c>>>1;case "base64":return Q(a).length;default:if(d)return M(a).length;b=(""+b).toLowerCase();d=!0}}function d(a,b,c){var d=!1;if(((void 0===b||0>b)&&(b=0),b>this.length)||((void 0===c||c>this.length)&&(c=this.length),0>=c)||(c>>>=0)<=(b>>>=0))return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=c;c=this.length;(!a||0>a)&&(a=0);(!b||0>b||b>c)&&(b=c);d="";for(c=a;c<b;++c)a=d,d=this[c],d=16>d?"0"+d.toString(16):d.toString(16),d=a+d;return d;case "utf8":case "utf-8":return G(this,
b,c);case "ascii":a="";for(c=Math.min(this.length,c);b<c;++b)a+=String.fromCharCode(127&this[b]);return a;case "latin1":case "binary":a="";for(c=Math.min(this.length,c);b<c;++b)a+=String.fromCharCode(this[b]);return a;case "base64":return 0===b&&c===this.length?K.fromByteArray(this):K.fromByteArray(this.slice(b,c));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,c);c="";for(a=0;a<b.length;a+=2)c+=String.fromCharCode(b[a]+256*b[a+1]);return c;default:if(d)throw new TypeError("Unknown encoding: "+
a);a=(a+"").toLowerCase();d=!0}}function g(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function E(a,b,c,d,g){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):2147483647<c?c=2147483647:-2147483648>c&&(c=-2147483648),c=+c,isNaN(c)&&(c=g?0:a.length-1),0>c&&(c=a.length+c),c>=a.length){if(g)return-1;c=a.length-1}else if(0>c){if(!g)return-1;c=0}if("string"==typeof b&&(b=m.from(b,d)),m.isBuffer(b))return 0===b.length?-1:l(a,b,c,d,g);if("number"==typeof b)return b&=255,m.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?
g?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):l(a,[b],c,d,g);throw new TypeError("val must be string, number or Buffer");}function l(a,b,c,d,g){function e(a,b){return 1===l?a[b]:a.readUInt16BE(b*l)}var l=1,k=a.length,p=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(2>a.length||2>b.length)return-1;l=2;k/=2;p/=2;c/=2}if(g)for(d=-1;c<k;c++)if(e(a,c)===e(b,-1===d?0:c-d)){if(-1===d&&(d=c),c-d+1===
p)return d*l}else-1!==d&&(c-=c-d),d=-1;else for(c+p>k&&(c=k-p);0<=c;c--){k=!0;for(d=0;d<p;d++)if(e(a,c+d)!==e(b,d)){k=!1;break}if(k)return c}return-1}function O(a,b,c,d){for(var g=[],e=0;e<b.length;++e)g.push(255&b.charCodeAt(e));return ca(g,a,c,d)}function G(a,b,c){c=Math.min(a.length,c);for(var d=[];b<c;){var g,e,l=a[b],k=null,p=239<l?4:223<l?3:191<l?2:1;if(b+p<=c)switch(p){case 1:128>l&&(k=l);break;case 2:128==(192&(g=a[b+1]))&&127<(e=(31&l)<<6|63&g)&&(k=e);break;case 3:g=a[b+1];var n=a[b+2];128==
(192&g)&&128==(192&n)&&2047<(e=(15&l)<<12|(63&g)<<6|63&n)&&(55296>e||57343<e)&&(k=e);break;case 4:g=a[b+1];n=a[b+2];var m=a[b+3];128==(192&g)&&128==(192&n)&&128==(192&m)&&65535<(e=(15&l)<<18|(63&g)<<12|(63&n)<<6|63&m)&&1114112>e&&(k=e)}null===k?(k=65533,p=1):65535<k&&(k-=65536,d.push(k>>>10&1023|55296),k=56320|1023&k);d.push(k);b+=p}a=d.length;if(a<=qa)d=String.fromCharCode.apply(String,d);else{c="";for(g=0;g<a;)c+=String.fromCharCode.apply(String,d.slice(g,g+=qa));d=c}return d}function y(a,b,c){if(0!=
a%1||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length");}function R(a,b,c,d,g,e){if(!m.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>g||b<e)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range");}function N(a,b,c,d){0>b&&(b=65535+b+1);for(var g=0,e=Math.min(a.length-c,2);g<e;++g)a[c+g]=(b&255<<8*(d?g:1-g))>>>8*(d?g:1-g)}function p(a,
b,c,d){0>b&&(b=4294967295+b+1);for(var g=0,e=Math.min(a.length-c,4);g<e;++g)a[c+g]=b>>>8*(d?g:3-g)&255}function V(a,b,c,d,g,e){if(c+d>a.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("Index out of range");}function M(a,b){var c;b=b||1/0;for(var d=a.length,g=null,e=[],l=0;l<d;++l){if(55295<(c=a.charCodeAt(l))&&57344>c){if(!g){if(56319<c){-1<(b-=3)&&e.push(239,191,189);continue}if(l+1===d){-1<(b-=3)&&e.push(239,191,189);continue}g=c;continue}if(56320>c){-1<(b-=3)&&e.push(239,
191,189);g=c;continue}c=65536+(g-55296<<10|c-56320)}else g&&-1<(b-=3)&&e.push(239,191,189);if(g=null,128>c){if(0>--b)break;e.push(c)}else if(2048>c){if(0>(b-=2))break;e.push(c>>6|192,63&c|128)}else if(65536>c){if(0>(b-=3))break;e.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(1114112>c))throw Error("Invalid code point");if(0>(b-=4))break;e.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return e}function Q(a){return K.toByteArray(function(a){if(2>(a=(a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")).replace(B,
"")).length)return"";for(;0!=a.length%4;)a+="=";return a}(a))}function ca(a,b,c,d){for(var g=0;g<d&&!(g+c>=b.length||g>=a.length);++g)b[g+c]=a[g];return g}var K=e(7),P=e(9),J=e(10);$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();b.Buffer=m;b.SlowBuffer=function(a){+a!=a&&(a=0);return m.alloc(+a)};b.INSPECT_MAX_BYTES=50;m.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?a.TYPED_ARRAY_SUPPORT:function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,
foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(X){return!1}}();b.kMaxLength=m.TYPED_ARRAY_SUPPORT?2147483647:1073741823;m.poolSize=8192;m._augment=function(a){return a.__proto__=m.prototype,a};m.from=function(a,b,c){return k(null,a,b,c)};m.TYPED_ARRAY_SUPPORT&&(m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,
configurable:!0}));m.alloc=function(a,b,d){return r(a),0>=a?c(null,a):void 0!==b?"string"==typeof d?c(null,a).fill(b,d):c(null,a).fill(b):c(null,a)};m.allocUnsafe=function(a){return q(null,a)};m.allocUnsafeSlow=function(a){return q(null,a)};m.isBuffer=function(a){return!(null==a||!a._isBuffer)};m.compare=function(a,b){if(!m.isBuffer(a)||!m.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,g=0,e=Math.min(c,d);g<e;++g)if(a[g]!==b[g]){c=a[g];
d=b[g];break}return c<d?-1:d<c?1:0};m.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};m.concat=function(a,b){if(!J(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return m.alloc(0);var c;if(void 0===b)for(c=b=0;c<a.length;++c)b+=a[c].length;b=m.allocUnsafe(b);var d=0;for(c=0;c<a.length;++c){var g=
a[c];if(!m.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(b,d);d+=g.length}return b};m.byteLength=n;m.prototype._isBuffer=!0;m.prototype.swap16=function(){var a=this.length;if(0!=a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)g(this,b,b+1);return this};m.prototype.swap32=function(){var a=this.length;if(0!=a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)g(this,b,b+3),g(this,
b+1,b+2);return this};m.prototype.swap64=function(){var a=this.length;if(0!=a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)g(this,b,b+7),g(this,b+1,b+6),g(this,b+2,b+5),g(this,b+3,b+4);return this};m.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?G(this,0,a):d.apply(this,arguments)};m.prototype.equals=function(a){if(!m.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===m.compare(this,
a)};m.prototype.inspect=function(){var a="",c=b.INSPECT_MAX_BYTES;return 0<this.length&&(a=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(a+=" ... ")),"<Buffer "+a+">"};m.prototype.compare=function(a,b,c,d,g){if(!m.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===g&&(g=this.length),0>b||c>a.length||0>d||g>this.length)throw new RangeError("out of range index");if(d>=g&&b>=c)return 0;if(d>=g)return-1;
if(b>=c)return 1;if(this===a)return 0;var e=(g>>>=0)-(d>>>=0),l=(c>>>=0)-(b>>>=0),k=Math.min(e,l);d=this.slice(d,g);a=a.slice(b,c);for(b=0;b<k;++b)if(d[b]!==a[b]){e=d[b];l=a[b];break}return e<l?-1:l<e?1:0};m.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)};m.prototype.indexOf=function(a,b,c){return E(this,a,b,c,!0)};m.prototype.lastIndexOf=function(a,b,c){return E(this,a,b,c,!1)};m.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==
typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0;isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var g=this.length-b;if((void 0===c||c>g)&&(c=g),0<a.length&&(0>c||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(g=!1;;)switch(d){case "hex":a:{b=Number(b)||0;d=this.length-b;c?(c=Number(c))>d&&(c=d):c=d;d=a.length;if(0!=d%2)throw new TypeError("Invalid hex string");
c>d/2&&(c=d/2);for(d=0;d<c;++d){g=parseInt(a.substr(2*d,2),16);if(isNaN(g)){c=d;break a}this[b+d]=g}c=d}return c;case "utf8":case "utf-8":return ca(M(a,this.length-b),this,b,c);case "ascii":return O(this,a,b,c);case "latin1":case "binary":return O(this,a,b,c);case "base64":return ca(Q(a),this,b,c);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":d=c;g=this.length-b;for(var e=[],l=0;l<a.length&&!(0>(g-=2));++l){var k=a.charCodeAt(l);c=k>>8;k%=256;e.push(k);e.push(c)}return ca(e,this,b,d);default:if(g)throw new TypeError("Unknown encoding: "+
d);d=(""+d).toLowerCase();g=!0}};m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var qa=4096;m.prototype.slice=function(a,b){var c=this.length;if(0>(a=~~a)?0>(a+=c)&&(a=0):a>c&&(a=c),0>(b=void 0===b?c:~~b)?0>(b+=c)&&(b=0):b>c&&(b=c),b<a&&(b=a),m.TYPED_ARRAY_SUPPORT)(b=this.subarray(a,b)).__proto__=m.prototype;else{c=b-a;b=new m(c,void 0);for(var d=0;d<c;++d)b[d]=this[d+a]}return b};m.prototype.readUIntLE=function(a,b,c){a|=0;b|=0;c||y(a,b,this.length);
c=this[a];for(var d=1,g=0;++g<b&&(d*=256);)c+=this[a+g]*d;return c};m.prototype.readUIntBE=function(a,b,c){a|=0;b|=0;c||y(a,b,this.length);c=this[a+--b];for(var d=1;0<b&&(d*=256);)c+=this[a+--b]*d;return c};m.prototype.readUInt8=function(a,b){return b||y(a,1,this.length),this[a]};m.prototype.readUInt16LE=function(a,b){return b||y(a,2,this.length),this[a]|this[a+1]<<8};m.prototype.readUInt16BE=function(a,b){return b||y(a,2,this.length),this[a]<<8|this[a+1]};m.prototype.readUInt32LE=function(a,b){return b||
y(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};m.prototype.readUInt32BE=function(a,b){return b||y(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};m.prototype.readIntLE=function(a,b,c){a|=0;b|=0;c||y(a,b,this.length);c=this[a];for(var d=1,g=0;++g<b&&(d*=256);)c+=this[a+g]*d;return c>=128*d&&(c-=Math.pow(2,8*b)),c};m.prototype.readIntBE=function(a,b,c){a|=0;b|=0;c||y(a,b,this.length);c=b;for(var d=1,g=this[a+--c];0<c&&(d*=256);)g+=this[a+--c]*d;
return g>=128*d&&(g-=Math.pow(2,8*b)),g};m.prototype.readInt8=function(a,b){return b||y(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]};m.prototype.readInt16LE=function(a,b){b||y(a,2,this.length);a=this[a]|this[a+1]<<8;return 32768&a?4294901760|a:a};m.prototype.readInt16BE=function(a,b){b||y(a,2,this.length);a=this[a+1]|this[a]<<8;return 32768&a?4294901760|a:a};m.prototype.readInt32LE=function(a,b){return b||y(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};m.prototype.readInt32BE=
function(a,b){return b||y(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};m.prototype.readFloatLE=function(a,b){return b||y(a,4,this.length),P.read(this,a,!0,23,4)};m.prototype.readFloatBE=function(a,b){return b||y(a,4,this.length),P.read(this,a,!1,23,4)};m.prototype.readDoubleLE=function(a,b){return b||y(a,8,this.length),P.read(this,a,!0,52,8)};m.prototype.readDoubleBE=function(a,b){return b||y(a,8,this.length),P.read(this,a,!1,52,8)};m.prototype.writeUIntLE=function(a,b,c,d){(a=
+a,b|=0,c|=0,d)||R(this,a,b,c,Math.pow(2,8*c)-1,0);d=1;var g=0;for(this[b]=255&a;++g<c&&(d*=256);)this[b+g]=a/d&255;return b+c};m.prototype.writeUIntBE=function(a,b,c,d){(a=+a,b|=0,c|=0,d)||R(this,a,b,c,Math.pow(2,8*c)-1,0);d=c-1;var g=1;for(this[b+d]=255&a;0<=--d&&(g*=256);)this[b+d]=a/g&255;return b+c};m.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||R(this,a,b,1,255,0),m.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1};m.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=
0,c||R(this,a,b,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):N(this,a,b,!0),b+2};m.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||R(this,a,b,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):N(this,a,b,!1),b+2};m.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||R(this,a,b,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):p(this,a,b,!0),b+4};m.prototype.writeUInt32BE=function(a,b,c){return a=
+a,b|=0,c||R(this,a,b,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):p(this,a,b,!1),b+4};m.prototype.writeIntLE=function(a,b,c,d){(a=+a,b|=0,d)||(d=Math.pow(2,8*c-1),R(this,a,b,c,d-1,-d));d=0;var g=1,e=0;for(this[b]=255&a;++d<c&&(g*=256);)0>a&&0===e&&0!==this[b+d-1]&&(e=1),this[b+d]=(a/g>>0)-e&255;return b+c};m.prototype.writeIntBE=function(a,b,c,d){(a=+a,b|=0,d)||(d=Math.pow(2,8*c-1),R(this,a,b,c,d-1,-d));d=c-1;var g=1,e=0;for(this[b+d]=255&
a;0<=--d&&(g*=256);)0>a&&0===e&&0!==this[b+d+1]&&(e=1),this[b+d]=(a/g>>0)-e&255;return b+c};m.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||R(this,a,b,1,127,-128),m.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=255&a,b+1};m.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||R(this,a,b,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):N(this,a,b,!0),b+2};m.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||R(this,a,b,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?
(this[b]=a>>>8,this[b+1]=255&a):N(this,a,b,!1),b+2};m.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||R(this,a,b,4,2147483647,-2147483648),m.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):p(this,a,b,!0),b+4};m.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||R(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),m.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):p(this,a,b,!1),b+4};m.prototype.writeFloatLE=
function(a,b,c){return c||V(this,0,b,4),P.write(this,a,b,!0,23,4),b+4};m.prototype.writeFloatBE=function(a,b,c){return c||V(this,0,b,4),P.write(this,a,b,!1,23,4),b+4};m.prototype.writeDoubleLE=function(a,b,c){return c||V(this,0,b,8),P.write(this,a,b,!0,52,8),b+8};m.prototype.writeDoubleBE=function(a,b,c){return c||V(this,0,b,8),P.write(this,a,b,!1,52,8),b+8};m.prototype.copy=function(a,b,c,d){if((c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),0<d&&d<c&&(d=c),d===c)||0===a.length||
0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>d)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length);a.length-b<d-c&&(d=a.length-b+c);var g=d-c;if(this===a&&c<b&&b<d)for(d=g-1;0<=d;--d)a[d+b]=this[d+c];else if(1E3>g||!m.TYPED_ARRAY_SUPPORT)for(d=0;d<g;++d)a[d+b]=this[d+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);return g};m.prototype.fill=
function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var g=a.charCodeAt(0);256>g&&(a=g)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!m.isEncoding(d))throw new TypeError("Unknown encoding: "+d);}else"number"==typeof a&&(a&=255);if(0>b||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;if(b>>>=0,c=void 0===c?this.length:
c>>>0,a||(a=0),"number"==typeof a)for(d=b;d<c;++d)this[d]=a;else for(a=m.isBuffer(a)?a:M((new m(a,d)).toString()),g=a.length,d=0;d<c-b;++d)this[d+b]=a[d%g];return this};var B=/[^+\/0-9A-Za-z-_]/g}).call(b,e(2))},function(a,b){b.read=function(a,b,c,m,k){var e=8*k-m-1;var q=(1<<e)-1,t=q>>1,v=-7;k=c?k-1:0;var n=c?-1:1,d=a[b+k];k+=n;c=d&(1<<-v)-1;d>>=-v;for(v+=e;0<v;c=256*c+a[b+k],k+=n,v-=8);e=c&(1<<-v)-1;c>>=-v;for(v+=m;0<v;e=256*e+a[b+k],k+=n,v-=8);if(0===c)c=1-t;else{if(c===q)return e?NaN:1/0*(d?-1:
1);e+=Math.pow(2,m);c-=t}return(d?-1:1)*e*Math.pow(2,c-m)};b.write=function(a,b,c,m,k,r){var e,q,t,n=8*r-k-1,d=(1<<n)-1,g=d>>1,E=23===k?Math.pow(2,-24)-Math.pow(2,-77):0;r=m?0:r-1;m=m?1:-1;var l=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);for(isNaN(b)||b===1/0?(q=isNaN(b)?1:0,e=d):(e=Math.floor(Math.log(b)/Math.LN2),1>b*(t=Math.pow(2,-e))&&(e--,t*=2),2<=(b+=1<=e+g?E/t:E*Math.pow(2,1-g))*t&&(e++,t/=2),e+g>=d?(q=0,e=d):1<=e+g?(q=(b*t-1)*Math.pow(2,k),e+=g):(q=b*Math.pow(2,g-1)*Math.pow(2,k),e=0));8<=k;a[c+
r]=255&q,r+=m,q/=256,k-=8);e=e<<k|q;for(n+=k;0<n;a[c+r]=255&e,r+=m,e/=256,n-=8);a[c+r-m]|=128*l}},function(a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},function(a,b,e){(function(a,b){var c;!function(e){function k(a){for(var b,c,d=[],g=0,e=a.length;g<e;)55296<=(b=a.charCodeAt(g++))&&56319>=b&&g<e?56320==(64512&(c=a.charCodeAt(g++)))?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),g--):d.push(b);return d}function m(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+
a.toString(16).toUpperCase()+" is not a scalar value");}function q(){if(g>=d)throw Error("Invalid byte index");var a=255&n[g];if(g++,128==(192&a))return 63&a;throw Error("Invalid continuation byte");}function t(){var a,b;if(g>d)throw Error("Invalid byte index");if(g==d)return!1;if(a=255&n[g],g++,0==(128&a))return a;if(192==(224&a)){if(128<=(b=(31&a)<<6|q()))return b;throw Error("Invalid continuation byte");}if(224==(240&a)){if(2048<=(b=(15&a)<<12|q()<<6|q()))return m(b),b;throw Error("Invalid continuation byte");
}if(240==(248&a)&&65536<=(b=(7&a)<<18|q()<<12|q()<<6|q())&&1114111>=b)return b;throw Error("Invalid UTF-8 detected");}e=("object"==typeof a&&a&&a.exports,"object"==typeof b&&b);e.global!==e&&e.window;var n,d,g,E=String.fromCharCode;void 0===(c={version:"2.1.2",encode:function(a){a=k(a);for(var b=a.length,c=-1,d="";++c<b;){var g=a[c];if(0==(4294967168&g))g=E(g);else{var e="";g=(0==(4294965248&g)?e=E(g>>6&31|192):0==(4294901760&g)?(m(g),e=E(g>>12&15|224),e+=E(g>>6&63|128)):0==(4292870144&g)&&(e=E(g>>
18&7|240),e+=E(g>>12&63|128),e+=E(g>>6&63|128)),e+E(63&g|128))}d+=g}return d},decode:function(a){n=k(a);d=n.length;g=0;var b;for(a=[];!1!==(b=t());)a.push(b);var c;b=a.length;for(var e=-1,l="";++e<b;)65535<(c=a[e])&&(l+=E((c-=65536)>>>10&1023|55296),c=56320|1023&c),l+=E(c);return l}})||(a.exports=c)}()}).call(b,e(12)(a),e(2))},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,
get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}}])});b=H||{};"object"==typeof B.exports&&(B.exports=b);String.prototype.startsWith||(String.prototype.startsWith=function(a){return 0===this.lastIndexOf(a,0)});String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});I.ajaxTransport("+binary",function(a,b,e){if(window.FormData&&(a.dataType&&"binary"==a.dataType||a.data&&
(window.ArrayBuffer&&a.data instanceof ArrayBuffer||window.Blob&&a.data instanceof Blob)))return{send:function(b,c){var e=new XMLHttpRequest,k=a.url,r=a.type,q=a.async||!0,t=a.responseType||"blob",v=a.data||null,n=a.username||null,d=a.password||null,g=function(){var b={};b[a.dataType]=e.response;c(e.status,e.statusText,b,e.getAllResponseHeaders())},E;for(E in e.addEventListener("load",g),e.addEventListener("error",g),e.addEventListener("abort",g),e.open(r,k,q,n,d),b)e.setRequestHeader(E,b[E]);e.responseType=
t;e.send(v)},abort:function(){e.abort()}}});b.createViewer=function(a,c){if("string"===I.type(a)&&(a=I("#"+a)),a){c=c||{};try{return new b.GLViewer(a,c)}catch(e){throw"error creating viewer: "+e;}}};b.createViewerGrid=function(a,c,e){if("string"===I.type(a)&&(a=I("#"+a)),a){c=c||{};e=e||{};var q=[],t=document.createElement("canvas");e.rows=c.rows;e.cols=c.cols;e.control_all=null!=c.control_all&&c.control_all;I(a).append(I(t));try{for(var m=0;m<c.rows;m++){for(var k=[],r=0;r<c.cols;r++){e.row=m;e.col=
r;e.canvas=t;e.viewers=q;e.control_all=c.control_all;var x=b.createViewer(a,e);k.push(x)}q.unshift(k)}}catch(z){throw"error creating viewer grid: "+z;}return q}};b.viewers={};b.getbin=function(a,b,e,q){var c=new Promise(function(b,c){e=null==e?"GET":e;I.ajax({url:a,dataType:"binary",method:e,data:q,responseType:"arraybuffer",processData:!1}).done(function(a){b(a)}).fail(function(a,b){console.log(b);c()})});return b?c.then(b):c};b.base64ToArray=function(a){a=window.atob(a);for(var b=a.length,e=new Uint8Array(b),
q=0;q<b;q++)e[q]=a.charCodeAt(q);return e};b.download=function(a,c,e,q){var t="",m="",k="",r="",x=null,z=c.addModel();if("mmtf:"===a.substr(0,5))m=e&&e.pdbUri?e.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",a=a.substr(5).toUpperCase(),r=m+a,e&&void 0===e.noComputeSecondaryStructure&&(e.noComputeSecondaryStructure=!0),x=new Promise(function(a){b.getbin(r).then(function(b){z.addMolData(b,"mmtf",e);c.zoomTo();c.render();a(z)})});else{if("pdb:"===a.substr(0,4)){if(t="mmtf",e&&e.format&&(t=e.format),e&&void 0===
e.noComputeSecondaryStructure&&(e.noComputeSecondaryStructure=!0),!(a=a.substr(4).toUpperCase()).match(/^[1-9][A-Za-z0-9]{3}$/))return void alert("Wrong PDB ID");"mmtf"==t?(k=e&&e.mmtfUri?e.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",r=k+a.toUpperCase()):(m=e&&e.pdbUri?e.pdbUri:"https://files.rcsb.org/view/",r=m+a+"."+t)}else if("cid:"==a.substr(0,4)){if(t="sdf",!(a=a.substr(4)).match(/^[0-9]+$/))return void alert("Wrong Compound ID");r="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+a+"/SDF?record_type=3d"}else"url:"==
a.substr(0,4)&&(r=a.substr(4),t=r);var v=function(a){z.addMolData(a,t,e);c.zoomTo();c.render()};x=new Promise(function(a){"mmtf"==t?b.getbin(r).then(function(b){v(b);a(z)}):I.get(r,function(b){v(b);a(z)}).fail(function(a){console.log("fetch of "+r+" failed: "+a.statusText)})})}return q?(x.then(function(a){q(a)}),z):x};b.SurfaceType={VDW:1,MS:2,SAS:3,SES:4};b.mergeGeos=function(a,b){b=b.geometry;void 0!==b&&a.geometryGroups.push(b.geometryGroups[0])};b.multiLineString=function(a){return a.toString().replace(/^[^\/]+\/\*!?/,
"").replace(/\*\/[^\/]+$/,"")};b.syncSurface=!1;(0<=window.navigator.userAgent.indexOf("MSIE ")||0<=window.navigator.userAgent.indexOf("Trident/"))&&(b.syncSurface=!0);b.specStringToObject=function(a){if("object"==typeof a||void 0===a||null==a)return a;var b=function(a){return I.isNumeric(a)?Math.floor(parseFloat(a))==parseInt(a)?parseFloat(a):0<=a.indexOf(".")?parseFloat(a):parseInt(a):"true"===a||"false"!==a&&a},e={};if("all"===(a=a.replace(/%7E/,"~")))return e;a=a.split(";");for(var q=0;q<a.length;q++){var t=
a[q].split(":"),m=t[0],k={};if(t=t[1])if(-1!==(t=t.replace(/~/g,"=")).indexOf("=")){t=t.split(",");for(var r=0;r<t.length;r++){var x=t[r].split("=",2);k[x[0]]=b(x[1])}}else k=-1!==t.indexOf(",")?t.split(","):b(t);e[m]=k}return e};b.getExtent=function(a,b){var c,q,t,m,k,r,x,z,v,n=!b;if(b=c=q=9999,t=m=k=-9999,r=x=z=v=0,0===a.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var d=0;d<a.length;d++){var g=a[d];if(void 0!==g&&isFinite(g.x)&&isFinite(g.y)&&isFinite(g.z)&&(v++,r+=g.x,x+=g.y,z+=g.z,b=b<g.x?b:g.x,
c=c<g.y?c:g.y,q=q<g.z?q:g.z,t=t>g.x?t:g.x,m=m>g.y?m:g.y,k=k>g.z?k:g.z,g.symmetries&&n))for(var E=0;E<g.symmetries.length;E++)v++,r+=g.symmetries[E].x,x+=g.symmetries[E].y,z+=g.symmetries[E].z,b=b<g.symmetries[E].x?b:g.symmetries[E].x,c=c<g.symmetries[E].y?c:g.symmetries[E].y,q=q<g.symmetries[E].z?q:g.symmetries[E].z,t=t>g.symmetries[E].x?t:g.symmetries[E].x,m=m>g.symmetries[E].y?m:g.symmetries[E].y,k=k>g.symmetries[E].z?k:g.symmetries[E].z}return[[b,c,q],[t,m,k],[r/v,x/v,z/v]]};b.getAtomProperty=
function(a,b){var c=null;return a.properties&&void 0!==a.properties[b]?c=a.properties[b]:void 0!==a[b]&&(c=a[b]),c};b.getPropertyRange=function(a,c){for(var e=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,t=0,m=a.length;t<m;t++){var k=b.getAtomProperty(a[t],c);null!=k&&(k<e&&(e=k),k>q&&(q=k))}return isFinite(e)||isFinite(q)?isFinite(e)?isFinite(q)||(q=e):e=q:e=q=0,[e,q]};!(ia=[],Fa=function(){return b}.apply(ba,ia),void 0!==Fa&&(B.exports=Fa));b.createStereoViewer=function(a){var c=this;if("string"===
I.type(a)&&(a=I("#"+a)),a){a=b.createViewerGrid(a,{rows:1,cols:2,control_all:!0});this.glviewer1=a[0][0];this.glviewer2=a[0][1];this.glviewer1.setAutoEyeSeparation(!1);this.glviewer2.setAutoEyeSeparation(!0);this.glviewer1.linkViewer(this.glviewer2);this.glviewer2.linkViewer(this.glviewer1);a=Object.getOwnPropertyNames(this.glviewer1).filter(function(a){return"function"==typeof c.glviewer1[a]});for(var e=0;e<a.length;e++)this[a[e]]=function(a){return function(){var b=this.glviewer1[a].apply(this.glviewer1,
arguments),c=this.glviewer2[a].apply(this.glviewer2,arguments);return[b,c]}}(a[e]);this.setCoordinates=function(a,b,c){for(var e=0;e<a.length;e++)a[e].setCoordinates(b,c)};this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()};this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()};this.render=function(a){this.glviewer1.render();this.glviewer2.render();a&&a(this)};this.getCanvas=function(){return this.glviewer1.getCanvas()}}};
var b=b||{};b.Math={clamp:function(a,b,e){return Math.min(Math.max(a,b),e)},degToRad:function(){var a=Math.PI/180;return function(b){return b*a}}()};b.Quaternion=function(a,b,e,q){this.x=a||0;this.y=b||0;this.z=e||0;this.w=void 0!==q?q:1};b.Quaternion.prototype={constructor:b.Quaternion,set:function(a,b,e,q){return this.x=a,this.y=b,this.z=e,this.w=q,this},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w,this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},inverse:function(){return this.conjugate().normalize()},
length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthxyz:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var a=this.length();return 0===a?(this.x=0,this.y=0,this.z=0,this.w=1):(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a),this},multiply:function(a){return this.multiplyQuaternions(this,a)},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},multiplyQuaternions:function(a,b){var c=
a.x,q=a.y,t=a.z;a=a.w;var m=b.x,k=b.y,r=b.z;b=b.w;return this.x=c*b+a*m+q*r-t*k,this.y=q*b+a*k+t*m-c*r,this.z=t*b+a*r+c*k-q*m,this.w=a*b-c*m-q*k-t*r,this},sub:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this.w-=a.w,this},clone:function(){return new b.Quaternion(this.x,this.y,this.z,this.w)},setFromEuler:function(a){var b=Math.cos(a.x/2),e=Math.cos(a.y/2),q=Math.cos(a.z/2),t=Math.sin(a.x/2),m=Math.sin(a.y/2);a=Math.sin(a.z/2);return this.x=t*e*q+b*m*a,this.y=b*m*q-t*e*a,this.z=b*e*a+t*m*
q,this.w=b*e*q-t*m*a,this}};b.Vector2=function(a,b){this.x=a||0;this.y=b||0};b.Vector2.prototype={constructor:b.Vector2,set:function(a,b){return this.x=a,this.y=b,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this},copy:function(a){return this.x=a.x,this.y=a.y,this},clone:function(){return new b.Vector2(this.x,this.y)}};b.Vector3=function(a,b,e){this.x=a||0;this.y=b||0;this.z=e||0};b.Vector3.prototype={constructor:b.Vector3,set:function(a,b,e){return this.x=a,this.y=b,this.z=
e,this},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this},sub:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this},divideScalar:function(a){return 0!==a?(this.x/=a,this.y/=a,this.z/=
a):(this.x=0,this.y=0,this.z=0),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,e=this.y-a.y;a=this.z-a.z;return b*b+e*e+a*a},applyMatrix4:function(a){var b=this.x,e=this.y,q=this.z;a=a.elements;return this.x=
a[0]*b+a[4]*e+a[8]*q+a[12],this.y=a[1]*b+a[5]*e+a[9]*q+a[13],this.z=a[2]*b+a[6]*e+a[10]*q+a[14],this},applyProjection:function(a){var b=this.x,e=this.y,q=this.z;a=a.elements;var t=a[3]*b+a[7]*e+a[11]*q+a[15];return this.x=(a[0]*b+a[4]*e+a[8]*q+a[12])/t,this.y=(a[1]*b+a[5]*e+a[9]*q+a[13])/t,this.z=(a[2]*b+a[6]*e+a[10]*q+a[14])/t,this},applyQuaternion:function(a){var b=this.x,e=this.y,q=this.z,t=a.x,m=a.y,k=a.z;a=a.w;var r=2*(e*k-q*m);var x=2*(q*t-b*k);var z=2*(b*m-e*t);var v,n,d;return v=x*k-z*m,n=
z*t-r*k,d=r*m-x*t,this.x=b+a*r+v,this.y=e+a*x+n,this.z=q+a*z+d,this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(a){var b=this.x,e=this.y,q=this.z;return this.x=e*a.z-q*a.y,this.y=q*a.x-b*a.z,this.z=b*a.y-e*a.x,this},
crossVectors:function(a,b){return this.x=a.y*b.z-a.z*b.y,this.y=a.z*b.x-a.x*b.z,this.z=a.x*b.y-a.y*b.x,this},getPositionFromMatrix:function(a){return this.x=a.elements[12],this.y=a.elements[13],this.z=a.elements[14],this},setEulerFromRotationMatrix:function(a,c){var e=a.elements;a=e[0];var q=e[4],t=e[8],m=e[5],k=e[9],r=e[6];e=e[10];return void 0===c||"XYZ"===c?(this.y=Math.asin(b.Math.clamp(t,-1,1)),.99999>Math.abs(t)?(this.x=Math.atan2(-k,e),this.z=Math.atan2(-q,a)):(this.x=Math.atan2(r,m),this.z=
0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+c),this},rotateAboutVector:function(a,b){a.normalize();var c=Math.cos(b),q=Math.sin(b);b=this.clone().multiplyScalar(c);q=a.clone().cross(this).multiplyScalar(q);a=a.clone().multiplyScalar(a.clone().dot(this)).multiplyScalar(1-c);a=b.add(q).add(a);return this.x=a.x,this.y=a.y,this.z=a.z,this},setFromMatrixPosition:function(a){a=a.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this},transformDirection:function(a){var b=
this.x,e=this.y,q=this.z;a=a.elements;return this.x=a[0]*b+a[4]*e+a[8]*q,this.y=a[1]*b+a[5]*e+a[9]*q,this.z=a[2]*b+a[6]*e+a[10]*q,this.normalize()},clone:function(){return new b.Vector3(this.x,this.y,this.z)}};b.Matrix3=function(a,b,e,q,t,m,k,r,x){this.elements=new Float32Array(9);this.set(void 0!==a?a:1,b||0,e||0,q||0,void 0!==t?t:1,m||0,k||0,r||0,void 0!==x?x:1)};b.Matrix3.prototype={constructor:b.Matrix3,set:function(a,b,e,q,t,m,k,r,x){var c=this.elements;return c[0]=a,c[3]=b,c[6]=e,c[1]=q,c[4]=
t,c[7]=m,c[2]=k,c[5]=r,c[8]=x,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])},multiplyScalar:function(a){var b=this.elements;return b[0]*=a,b[3]*=a,b[6]*=a,b[1]*=a,b[4]*=a,b[7]*=a,b[2]*=a,b[5]*=a,b[8]*=a,this},getInverse:function(a,b){a=a.elements;var c=this.elements;c[0]=a[10]*a[5]-a[6]*a[9];c[1]=-a[10]*a[1]+a[2]*a[9];c[2]=a[6]*a[1]-a[2]*a[5];c[3]=-a[10]*a[4]+a[6]*a[8];c[4]=a[10]*a[0]-a[2]*a[8];
c[5]=-a[6]*a[0]+a[2]*a[4];c[6]=a[9]*a[4]-a[5]*a[8];c[7]=-a[9]*a[0]+a[1]*a[8];c[8]=a[5]*a[0]-a[1]*a[4];a=a[0]*c[0]+a[1]*c[3]+a[2]*c[6];if(0===a){if(b)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/a),this},getDeterminant:function(){var a=this.elements;return a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[2]*a[4]*a[6]-a[1]*a[3]*a[8]-a[0]*a[5]*
a[7]},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[3],b[3]=a,a=b[2],b[2]=b[6],b[6]=a,a=b[5],b[5]=b[7],b[7]=a,this},clone:function(){var a=this.elements;return new b.Matrix3(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};b.Matrix4=function(a,b,e,q,t,m,k,r,x,z,v,n,d,g,E,l){if(void 0===b&&void 0!==a)this.elements=new Float32Array(a);else{var c=this.elements=new Float32Array(16);c[0]=void 0!==a?a:1;c[4]=b||0;c[8]=e||0;c[12]=q||0;c[1]=t||0;c[5]=void 0!==m?m:1;c[9]=k||0;c[13]=r||0;c[2]=
x||0;c[6]=z||0;c[10]=void 0!==v?v:1;c[14]=n||0;c[3]=d||0;c[7]=g||0;c[11]=E||0;c[15]=void 0!==l?l:1}};b.Matrix4.prototype={constructor:b.Matrix4,set:function(a,b,e,q,t,m,k,r,x,z,v,n,d,g,E,l){var c=this.elements;return c[0]=a,c[4]=b,c[8]=e,c[12]=q,c[1]=t,c[5]=m,c[9]=k,c[13]=r,c[2]=x,c[6]=z,c[10]=v,c[14]=n,c[3]=d,c[7]=g,c[11]=E,c[15]=l,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(a){a=a.elements;return this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],
a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]),this},matrix3FromTopLeft:function(){var a=this.elements;return new b.Matrix3(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10])},setRotationFromEuler:function(a,b){var c=this.elements,q=a.x,t=a.y,m=a.z;a=Math.cos(q);q=Math.sin(q);var k=Math.cos(t);t=Math.sin(t);var r=Math.cos(m);m=Math.sin(m);if(void 0===b||"XYZ"===b){b=a*r;var x=a*m,z=q*r,v=q*m;c[0]=k*r;c[4]=-k*m;c[8]=t;c[1]=x+z*t;c[5]=b-v*t;c[9]=-q*k;c[2]=v-b*t;c[6]=z+x*t;c[10]=a*k}else console.error("Error with matrix4 setRotationFromEuler. Order: "+
b);return this},setRotationFromQuaternion:function(a){var b=this.elements,e=a.x,q=a.y,t=a.z,m=a.w,k=e+e,r=q+q,x=t+t;a=e*k;var z=e*r;e*=x;var v=q*r;q*=x;t*=x;k*=m;r*=m;m*=x;return b[0]=1-(v+t),b[4]=z-m,b[8]=e+r,b[1]=z+m,b[5]=1-(a+t),b[9]=q-k,b[2]=e-r,b[6]=q+k,b[10]=1-(a+v),this},lookAt:function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3;return function(b,t,m){var k=this.elements;return e.subVectors(b,t).normalize(),0===e.length()&&(e.z=1),a.crossVectors(m,e).normalize(),0===a.length()&&
(e.x+=1E-4,a.crossVectors(m,e).normalize()),c.crossVectors(e,a),k[0]=a.x,k[4]=c.x,k[8]=e.x,k[1]=a.y,k[5]=c.y,k[9]=e.y,k[2]=a.z,k[6]=c.z,k[10]=e.z,this}}(),multiplyMatrices:function(a,b){var c=a.elements,q=b.elements;b=this.elements;a=c[0];var t=c[4],m=c[8],k=c[12],r=c[1],x=c[5],z=c[9],v=c[13],n=c[2],d=c[6],g=c[10],E=c[14],l=c[3],O=c[7],G=c[11];c=c[15];var y=q[0],R=q[4],N=q[8],p=q[12],V=q[1],M=q[5],Q=q[9],ca=q[13],K=q[2],P=q[6],J=q[10],qa=q[14],B=q[3],U=q[7],X=q[11];q=q[15];return b[0]=a*y+t*V+m*K+
k*B,b[4]=a*R+t*M+m*P+k*U,b[8]=a*N+t*Q+m*J+k*X,b[12]=a*p+t*ca+m*qa+k*q,b[1]=r*y+x*V+z*K+v*B,b[5]=r*R+x*M+z*P+v*U,b[9]=r*N+x*Q+z*J+v*X,b[13]=r*p+x*ca+z*qa+v*q,b[2]=n*y+d*V+g*K+E*B,b[6]=n*R+d*M+g*P+E*U,b[10]=n*N+d*Q+g*J+E*X,b[14]=n*p+d*ca+g*qa+E*q,b[3]=l*y+O*V+G*K+c*B,b[7]=l*R+O*M+G*P+c*U,b[11]=l*N+O*Q+G*J+c*X,b[15]=l*p+O*ca+G*qa+c*q,this},multiplyScalar:function(a){var b=this.elements;return b[0]*=a,b[4]*=a,b[8]*=a,b[12]*=a,b[1]*=a,b[5]*=a,b[9]*=a,b[13]*=a,b[2]*=a,b[6]*=a,b[10]*=a,b[14]*=a,b[3]*=a,
b[7]*=a,b[11]*=a,b[15]*=a,this},makeTranslation:function(a,b,e){return this.set(1,0,0,a,0,1,0,b,0,0,1,e,0,0,0,1),this},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[4],b[4]=a,a=b[2],b[2]=b[8],b[8]=a,a=b[6],b[6]=b[9],b[9]=a,a=b[3],b[3]=b[12],b[12]=a,a=b[7],b[7]=b[13],b[13]=a,a=b[11],b[11]=b[14],b[14]=a,this},getPosition:function(){var a=new b.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");
var b=this.elements;return a.set(b[12],b[13],b[14])}}(),setPosition:function(a){var b=this.elements;return b[12]=a.x,b[13]=a.y,b[14]=a.z,this},getInverse:function(a,b){var c=this.elements;a=a.elements;var q=a[0],t=a[4],m=a[8],k=a[12],r=a[1],x=a[5],z=a[9],v=a[13],n=a[2],d=a[6],g=a[10],E=a[14],l=a[3],O=a[7],G=a[11],y=a[15];c[0]=z*E*O-v*g*O+v*d*G-x*E*G-z*d*y+x*g*y;c[4]=k*g*O-m*E*O-k*d*G+t*E*G+m*d*y-t*g*y;c[8]=m*v*O-k*z*O+k*x*G-t*v*G-m*x*y+t*z*y;c[12]=k*z*d-m*v*d-k*x*g+t*v*g+m*x*E-t*z*E;c[1]=v*g*l-z*
E*l-v*n*G+r*E*G+z*n*y-r*g*y;c[5]=m*E*l-k*g*l+k*n*G-q*E*G-m*n*y+q*g*y;c[9]=k*z*l-m*v*l-k*r*G+q*v*G+m*r*y-q*z*y;c[13]=m*v*n-k*z*n+k*r*g-q*v*g-m*r*E+q*z*E;c[2]=x*E*l-v*d*l+v*n*O-r*E*O-x*n*y+r*d*y;c[6]=k*d*l-t*E*l-k*n*O+q*E*O+t*n*y-q*d*y;c[10]=t*v*l-k*x*l+k*r*O-q*v*O-t*r*y+q*x*y;c[14]=k*x*n-t*v*n-k*r*d+q*v*d+t*r*E-q*x*E;c[3]=z*d*l-x*g*l-z*n*O+r*g*O+x*n*G-r*d*G;c[7]=t*g*l-m*d*l+m*n*O-q*g*O-t*n*G+q*d*G;c[11]=m*x*l-t*z*l-m*r*O+q*z*O+t*r*G-q*x*G;c[15]=t*z*n-m*x*n+m*r*d-q*z*d-t*r*g+q*x*g;c=a[0]*c[0]+a[1]*
c[4]+a[2]*c[8]+a[3]*c[12];if(0===c){if(b)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/c),this},isReflected:function(){return 0>this.matrix3FromTopLeft().getDeterminant()},compose:function(){var a=new b.Matrix4,c=new b.Matrix4;return function(b,q,t){var e=this.elements;return a.identity(),a.setRotationFromQuaternion(q),c.makeScale(t.x,t.y,
t.z),this.multiplyMatrices(a,c),e[12]=b.x,e[13]=b.y,e[14]=b.z,this}}(),decompose:function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3,q=new b.Matrix4;return function(t,m,k){var r=this.elements;return a.set(r[0],r[1],r[2]),c.set(r[4],r[5],r[6]),e.set(r[8],r[9],r[10]),t=t instanceof b.Vector3?t:new b.Vector3,m=m instanceof b.Quaternion?m:new b.Quaternion,(k=k instanceof b.Vector3?k:new b.Vector3).x=a.length(),k.y=c.length(),k.z=e.length(),t.x=r[12],t.y=r[13],t.z=r[14],q.copy(this),q.elements[0]/=
k.x,q.elements[1]/=k.x,q.elements[2]/=k.x,q.elements[4]/=k.y,q.elements[5]/=k.y,q.elements[6]/=k.y,q.elements[8]/=k.z,q.elements[9]/=k.z,q.elements[10]/=k.z,m.setFromRotationMatrix(q),[t,m,k]}}(),scale:function(a){var b=this.elements,e=a.x,q=a.y;a=a.z;return b[0]*=e,b[4]*=q,b[8]*=a,b[1]*=e,b[5]*=q,b[9]*=a,b[2]*=e,b[6]*=q,b[10]*=a,b[3]*=e,b[7]*=q,b[11]*=a,this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*
a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeFrustum:function(a,b,e,q,t,m){var c=this.elements;return c[0]=2*t/(b-a),c[4]=0,c[8]=(b+a)/(b-a),c[12]=0,c[1]=0,c[5]=2*t/(q-e),c[9]=(q+e)/(q-e),c[13]=0,c[2]=0,c[6]=0,c[10]=-(m+t)/(m-t),c[14]=-2*m*t/(m-t),c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this},makePerspective:function(a,c,e,q){a=e*Math.tan(b.Math.degToRad(.5*a));var t=-a;return this.makeFrustum(t*c,a*c,t,a,e,q)},makeOrthographic:function(a,b,e,q,t,m){var c=this.elements,r=1/(b-a),x=1/(e-q),z=1/(m-t);return c[0]=
2*r,c[4]=0,c[8]=0,c[12]=-((b+a)*r),c[1]=0,c[5]=2*x,c[9]=0,c[13]=-((e+q)*x),c[2]=0,c[6]=0,c[10]=-2*z,c[14]=-((m+t)*z),c[3]=0,c[7]=0,c[11]=0,c[15]=1,this},isEqual:function(a){a=a.elements;var b=this.elements;return b[0]==a[0]&&b[4]==a[4]&&b[8]==a[8]&&b[12]==a[12]&&b[1]==a[1]&&b[5]==a[5]&&b[9]==a[9]&&b[13]==a[13]&&b[2]==a[2]&&b[6]==a[6]&&b[10]==a[10]&&b[14]==a[14]&&b[3]==a[3]&&b[7]==a[7]&&b[11]==a[11]&&b[15]==a[15]},clone:function(){var a=this.elements;return new b.Matrix4(a[0],a[4],a[8],a[12],a[1],
a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])},isIdentity:function(){var a=this.elements;return 1==a[0]&&0==a[4]&&0==a[8]&&0==a[12]&&0==a[1]&&1==a[5]&&0==a[9]&&0==a[13]&&0==a[2]&&0==a[6]&&1==a[10]&&0==a[14]&&0==a[3]&&0==a[7]&&0==a[11]&&1==a[15]}};b.Vector3.prototype.unproject=function(){var a=new b.Matrix4;return function(b){return a.multiplyMatrices(b.matrixWorld,a.getInverse(b.projectionMatrix)),this.applyMatrix4(a)}}();b.Ray=function(a,c){this.origin=void 0!==a?a:new b.Vector3;this.direction=
void 0!==c?c:new b.Vector3};b.Ray.prototype={constructor:b.Ray,set:function(a,b){return this.origin.copy(a),this.direction.copy(b),this},copy:function(a){return this.origin.copy(a.origin),this.direction.copy(a.direction),this},at:function(a,c){return(c||new b.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new b.Vector3;return function(b){return this.origin.copy(this.at(b,a)),this}}(),closestPointToPoint:function(a,c){c=c||new b.Vector3;c.subVectors(a,this.origin);
a=c.dot(this.direction);return c.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(){var a=new b.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);return a.copy(this.direction).multiplyScalar(c).add(this.origin),a.distanceTo(b)}}(),isIntersectionCylinder:function(){},isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},isIntersectionPlane:function(a){return 0!==a.normal.dot(this.direction)||0===a.distanceToPoint(this.origin)},
distanceToPlane:function(a){var b=a.normal.dot(this.direction);return 0===b?0===a.distanceToPoint(this.origin)?0:void 0:-(this.origin.dot(a.normal)+a.constant)/b},intersectPlane:function(a,b){a=this.distanceToPlane(a);if(void 0!==a)return this.at(a,b)},applyMatrix4:function(a){return this.direction.add(this.origin).applyMatrix4(a),this.origin.applyMatrix4(a),this.direction.sub(this.origin),this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)},clone:function(){return(new b.Ray).copy(this)}};
b.Sphere=function(a,c){this.center=void 0!==a?a:new b.Vector3;this.radius=void 0!==c?c:0};b.Sphere.prototype={constructor:b.Sphere,set:function(a,b){return this.center.copy(a),this.radius=b,this},copy:function(a){return this.center.copy(a.center),this.radius=a.radius,this},applyMatrix4:function(a){return this.center.applyMatrix4(a),this.radius*=a.getMaxScaleOnAxis(),this},translate:function(a){return this.center.add(a),this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},
clone:function(){return(new b.Sphere).copy(this)}};b.Cylinder=function(a,c,e){this.c1=void 0!==a?a:new b.Vector3;this.c2=void 0!==c?c:new b.Vector3;this.direction=(new b.Vector3).subVectors(this.c2,this.c1).normalize();this.radius=void 0!==e?e:0};b.Cylinder.prototype={constructor:b.Cylinder,copy:function(a){return this.c1.copy(a.c1),this.c2.copy(a.c2),this.direction.copy(a.direction),this.radius=a.radius,this},lengthSq:function(){var a=new b.Vector3;return function(){return a.subVectors(this.c2,this.c1).lengthSq()}}(),
applyMatrix4:function(a){return this.direction.add(this.c1).applyMatrix4(a),this.c1.applyMatrix4(a),this.c2.applyMatrix4(a),this.direction.sub(this.c1).normalize(),this.radius*=a.getMaxScaleOnAxis(),this}};b.Triangle=function(a,c,e){this.a=void 0!==a?a:new b.Vector3;this.b=void 0!==c?c:new b.Vector3;this.c=void 0!==e?e:new b.Vector3};b.Triangle.prototype={constructor:b.Triangle,copy:function(a){return this.a.copy(a.a),this.b.copy(a.b),this.c.copy(a.c),this},applyMatrix4:function(a){return this.a.applyMatrix4(a),
this.b.applyMatrix4(a),this.c.applyMatrix4(a),this},getNormal:function(){var a=new b.Vector3;return function(){var b=this.a.clone();return b.sub(this.b),a.subVectors(this.c,this.b),b.cross(a),b.normalize(),b}}()};b.EventDispatcher=function(){var a={};this.addEventListener=function(b,e){void 0===a[b]&&(a[b]=[]);-1===a[b].indexOf(e)&&a[b].push(e)};this.removeEventListener=function(b,e){e=a[b].indexOf(e);-1!==e&&a[b].splice(e,1)};this.dispatchEvent=function(b){var c=a[b.type];if(void 0!==c){b.target=
this;for(var q=0,t=c.length;q<t;q++)c[q].call(this,b)}}};b.Color=function(a){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(a)};b.Color.prototype={constructor:b.Color,r:0,g:0,b:0,set:function(a){if(a instanceof b.Color)return a.clone();"number"==typeof a?this.setHex(a):"object"==typeof a&&"r"in a&&"g"in a&&"b"in a&&(this.r=a.r,this.g=a.g,this.b=a.b)},setHex:function(a){return a=Math.floor(a),this.r=(a>>16&255)/255,this.g=(a>>8&255)/255,
this.b=(255&a)/255,this},getHex:function(){return Math.round(255*this.r)<<16|Math.round(255*this.g)<<8|Math.round(255*this.b)},clone:function(){return new b.Color(this.r,this.g,this.b)},copy:function(a){return this.r=a.r,this.g=a.g,this.b=a.b,this},scaled:function(){var a={};return a.r=Math.round(255*this.r),a.g=Math.round(255*this.g),a.b=Math.round(255*this.b),a.a=1,a}};b.Object3D=function(){this.id=b.Object3DIDCount++;this.name="";this.parent=void 0;this.children=[];this.position=new b.Vector3;
this.rotation=new b.Vector3;this.matrix=new b.Matrix4;this.matrixWorld=new b.Matrix4;this.quaternion=new b.Quaternion;this.eulerOrder="XYZ";this.up=new b.Vector3(0,1,0);this.scale=new b.Vector3(1,1,1);this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.useQuaternion=!1;this.visible=!0};b.Object3D.prototype={constructor:b.Object3D,lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):
this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(a){if(a!==this){a.parent=this;this.children.push(a);for(var c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof b.Scene&&c.__addObject(a)}else console.error("Can't add $3Dmol.Object3D to itself")},remove:function(a){var c=this.children.indexOf(a);if(-1!==c){a.parent=void 0;this.children.splice(c,1);for(c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof b.Scene&&c.__removeObject(a)}},vrml:function(a){a||
(a=" ");var b=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),e=0,q=0,t=0;0!=b&&(t=Math.sin(b/2),e=this.quaternion.x/t,q=this.quaternion.y/t,t=this.quaternion.z/t);b=a+"Transform {\n"+a+" center "+this.position.x+" "+this.position.y+" "+this.position.z+"\n"+a+" rotation "+e+" "+q+" "+t+" "+b+"\n"+a+" children [\n";this.geometry&&(b+=this.geometry.vrml(a,this.material));for(e=0;e<this.children.length;e++)b+=this.children[e].vrml(a+" ")+",\n";return b+=" ]\n",b+"}"},updateMatrix:function(){this.matrix.setPosition(this.position);
!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion);1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();!0!==this.matrixWorldNeedsUpdate&&!0!==a||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix));
this.matrixWorldNeedsUpdate=!1;for(a=0;a<this.children.length;a++)this.children[a].updateMatrixWorld(!0)},clone:function(a){void 0===a&&(a=new b.Object3D);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.rotation.copy(this.rotation);a.eulerOrder=this.eulerOrder;a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);a.matrixWorld.copy(this.matrixWorld);a.quaternion.copy(this.quaternion);a.matrixAutoUpdate=this.matrixAutoUpdate;a.matrixWorldNeedsUpdate=
this.matrixWorldNeedsUpdate;a.useQuaternion=this.useQuaternion;a.visible=this.visible;for(var c=0;c<this.children.length;c++)a.add(this.children[c].clone());return a},setVisible:function(a){this.visible=a;for(var b=0;b<this.children.length;b++)this.children[b].setVisible(a)}};b.Object3DIDCount=0;b.Geometry=function(){var a=function(a){this.id=a||0;this.lineArray=this.radiusArray=this.faceArray=this.normalArray=this.colorArray=this.vertexArray=null;this.lineidx=this.faceidx=this.vertices=0};a.prototype.setColors=
function(a){var c=this.vertexArray,e=this.colorArray;if(c.length==e.length)for(var k=0;k<c.length;k+=3){var r=a(c[k],c[k+1],c[k+2]);r instanceof b.Color||(r=b.CC.color(r));e[k]=r.r;e[k+1]=r.g;e[k+2]=r.b}else console.log("Cannot re-color geometry group due to mismatched lengths.")};a.prototype.getNumVertices=function(){return this.vertices};a.prototype.getVertices=function(){return this.vertexArray};a.prototype.getCentroid=function(){for(var a,c,e,k=new b.Vector3,r=0;r<this.vertices;++r)a=3*r,c=this.vertexArray[a],
e=this.vertexArray[a+1],a=this.vertexArray[a+2],k.x+=c,k.y+=e,k.z+=a;return k.divideScalar(this.vertices),k};a.prototype.setNormals=function(){var a=this.faceArray,c=this.vertexArray,e=this.normalArray;if(this.vertices&&this.faceidx)for(var k,r,x,z,v,n,d=0;d<a.length/3;++d)k=3*a[3*d],r=3*a[3*d+1],x=3*a[3*d+2],z=new b.Vector3(c[k],c[k+1],c[k+2]),v=new b.Vector3(c[r],c[r+1],c[r+2]),n=new b.Vector3(c[x],c[x+1],c[x+2]),z.subVectors(z,v),n.subVectors(n,v),n.cross(z),(z=n).normalize(),e[k]+=z.x,e[r]+=z.x,
e[x]+=z.x,e[k+1]+=z.y,e[r+1]+=z.y,e[x+1]+=z.y,e[k+2]+=z.z,e[r+2]+=z.z,e[x+2]+=z.z};a.prototype.setLineIndices=function(){if(this.faceidx&&(!this.lineArray||this.lineArray.length!=2*this.faceidx||this.lineidx!=2*this.faceidx)){var a=this.faceArray,b=this.lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var c=0;c<this.faceidx/3;++c){var e=3*c,r=2*e,x=a[e],z=a[e+1];e=a[e+2];b[r]=x;b[r+1]=z;b[r+2]=x;b[r+3]=e;b[r+4]=z;b[r+5]=e}}};a.prototype.vrml=function(a,c){var e=a+"Shape {\n"+
a+" appearance Appearance {\n"+a+"  material Material {\n"+a+"   diffuseColor "+c.color.r+" "+c.color.g+" "+c.color.b+"\n";c.transparent&&(e+=a+"   transparency "+(1-c.opacity)+"\n");e=e+(a+"  }\n")+(a+" }\n");var k=a;if(a+=" ",c instanceof b.LineBasicMaterial){e+=a+"geometry IndexedLineSet {\n"+a+" colorPerVertex TRUE\n"+a+" coord Coordinate {\n"+a+"  point [\n";for(c=0;c<this.vertices;++c){var r=3*c;e+=a+"   "+this.vertexArray[r]+" "+this.vertexArray[r+1]+" "+this.vertexArray[r+2]+",\n"}if(e+=a+
"  ]\n",e+=a+" }\n",this.colorArray){e+=a+" color Color {\n"+a+"  color [\n";for(c=0;c<this.vertices;++c)r=3*c,e+=a+"   "+this.colorArray[r]+" "+this.colorArray[r+1]+" "+this.colorArray[r+2]+",\n";e=e+(a+"  ]\n")+(a+" }\n")}e+=a+" coordIndex [\n";for(c=0;c<this.vertices;c+=2)e+=a+"  "+c+", "+(c+1)+", -1,\n"}else{e=e+(a+"geometry IndexedFaceSet {\n"+a+" colorPerVertex TRUE\n"+a+" normalPerVertex TRUE\n"+a+" solid FALSE\n")+(a+" coord Coordinate {\n"+a+"  point [\n");for(c=0;c<this.vertices;++c)r=3*
c,e+=a+"   "+this.vertexArray[r]+" "+this.vertexArray[r+1]+" "+this.vertexArray[r+2]+",\n";e=e+(a+"  ]\n")+(a+" }\n")+(a+" normal Normal {\n"+a+"  vector [\n");for(c=0;c<this.vertices;++c)r=3*c,e+=a+"   "+this.normalArray[r]+" "+this.normalArray[r+1]+" "+this.normalArray[r+2]+",\n";if(e+=a+"  ]\n",e+=a+" }\n",this.colorArray){e+=a+" color Color {\n"+a+"  color [\n";for(c=0;c<this.vertices;++c)r=3*c,e+=a+"   "+this.colorArray[r]+" "+this.colorArray[r+1]+" "+this.colorArray[r+2]+",\n";e=e+(a+"  ]\n")+
(a+" }\n")}e+=a+" coordIndex [\n";for(c=0;c<this.faceidx;c+=3)e+=a+"  "+this.faceArray[c]+", "+this.faceArray[c+1]+", "+this.faceArray[c+2]+", -1,\n"}return e+(a+" ]\n")+(a+"}\n")+(k+"}")};a.prototype.truncateArrayBuffers=function(a,b){a=!0===a;var c=this.colorArray,e=this.normalArray,r=this.faceArray,q=this.lineArray,t=this.radiusArray;this.vertexArray=this.vertexArray.subarray(0,3*this.vertices);this.colorArray=c.subarray(0,3*this.vertices);a?(this.normalArray=e.subarray(0,3*this.vertices),this.faceArray=
r.subarray(0,this.faceidx),0<this.lineidx?this.lineArray=q.subarray(0,this.lineidx):this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0));t&&(this.radiusArray=t.subarray(0,this.vertices));b&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=
new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray)));this.__inittedArrays=!0};var c=function(b){var c=new a(b.geometryGroups.length);return b.geometryGroups.push(c),b.groups=b.geometryGroups.length,c.vertexArray=new Float32Array(196605),c.colorArray=new Float32Array(196605),b.mesh&&(c.normalArray=new Float32Array(196605),c.faceArray=new Uint16Array(393210),c.lineArray=new Uint16Array(393210)),
b.radii&&(c.radiusArray=new Float32Array(65535)),c.useOffset=b.offset,c},e=function(a,c,e){b.EventDispatcher.call(this);this.id=b.GeometryIDCount++;this.name="";this.hasTangents=!1;this.dynamic=!0;this.mesh=!0===a;this.radii=c||!1;this.offset=e||!1;this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1;this.geometryGroups=[];this.groups=0};return e.prototype={constructor:e,updateGeoGroup:function(a){var b=0<this.groups?this.geometryGroups[this.groups-
1]:null;return(!b||b.vertices+(a||0)>b.vertexArray.length/3)&&(b=c(this)),b},vrml:function(a,b){for(var c="",e=this.geometryGroups.length,r=0;r<e;r++)c+=this.geometryGroups[r].vrml(a,b)+",\n";return c},addGeoGroup:function(){return c(this)},setUpNormals:function(a){a=a||!1;for(var b=0;b<this.groups;b++)this.geometryGroups[b].setNormals(a)},setColors:function(a){for(var b=this.geometryGroups.length,c=0;c<b;c++)this.geometryGroups[c].setColors(a)},setUpWireframe:function(){for(var a=0;a<this.groups;a++)this.geometryGroups[a].setLineIndices()},
initTypedArrays:function(){for(var a=0;a<this.groups;a++){var b=this.geometryGroups[a];!0!==b.__inittedArrays&&b.truncateArrayBuffers(this.mesh,!1)}},dispose:function(){this.dispatchEvent({type:"dispose"})}},e}();Object.defineProperty(b.Geometry.prototype,"vertices",{get:function(){for(var a=0,b=0;b<this.groups;b++)a+=this.geometryGroups[b].vertices;return a}});b.GeometryIDCount=0;b.Raycaster=function(){var a,c=function(a,c,g,e){this.ray=new b.Ray(a,c);0<this.ray.direction.lengthSq()&&this.ray.direction.normalize();
this.near=e||0;this.far=g||1/0},e=new b.Sphere,q=new b.Cylinder,t=new b.Triangle,m=new b.Vector3,k=new b.Vector3,r=new b.Vector3,x=new b.Vector3,z=new b.Vector3,v=function(a,b){return a.distance-b.distance};return c.prototype.precision=1E-4,c.prototype.linePrecision=.2,c.prototype.set=function(a,b){this.ray.set(a,b)},c.prototype.setFromCamera=(a=new b.Matrix4,function(b,c){c.ortho?(this.ray.origin.set(b.x,b.y,(c.near+c.far)/(c.near-c.far)).unproject(c),this.ray.direction.set(0,0,-1).transformDirection(c.matrixWorld)):
(this.ray.origin.setFromMatrixPosition(c.matrixWorld),this.ray.direction.set(b.x,b.y,b.z),c.projectionMatrixInverse.getInverse(c.projectionMatrix),a.multiplyMatrices(c.matrixWorld,c.projectionMatrixInverse),this.ray.direction.applyProjection(a),this.ray.direction.sub(this.ray.origin).normalize())}),c.prototype.intersectObjects=function(a,c){for(var d=[],n=0,l=c.length;n<l;n++)a:{var O=void 0,G=void 0,y=void 0,R=void 0,N=void 0,p=void 0,V=void 0,M=void 0,Q,ca=void 0;var K=void 0;var P=a,J=c[n],qa=
d;if(z.getPositionFromMatrix(P.matrixWorld),void 0!==J.intersectionShape){var B=J.intersectionShape;var U=this.linePrecision;var X=(U*=P.matrixWorld.getMaxScaleOnAxis())*U;if(!(void 0!==J.boundingSphere&&J.boundingSphere instanceof b.Sphere)||(e.copy(J.boundingSphere),e.applyMatrix4(P.matrixWorld),this.ray.isIntersectionSphere(e))){var W=0;for(U=B.triangle.length;W<U;W++)if(B.triangle[W]instanceof b.Triangle&&!(t.copy(B.triangle[W]),t.applyMatrix4(P.matrixWorld),K=t.getNormal(),0<=(ca=this.ray.direction.dot(K)))&&
!(m.subVectors(t.a,this.ray.origin),0>(V=K.dot(m)/ca))){k.copy(this.ray.direction).multiplyScalar(V).add(this.ray.origin);k.sub(t.a);r.copy(t.b).sub(t.a);x.copy(t.c).sub(t.a);var L=r.dot(x),A=r.lengthSq(),F=x.lengthSq();0>(y=(A*k.dot(x)-L*k.dot(r))/(A*F-L*L))||1<y||0>(R=(k.dot(r)-y*L)/A)||1<R||1<R+y||qa.push({clickable:J,distance:V})}W=0;for(U=B.cylinder.length;W<U;W++)B.cylinder[W]instanceof b.Cylinder&&(q.copy(B.cylinder[W]),q.applyMatrix4(P.matrixWorld),m.subVectors(q.c1,this.ray.origin),Q=m.dot(q.direction),
M=m.dot(this.ray.direction),0!==(p=1-(ca=Math.min(Math.max(this.ray.direction.dot(q.direction),-1),1))*ca))&&(G=(ca*M-Q)/p,O=(M-ca*Q)/p,k.copy(q.direction).multiplyScalar(G).add(q.c1),r.copy(this.ray.direction).multiplyScalar(O).add(this.ray.origin),K=x.subVectors(k,r).lengthSq(),L=q.radius*q.radius,K<=L&&!(0>(R=ca*(y=V=0>=(N=(ca*Q-M)*(ca*Q-M)-p*(m.lengthSq()-Q*Q-L))?Math.sqrt(K):(M-ca*Q-Math.sqrt(N))/p)-Q)||R*R>q.lengthSq()||0>y)&&qa.push({clickable:J,distance:V}));W=0;for(U=B.line.length;W<U;W+=
2)k.copy(B.line[W]),k.applyMatrix4(P.matrixWorld),r.copy(B.line[W+1]),r.applyMatrix4(P.matrixWorld),x.subVectors(r,k),N=x.lengthSq(),x.normalize(),m.subVectors(k,this.ray.origin),y=m.dot(x),M=m.dot(this.ray.direction),0!==(p=1-(ca=Math.min(Math.max(this.ray.direction.dot(x),-1),1))*ca)&&(G=(ca*M-y)/p,O=(M-ca*y)/p,k.add(x.multiplyScalar(G)),r.copy(this.ray.direction).multiplyScalar(O).add(this.ray.origin),x.subVectors(r,k).lengthSq()<X&&G*G<N&&qa.push({clickable:J,distance:O}));W=0;for(U=B.sphere.length;W<
U;W++)if(B.sphere[W]instanceof b.Sphere&&(e.copy(B.sphere[W]),e.applyMatrix4(P.matrixWorld),this.ray.isIntersectionSphere(e))){k.subVectors(e.center,this.ray.origin);O=k.dot(this.ray.direction);N=O*O-(k.lengthSq()-e.radius*e.radius);0>O||(V=0>=N?O:O-Math.sqrt(N),qa.push({clickable:J,distance:V}));break a}}}}return d.sort(v),d},c}();b.Projector=function(){var a=new b.Matrix4;this.projectVector=function(b,e){return e.matrixWorldInverse.getInverse(e.matrixWorld),a.multiplyMatrices(e.projectionMatrix,
e.matrixWorldInverse),b.applyProjection(a)};this.unprojectVector=function(b,e){return e.projectionMatrixInverse.getInverse(e.projectionMatrix),a.multiplyMatrices(e.matrixWorld,e.projectionMatrixInverse),b.applyProjection(a)}};b.Camera=function(a,c,e,q,t){b.Object3D.call(this);this.fov=void 0!==a?a:50;this.aspect=void 0!==c?c:1;this.near=void 0!==e?e:.1;this.far=void 0!==q?q:2E3;this.projectionMatrix=new b.Matrix4;this.projectionMatrixInverse=new b.Matrix4;this.matrixWorldInverse=new b.Matrix4;this.right=
this.position.z*Math.tan(Math.PI/180*a);this.left=-this.right;this.top=this.right/this.aspect;this.bottom=-this.top;this.ortho=!!t;this.updateProjectionMatrix()};b.Camera.prototype=Object.create(b.Object3D.prototype);b.Camera.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))};b.Camera.prototype.updateProjectionMatrix=
function(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)};b.SpritePlugin=function(){function a(a,b){return a.z!==b.z?b.z-a.z:b.id-a.id}var c,e,q,t,m,k,r,x,z,v;this.init=function(a){c=a.context;e=a;q=a.getPrecision();t=new Float32Array(16);m=new Uint16Array(6);a=0;t[a++]=-1;t[a++]=-1;t[a++]=0;
t[a++]=0;t[a++]=1;t[a++]=-1;t[a++]=1;t[a++]=0;t[a++]=1;t[a++]=1;t[a++]=1;t[a++]=1;t[a++]=-1;t[a++]=1;t[a++]=0;t[a++]=1;a=0;m[a++]=0;m[a++]=1;m[a++]=2;m[a++]=0;m[a++]=2;m[a++]=3;k=c.createBuffer();r=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,k);c.bufferData(c.ARRAY_BUFFER,t,c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r);c.bufferData(c.ELEMENT_ARRAY_BUFFER,m,c.STATIC_DRAW);a=b.ShaderLib.sprite;var d=q,g=c.createProgram(),n=c.createShader(c.FRAGMENT_SHADER),l=c.createShader(c.VERTEX_SHADER);
d="precision "+d+" float;\n";(c.shaderSource(n,d+a.fragmentShader),c.shaderSource(l,d+a.vertexShader),c.compileShader(n),c.compileShader(l),c.getShaderParameter(n,c.COMPILE_STATUS)&&c.getShaderParameter(l,c.COMPILE_STATUS))?(c.attachShader(g,n),c.attachShader(g,l),c.linkProgram(g),c.getProgramParameter(g,c.LINK_STATUS)||console.error("Could not initialize shader"),a=g):a=(console.error(c.getShaderInfoLog(n)),console.error("could not initialize shader"),null);x=a;z={};v={};z.position=c.getAttribLocation(x,
"position");z.uv=c.getAttribLocation(x,"uv");v.uvOffset=c.getUniformLocation(x,"uvOffset");v.uvScale=c.getUniformLocation(x,"uvScale");v.rotation=c.getUniformLocation(x,"rotation");v.scale=c.getUniformLocation(x,"scale");v.alignment=c.getUniformLocation(x,"alignment");v.color=c.getUniformLocation(x,"color");v.map=c.getUniformLocation(x,"map");v.opacity=c.getUniformLocation(x,"opacity");v.useScreenCoordinates=c.getUniformLocation(x,"useScreenCoordinates");v.screenPosition=c.getUniformLocation(x,"screenPosition");
v.modelViewMatrix=c.getUniformLocation(x,"modelViewMatrix");v.projectionMatrix=c.getUniformLocation(x,"projectionMatrix");v.fogType=c.getUniformLocation(x,"fogType");v.fogDensity=c.getUniformLocation(x,"fogDensity");v.fogNear=c.getUniformLocation(x,"fogNear");v.fogFar=c.getUniformLocation(x,"fogFar");v.fogColor=c.getUniformLocation(x,"fogColor");v.alphaTest=c.getUniformLocation(x,"alphaTest")};this.render=function(b,d,g,m){var l=b.__webglSprites,n=l.length;if(n){var E=z,q=v,R=.5*g,t=.5*m;c.useProgram(x);
c.enableVertexAttribArray(E.position);c.enableVertexAttribArray(E.uv);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.bindBuffer(c.ARRAY_BUFFER,k);c.vertexAttribPointer(E.position,2,c.FLOAT,!1,16,0);c.vertexAttribPointer(E.uv,2,c.FLOAT,!1,16,8);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r);c.uniformMatrix4fv(q.projectionMatrix,!1,d.projectionMatrix.elements);c.activeTexture(c.TEXTURE0);c.uniform1i(q.map,0);var p=E=0,V=b.fog;V?(c.uniform3f(q.fogColor,V.color.r,V.color.g,V.color.b),c.uniform1f(q.fogNear,V.near),
c.uniform1f(q.fogFar,V.far),c.uniform1i(q.fogType,1),E=1,p=1):(c.uniform1i(q.fogType,0),E=0,p=0);var M,Q,ca=[];for(V=0;V<n;V++){var K=(M=l[V]).material;M.visible&&0!==K.opacity&&(K.useScreenCoordinates?M.z=-M.position.z:(M._modelViewMatrix.multiplyMatrices(d.matrixWorldInverse,M.matrixWorld),M.z=-M._modelViewMatrix.elements[14]))}l.sort(a);for(V=0;V<n;V++)if(K=(M=l[V]).material,M.visible&&0!==K.opacity&&K.map&&K.map.image&&K.map.image.width)c.uniform1f(q.alphaTest,K.alphaTest),d=K.map.image.height,
ca[0]=K.map.image.width*e.devicePixelRatio/g,ca[1]=d*e.devicePixelRatio/m,!0===K.useScreenCoordinates?(c.uniform1i(q.useScreenCoordinates,1),c.uniform3f(q.screenPosition,(M.position.x*e.devicePixelRatio-R)/R,(t-M.position.y*e.devicePixelRatio)/t,Math.max(0,Math.min(1,M.position.z)))):(c.uniform1i(q.useScreenCoordinates,0),c.uniformMatrix4fv(q.modelViewMatrix,!1,M._modelViewMatrix.elements)),E!==(Q=b.fog&&K.fog?p:0)&&(c.uniform1i(q.fogType,Q),E=Q),d=1/(K.scaleByViewport?m:1),ca[0]=ca[0]*d*M.scale.x,
ca[1]=ca[1]*d*M.scale.y,c.uniform2f(q.uvScale,K.uvScale.x,K.uvScale.y),c.uniform2f(q.uvOffset,K.uvOffset.x,K.uvOffset.y),c.uniform2f(q.alignment,K.alignment.x,K.alignment.y),c.uniform1f(q.opacity,K.opacity),c.uniform3f(q.color,K.color.r,K.color.g,K.color.b),c.uniform1f(q.rotation,M.rotation),c.uniform2fv(q.scale,ca),e.setDepthTest(K.depthTest),e.setDepthWrite(K.depthWrite),e.setTexture(K.map,0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);c.enable(c.CULL_FACE)}}};b.Light=function(a,c){b.Object3D.call(this);
this.color=new b.Color(a);this.position=new b.Vector3(0,1,0);this.target=new b.Object3D;this.intensity=void 0!==c?c:1;this.onlyShadow=this.castShadow=!1};b.Light.prototype=Object.create(b.Object3D.prototype);b.Material=function(){b.EventDispatcher.call(this);this.id=b.MaterialIdCount++;this.name="";this.side=b.FrontSide;this.opacity=1;this.transparent=!1;this.stencilTest=this.depthWrite=this.depthTest=!0;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=
this.visible=!0};b.Material.prototype.setValues=function(a){if(void 0!==a)for(var c in a){var e=a[c];if(void 0!==e){if(c in this){var q=this[c];q instanceof b.Color&&e instanceof b.Color?q.copy(e):q instanceof b.Color?q.set(e):q instanceof b.Vector3&&e instanceof b.Vector3?q.copy(e):this[c]=e}}else console.warn("$3Dmol.Material: '"+c+"' parameter is undefined.")}};b.Material.prototype.clone=function(a){return void 0===a&&(a=new b.Material),a.name=this.name,a.side=this.side,a.opacity=this.opacity,
a.transparent=this.transparent,a.depthTest=this.depthTest,a.depthWrite=this.depthWrite,a.stencilTest=this.stencilTest,a.polygonOffset=this.polygonOffset,a.polygonOffsetFactor=this.polygonOffsetFactor,a.polygonOffsetUnits=this.polygonOffsetUnits,a.alphaTest=this.alphaTest,a.overdraw=this.overdraw,a.visible=this.visible,a};b.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})};b.MaterialIdCount=0;b.LineBasicMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);
this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.shaderID="basic";this.setValues(a)};b.LineBasicMaterial.prototype=Object.create(b.Material.prototype);b.LineBasicMaterial.prototype.clone=function(){var a=new b.LineBasicMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a};b.MeshLambertMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.ambient=new b.Color(1048575);this.emissive=new b.Color(0);this.wrapAround=
!1;this.wrapRGB=new b.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=b.SmoothShading;this.shaderID="lambert";this.vertexColors=b.NoColors;this.skinning=!1;this.setValues(a)};b.MeshLambertMaterial.prototype=Object.create(b.Material.prototype);b.MeshLambertMaterial.prototype.clone=function(a){return void 0===a&&
(a=new b.MeshLambertMaterial),b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a.ambient.copy(this.ambient),a.emissive.copy(this.emissive),a.wrapAround=this.wrapAround,a.wrapRGB.copy(this.wrapRGB),a.map=this.map,a.lightMap=this.lightMap,a.specularMap=this.specularMap,a.envMap=this.envMap,a.combine=this.combine,a.reflectivity=this.reflectivity,a.refractionRatio=this.refractionRatio,a.fog=this.fog,a.shading=this.shading,a.shaderID=this.shaderID,a.vertexColors=this.vertexColors,a.skinning=
this.skinning,a.morphTargets=this.morphTargets,a.morphNormals=this.morphNormals,a};b.MeshDoubleLambertMaterial=function(a){b.MeshLambertMaterial.call(this,a);this.shaderID="lambertdouble";this.side=b.DoubleSide};b.MeshDoubleLambertMaterial.prototype=Object.create(b.MeshLambertMaterial.prototype);b.MeshDoubleLambertMaterial.prototype.clone=function(){var a=new b.MeshDoubleLambertMaterial;return b.MeshLambertMaterial.prototype.clone.call(this,a),a};b.MeshOutlineMaterial=function(a){b.Material.call(this);
a=a||{};this.fog=!0;this.shaderID="outline";this.wireframe=!1;this.outlineColor=a.color||new b.Color(0,0,0);this.outlineWidth=a.width||.1;this.outlinePushback=a.pushback||1};b.MeshOutlineMaterial.prototype=Object.create(b.Material.prototype);b.MeshOutlineMaterial.prototype.clone=function(a){return void 0===a&&(a=new b.MeshOutlineMaterial),b.Material.prototype.clone.call(this,a),a.fog=this.fog,a.shaderID=this.shaderID,a.wireframe=this.wireframe,a};b.ImposterMaterial=function(a){b.Material.call(this);
this.color=new b.Color(16777215);this.ambient=new b.Color(1048575);this.emissive=new b.Color(0);this.imposter=!0;this.wrapAround=!1;this.wrapRGB=new b.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=b.SmoothShading;this.shaderID=null;this.vertexColors=b.NoColors;this.skinning=!1;this.setValues(a)};b.ImposterMaterial.prototype=
Object.create(b.Material.prototype);b.ImposterMaterial.prototype.clone=function(){var a=new b.ImposterMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a.ambient.copy(this.ambient),a.emissive.copy(this.emissive),a.wrapAround=this.wrapAround,a.wrapRGB.copy(this.wrapRGB),a.map=this.map,a.lightMap=this.lightMap,a.specularMap=this.specularMap,a.envMap=this.envMap,a.combine=this.combine,a.reflectivity=this.reflectivity,a.refractionRatio=this.refractionRatio,a.fog=this.fog,
a.shading=this.shading,a.shaderID=this.shaderID,a.vertexColors=this.vertexColors,a.skinning=this.skinning,a.morphTargets=this.morphTargets,a.morphNormals=this.morphNormals,a};b.SphereImposterMaterial=function(a){b.ImposterMaterial.call(this);this.shaderID="sphereimposter";this.setValues(a)};b.SphereImposterMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.SphereImposterMaterial.prototype.clone=function(){var a=new b.SphereImposterMaterial;return b.ImposterMaterial.prototype.clone.call(this,
a),a};b.SphereImposterOutlineMaterial=function(a){b.ImposterMaterial.call(this);a=a||{};this.shaderID="sphereimposteroutline";this.outlineColor=a.color||new b.Color(0,0,0);this.outlineWidth=a.width||.1;this.outlinePushback=a.pushback||1;this.setValues(a)};b.SphereImposterOutlineMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.SphereImposterOutlineMaterial.prototype.clone=function(){var a=new b.SphereImposterOutlineMaterial;return b.ImposterMaterial.prototype.clone.call(this,a),a.outlineColor=
this.outlineColor,a.outlineWidth=this.outlineWidth,a.outlinePushback=this.outlinePushback,a};b.StickImposterMaterial=function(a){b.ImposterMaterial.call(this);this.shaderID="stickimposter";this.setValues(a)};b.StickImposterMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.StickImposterMaterial.prototype.clone=function(){var a=new b.StickImposterMaterial;return b.ImposterMaterial.prototype.clone.call(this,a),a};b.StickImposterOutlineMaterial=function(a){b.ImposterMaterial.call(this);
a=a||{};this.shaderID="stickimposteroutline";this.outlineColor=a.color||new b.Color(0,0,0);this.outlineWidth=a.width||.1;this.outlinePushback=a.pushback||1;this.setValues(a)};b.StickImposterOutlineMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.StickImposterOutlineMaterial.prototype.clone=function(){var a=new b.StickImposterOutlineMaterial;return b.ImposterMaterial.prototype.clone.call(this,a),a.outlineColor=this.outlineColor,a.outlineWidth=this.outlineWidth,a.outlinePushback=this.outlinePushback,
a};b.InstancedMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.ambient=new b.Color(1048575);this.emissive=new b.Color(0);this.wrapAround=!1;this.wrapRGB=new b.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=b.SmoothShading;this.shaderID="instanced";this.vertexColors=b.NoColors;
this.skinning=!1;this.sphere=null;this.setValues(a)};b.InstancedMaterial.prototype=Object.create(b.Material.prototype);b.InstancedMaterial.prototype.clone=function(){var a=new b.InstancedMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a.ambient.copy(this.ambient),a.emissive.copy(this.emissive),a.wrapAround=this.wrapAround,a.wrapRGB.copy(this.wrapRGB),a.map=this.map,a.lightMap=this.lightMap,a.specularMap=this.specularMap,a.envMap=this.envMap,a.combine=this.combine,
a.reflectivity=this.reflectivity,a.refractionRatio=this.refractionRatio,a.fog=this.fog,a.shading=this.shading,a.shaderID=this.shaderID,a.vertexColors=this.vertexColors,a.skinning=this.skinning,a.morphTargets=this.morphTargets,a.morphNormals=this.morphNormals,a.sphere=this.sphere,a};b.SpriteMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.map=new b.Texture;this.useScreenCoordinates=!0;this.depthTest=!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;
this.scaleByViewPort=!this.sizeAttenuation;this.alignment=b.SpriteAlignment.center.clone();this.fog=!1;this.uvOffset=new b.Vector2(0,0);this.uvScale=new b.Vector2(1,1);this.setValues(a);void 0===(a=a||{}).depthTest&&(this.depthTest=!this.useScreenCoordinates);void 0===a.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates);void 0===a.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)};b.SpriteMaterial.prototype=Object.create(b.Material.prototype);b.SpriteMaterial.prototype.clone=
function(){var a=new b.SpriteMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a.map=this.map,a.useScreenCoordinates=this.useScreenCoordinates,a.sizeAttenuation=this.sizeAttenuation,a.scaleByViewport=this.scaleByViewPort,a.alignment.copy(this.alignment),a.uvOffset.copy(this.uvOffset),a};b.SpriteAlignment={};b.SpriteAlignment.topLeft=new b.Vector2(1,-1);b.SpriteAlignment.topCenter=new b.Vector2(0,-1);b.SpriteAlignment.topRight=new b.Vector2(-1,-1);b.SpriteAlignment.centerLeft=
new b.Vector2(1,0);b.SpriteAlignment.center=new b.Vector2(0,0);b.SpriteAlignment.centerRight=new b.Vector2(-1,0);b.SpriteAlignment.bottomLeft=new b.Vector2(1,1);b.SpriteAlignment.bottomCenter=new b.Vector2(0,1);b.SpriteAlignment.bottomRight=new b.Vector2(-1,1);b.Texture=function(a){b.EventDispatcher.call(this);this.id=b.TextureIdCount++;this.name="";this.image=a;this.mipmaps=[];this.mapping=new b.UVMapping;this.wrapT=this.wrapS=b.ClampToEdgeWrapping;this.magFilter=b.LinearFilter;this.minFilter=b.LinearMipMapLinearFilter;
this.anisotropy=1;this.format=b.RGBAFormat;this.type=b.UnsignedByteType;this.offset=new b.Vector2(0,0);this.repeat=new b.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.needsUpdate=!1;this.onUpdate=null};b.Texture.prototype={constructor:b.Texture,clone:function(a){return void 0===a&&(a=new b.Texture),a.image=this.image,a.mipmaps=this.mipmaps.slice(0),a.mapping=this.mapping,a.wrapS=this.wrapS,a.wrapT=this.wrapT,a.magFilter=this.magFilter,a.minFilter=
this.minFilter,a.anisotropy=this.anisotropy,a.format=this.format,a.type=this.type,a.offset.copy(this.offset),a.repeat.copy(this.repeat),a.generateMipmaps=this.generateMipmaps,a.premultiplyAlpha=this.premultiplyAlpha,a.flipY=this.flipY,a.unpackAlignment=this.unpackAlignment,a},dispose:function(){this.dispatchEvent({type:"dispose"})}};b.TextureIdCount=0;b.FrontSide=0;b.BackSide=1;b.DoubleSide=2;b.NoShading=0;b.FlatShading=1;b.SmoothShading=2;b.NoColors=0;b.FaceColors=1;b.VertexColors=2;b.MultiplyOperation=
0;b.MixOperation=1;b.AddOperation=2;b.UVMapping=function(){};b.ClampToEdgeWrapping=1001;b.LinearFilter=1006;b.LinearMipMapLinearFilter=1008;b.UnsignedByteType=1009;b.RGBAFormat=1021;b.Line=function(a,c,e){b.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new b.LineBasicMaterial({color:16777215*Math.random()});this.type=void 0!==e?e:b.LineStrip};b.LineStrip=0;b.LinePieces=1;b.Line.prototype=Object.create(b.Object3D.prototype);b.Line.prototype.clone=function(a){return void 0===a&&(a=
new b.Line(this.geometry,this.material,this.type)),b.Object3D.prototype.clone.call(this,a),a};b.Mesh=function(a,c){b.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new b.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})};b.Mesh.prototype=Object.create(b.Object3D.prototype);b.Mesh.prototype.clone=function(a){return void 0===a&&(a=new b.Mesh(this.geometry,this.material)),b.Object3D.prototype.clone.call(this,a),a};b.Sprite=function(a){b.Object3D.call(this);this.material=
void 0!==a?a:new b.SpriteMaterial;this.rotation3d=this.rotation;this.rotation=0};b.Sprite.prototype=Object.create(b.Object3D.prototype);b.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0};b.Sprite.prototype.clone=function(a){return void 0===a&&(a=new b.Sprite(this.material)),b.Object3D.prototype.clone.call(this,
a),a};b.Renderer=function(a){function c(a){sa[a]||(p.enableVertexAttribArray(a),sa[a]=!0)}function e(a,b){var c;return"fragment"===a?c=p.createShader(p.FRAGMENT_SHADER):"vertex"===a&&(c=p.createShader(p.VERTEX_SHADER)),p.shaderSource(c,b),p.compileShader(c),p.getShaderParameter(c,p.COMPILE_STATUS)?c:(console.error(p.getShaderInfoLog(c)),console.error("could not initialize shader"),null)}function q(a,c,d,g,e){g.needsUpdate&&(g.program&&da(g),V.initMaterial(g,c,d,e),g.needsUpdate=!1);var l=!1,k=g.program,
n=k.uniforms,r=g.uniforms;return k!=ca&&(p.useProgram(k),ca=k,l=!0),g.id!=K&&(K=g.id,l=!0),a!=J&&(J=a,l=!0),p.uniformMatrix4fv(n.projectionMatrix,!1,a.projectionMatrix.elements),p.uniformMatrix4fv(n.modelViewMatrix,!1,e._modelViewMatrix.elements),p.uniformMatrix3fv(n.normalMatrix,!1,e._normalMatrix.elements),l&&(r.fogColor.value=d.color,r.fogNear.value=d.near,r.fogFar.value=d.far,g.shaderID.startsWith("lambert")||"instanced"===g.shaderID||g.shaderID.endsWith("imposter")?(p.uniformMatrix4fv(n.viewMatrix,
!1,a.matrixWorldInverse.elements),I&&(!function(a,c){var d,g,e,l,k=ka,p=k.directional.colors,n=k.directional.positions,r=0,u=0;a=0;for(d=c.length;a<d;a++)(g=c[a],e=g.color,l=g.intensity,g.distance,g instanceof b.Light)&&(0,Y.getPositionFromMatrix(g.matrixWorld),Z.getPositionFromMatrix(g.target.matrixWorld),Y.sub(Z),Y.normalize(),0!==Y.x||0!==Y.y||0!==Y.z)&&(n[u]=Y.x,n[u+1]=Y.y,n[u+2]=Y.z,p[u]=e.r*l,p[u+1]=e.g*l,p[u+2]=e.b*l,u+=3,r++);k.ambient[0]=0;k.ambient[1]=0;k.ambient[2]=0;k.directional.length=
r}(0,c),I=!1),r.directionalLightColor.value=ka.directional.colors,r.directionalLightDirection.value=ka.directional.positions):g.shaderID.endsWith("outline")?(r.outlineColor.value=g.outlineColor,r.outlineWidth.value=g.outlineWidth,r.outlinePushback.value=g.outlinePushback):"sphereimposter"===g.shaderID&&(p.uniformMatrix4fv(n.viewMatrix,!1,a.matrixWorldInverse.elements),p.uniformMatrix3fv(n.normalMatrix,!1,e._normalMatrix.elements),r.directionalLightColor.value=ka.directional.colors,r.directionalLightDirection.value=
ka.directional.positions),r.opacity.value=g.opacity,function(a,b){var c,d,g,e;for(c in b)a[c]&&(d=b[c].type,g=b[c].value,e=a[c],"f"===d?p.uniform1f(e,g):"fv"===d?p.uniform3fv(e,g):"c"===d?p.uniform3f(e,g.r,g.g,g.b):"f4"===d&&p.uniform4f(e,g[0],g[1],g[2],g[3]))}(n,r)),k}function t(a,b,c,d,g,e,l){var k,n,r,A,m,E,q;b?(m=a.length-1,E=-1,q=-1):(m=0,E=a.length,q=1);for(b=m;b!==E;b+=q)(k=a[b]).render&&(n=k.object,r=k.buffer,A=k[c])&&(l&&V.setBlending(!0),V.setDepthTest(A.depthTest),V.setDepthWrite(A.depthWrite),
m=A.polygonOffset,A.polygonOffsetFactor,A.polygonOffsetUnits,null!==m&&(m?p.enable(p.POLYGON_OFFSET_FILL):p.disable(p.POLYGON_OFFSET_FILL)),m=n._modelViewMatrix.isReflected(),V.setMaterialFaces(A,m),V.renderBuffer(d,g,e,A,r,n),(N||A.outline)&&("sphereimposter"==A.shaderID?V.renderBuffer(d,g,e,y,r,n):"stickimposter"==A.shaderID?V.renderBuffer(d,g,e,R,r,n):A.wireframe||"basic"===A.shaderID||0===A.opacity||V.renderBuffer(d,g,e,G,r,n)))}function m(a,c){a instanceof b.Mesh||a instanceof b.Line?function(a,
b){for(var c=a.length-1;0<=c;--c)a[c].object===b&&a.splice(c,1)}(c.__webglObjects,a):a instanceof b.Sprite&&function(a,b){for(var c=a.length-1;0<=c;--c)a[c]===b&&a.splice(c,1)}(c.__webglSprites,a);a.__webglActive=!1}function k(a){return 0==(a&a-1)}function r(a){return a===b.UnsignedByteType?p.UNSIGNED_BYTE:a===b.RGBAFormat?p.RGBA:0}a=a||{};this.row=a.row;this.col=a.col;this.rows=a.rows;this.cols=a.cols;var x=void 0!==a.canvas?a.canvas:document.createElement("canvas"),z=void 0!==a.precision?a.precision:
"highp",v=void 0===a.alpha||a.alpha,n=void 0===a.premultipliedAlpha||a.premultipliedAlpha,d=void 0!==a.antialias&&a.antialias,g=void 0===a.stencil||a.stencil,E=void 0!==a.preserveDrawingBuffer&&a.preserveDrawingBuffer,l=void 0!==a.clearColor?new b.Color(a.clearColor):new b.Color(0),O=void 0!==a.clearAlpha?a.clearAlpha:0,G=new b.MeshOutlineMaterial(a.outline),y=new b.SphereImposterOutlineMaterial(a.outline),R=new b.StickImposterOutlineMaterial(a.outline),N=!!a.outline;this.domElement=x;this.context=
null;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==window.devicePixelRatio?window.devicePixelRatio:1;x.id=a.id;this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var p,V=this,M=[],Q=0,ca=null,K=-1,P=null,J=null,B=0,Ga=-1,U=-1,X=-1,W=-1,L=null,A=0,F=0,T=
0,S=0,sa={},ea=new b.Matrix4,Z=new b.Vector3,Y=new b.Vector3,I=!0,ka={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}};try{if(!(p=x.getContext("experimental-webgl",{alpha:v,premultipliedAlpha:n,antialias:d,stencil:g,preserveDrawingBuffer:E}))&&!(p=x.getContext("webgl",{alpha:v,premultipliedAlpha:n,
antialias:d,stencil:g,preserveDrawingBuffer:E})))throw"Error creating WebGL context.";}catch(Na){console.error(Na)}!0;p.clearColor(0,0,0,1);p.clearDepth(1);p.clearStencil(0);p.enable(p.DEPTH_TEST);p.depthFunc(p.LEQUAL);p.frontFace(p.CCW);p.cullFace(p.BACK);p.enable(p.CULL_FACE);p.enable(p.BLEND);p.blendEquation(p.FUNC_ADD);p.blendFunc(p.SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA);p.clearColor(l.r,l.g,l.b,O);this.context=p;var H=p.getExtension("ANGLE_instanced_arrays"),ha=p.getExtension("EXT_frag_depth");this.supportedExtensions=
function(){return{supportsAIA:!!H,supportsImposters:!!ha}};this.getContext=function(){return p};this.getPrecision=function(){return z};this.setClearColorHex=function(a,b){l.setHex(a);O=b;p.clearColor(l.r,l.g,l.b,O)};this.enableOutline=function(a){G=new b.MeshOutlineMaterial(a);y=new b.SphereImposterOutlineMaterial(a);R=new b.StickImposterOutlineMaterial(a);N=!0};this.disableOutline=function(){N=!1};this.setViewport=function(){if(null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var a=
x.width/this.cols,b=x.height/this.rows;A=a*this.devicePixelRatio;F=b*this.devicePixelRatio;p.drawingBufferWidth=3*A;p.drawingBufferHeight=F;p.enable(p.SCISSOR_TEST);p.scissor(a*this.col,b*this.row,a,b);p.viewport(a*this.col,b*this.row,a,b)}};this.setSize=function(a,b){if(null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var c=a/this.cols,d=b/this.rows;x.width=a*this.devicePixelRatio;x.height=b*this.devicePixelRatio;A=c*this.devicePixelRatio;F=d*this.devicePixelRatio;x.style.width=
a+"px";x.style.height=b+"px";this.setViewport()}else A=x.width=a*this.devicePixelRatio,F=x.height=b*this.devicePixelRatio,x.style.width=a+"px",x.style.height=b+"px",p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight)};this.clear=function(a,b,c){var d=0;(void 0===a||a)&&(d|=p.COLOR_BUFFER_BIT);(void 0===b||b)&&(d|=p.DEPTH_BUFFER_BIT);(void 0===c||c)&&(d|=p.STENCIL_BUFFER_BIT);p.clear(d)};this.clearTarget=function(a,b,c){this.clear(a,b,c)};this.setMaterialFaces=function(a,c){var d=a.side===b.DoubleSide;
a=a.side===b.BackSide;a=c?!a:a;Ga!==d&&(d?p.disable(p.CULL_FACE):p.enable(p.CULL_FACE),Ga=d);U!==a&&(a?p.frontFace(p.CW):p.frontFace(p.CCW),U=a)};this.setDepthTest=function(a){X!==a&&(a?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),X=a)};this.setDepthWrite=function(a){W!==a&&(p.depthMask(a),W=a)};this.setBlending=function(a){a?(p.enable(p.BLEND),p.blendEquationSeparate(p.FUNC_ADD,p.FUNC_ADD),p.blendFuncSeparate(p.SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA)):p.disable(p.BLEND);a};
this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};var da=function(a){var b=a.program;if(void 0!==b){var c,d;a.program=void 0;var g=!1;a=0;for(c=M.length;a<c;a++)if((d=M[a]).program===b){d.usedTimes--;0===d.usedTimes&&(g=!0);break}if(!0===g){g=[];a=0;for(c=M.length;a<c;a++)(d=M[a]).program!==b&&g.push(d);M=g;p.deleteProgram(b);V.info.memory.programs--}}},aa=function(a){a=a.target;a.removeEventListener("dispose",aa);if(a.__webglInit=void 0,void 0!==a.__webglVertexBuffer&&p.deleteBuffer(a.__webglVertexBuffer),
void 0!==a.__webglColorBuffer&&p.deleteBuffer(a.__webglColorBuffer),void 0!==a.geometryGroups)for(var b=0,c=a.groups;b<c;b++){var d=a.geometryGroups[b];void 0!==d.__webglVertexBuffer&&p.deleteBuffer(d.__webglVertexBuffer);void 0!==d.__webglColorBuffer&&p.deleteBuffer(d.__webglColorBuffer);void 0!==d.__webglNormalBuffer&&p.deleteBuffer(d.__webglNormalBuffer);void 0!==d.__webglFaceBuffer&&p.deleteBuffer(d.__webglFaceBuffer);void 0!==d.__webglLineBuffer&&p.deleteBuffer(d.__webglLineBuffer)}V.info.memory.geometries--},
la=function(a){a=a.target;a.removeEventListener("dispose",la);a.image&&a.image.__webglTextureCube?p.deleteTexture(a.image.__webglTextureCube):a.__webglInit&&(a.__webglInit=!1,p.deleteTexture(a.__webglTexture));V.info.memory.textures--},pa=function(a){a=a.target;a.removeEventListener("dispose",pa);da(a)};this.initMaterial=function(a){var c;if(a.addEventListener("dispose",pa),c=a.shaderID)c=b.ShaderLib[c],a.vertexShader=c.vertexShader,a.fragmentShader=c.fragmentShader,a.uniforms=b.ShaderUtils.clone(c.uniforms);
var d={wireframe:a.wireframe,fragdepth:a.imposter};a:{var g=a.fragmentShader,l=a.vertexShader,k=a.uniforms,n;c=[];for(r in c.push(g),c.push(l),d)c.push(r),c.push(d[r]);c=c.join();var r=0;for(n=M.length;r<n;r++){var A=M[r];if(A.code===c){c=(A.usedTimes++,A.program);break a}}r=p.createProgram();var m;A="precision "+z+" float;";n=[A].join("\n");d=e("fragment",[d.fragdepth?"#extension GL_EXT_frag_depth: enable":"",d.wireframe?"#define WIREFRAME 1":"",A].join("\n")+g);l=e("vertex",n+l);for(m in p.attachShader(r,
l),p.attachShader(r,d),p.linkProgram(r),p.getProgramParameter(r,p.LINK_STATUS)||console.error("Could not initialize shader"),r.uniforms={},r.attributes={},l=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"],k)l.push(m);for(m=0;m<l.length;m++)k=l[m],r.uniforms[k]=p.getUniformLocation(r,k);l="position normal color lineDistance offset radius".split(" ");for(m=0;m<l.length;m++)k=l[m],r.attributes[k]=p.getAttribLocation(r,k);c=(r.id=Q++,M.push({program:r,code:c,usedTimes:1}),V.info.memory.programs=
M.length,r)}a.program=c};this.renderBuffer=function(a,d,g,e,l,k){if(e.visible){d=(g=q(a,d,g,e,k)).attributes;a=!1;g=16777215*l.id+2*g.id+(e.wireframe?1:0);g!==P&&(P=g,a=!0);if(a){for(var n in sa)sa[n]&&(p.disableVertexAttribArray(n),sa[n]=!1);!0;0<=d.position&&(p.bindBuffer(p.ARRAY_BUFFER,l.__webglVertexBuffer),c(d.position),p.vertexAttribPointer(d.position,3,p.FLOAT,!1,0,0));0<=d.color&&(p.bindBuffer(p.ARRAY_BUFFER,l.__webglColorBuffer),c(d.color),p.vertexAttribPointer(d.color,3,p.FLOAT,!1,0,0));
0<=d.normal&&(p.bindBuffer(p.ARRAY_BUFFER,l.__webglNormalBuffer),c(d.normal),p.vertexAttribPointer(d.normal,3,p.FLOAT,!1,0,0));0<=d.offset&&(p.bindBuffer(p.ARRAY_BUFFER,l.__webglOffsetBuffer),c(d.offset),p.vertexAttribPointer(d.offset,3,p.FLOAT,!1,0,0));0<=d.radius&&(p.bindBuffer(p.ARRAY_BUFFER,l.__webglRadiusBuffer),c(d.radius),p.vertexAttribPointer(d.radius,1,p.FLOAT,!1,0,0))}if(k instanceof b.Mesh){if("instanced"===e.shaderID){var r=e.sphere.geometryGroups[0];a&&(p.bindBuffer(p.ARRAY_BUFFER,l.__webglVertexBuffer),
p.bufferData(p.ARRAY_BUFFER,r.vertexArray,p.STATIC_DRAW),p.bindBuffer(p.ARRAY_BUFFER,l.__webglNormalBuffer),p.bufferData(p.ARRAY_BUFFER,r.normalArray,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,l.__webglFaceBuffer),p.bufferData(p.ELEMENT_ARRAY_BUFFER,r.faceArray,p.STATIC_DRAW));r=r.faceidx;H.vertexAttribDivisorANGLE(d.offset,1);H.vertexAttribDivisorANGLE(d.radius,1);H.vertexAttribDivisorANGLE(d.color,1);H.drawElementsInstancedANGLE(p.TRIANGLES,r,p.UNSIGNED_SHORT,0,l.radiusArray.length);H.vertexAttribDivisorANGLE(d.offset,
0);H.vertexAttribDivisorANGLE(d.radius,0);H.vertexAttribDivisorANGLE(d.color,0)}else e.wireframe?(k=l.lineidx,e=e.wireframeLinewidth,e!==L&&(p.lineWidth(e),L=e),a&&p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,l.__webglLineBuffer),p.drawElements(p.LINES,k,p.UNSIGNED_SHORT,0)):(r=l.faceidx,a&&p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,l.__webglFaceBuffer),p.drawElements(p.TRIANGLES,r,p.UNSIGNED_SHORT,0));V.info.render.calls++;V.info.render.vertices+=r;V.info.render.faces+=r/3}else k instanceof b.Line&&(k=l.vertices,
l=e.linewidth,l!==L&&(p.lineWidth(l),L=l),p.drawArrays(p.LINES,0,k),V.info.render.calls++)}};this.render=function(a,c,d){if(0!=c instanceof b.Camera){var g,e,k,n=a.__lights,r=a.fog;K=-1;I=!0;this.autoUpdateScene&&a.updateMatrixWorld();void 0===c.parent&&c.updateMatrixWorld();c.matrixWorldInverse.getInverse(c.matrixWorld);ea.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);this.autoUpdateObjects&&this.initWebGLObjects(a);V.info.render.calls=0;V.info.render.vertices=0;V.info.render.faces=0;
V.info.render.points=0;T=A;S=F;this.setViewport();(this.autoClear||d)&&(p.clearColor(l.r,l.g,l.b,O),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil));d=0;for(g=(k=a.__webglObjects).length;d<g;d++){var m=(e=k[d]).object;e.render=!1;if(m.visible){m._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,m.matrixWorld);m._normalMatrix.getInverse(m._modelViewMatrix);m._normalMatrix.transpose();m=e;var E=m.object.material;E.transparent?(m.opaque=null,m.transparent=E,E.wireframe)||
(E=E.clone(),E.opacity=0,m.blank=E):(m.opaque=E,m.transparent=null);e.render=!0}}this.setBlending(!1);t(a.__webglObjects,!0,"opaque",c,n,r,!1);t(a.__webglObjects,!0,"blank",c,n,r,!0);t(a.__webglObjects,!1,"transparent",c,n,r,!0);n=this.renderPluginsPost;if(P=-1,ca=null,J=null,-1,W=-1,X=-1,Ga=-1,K=-1,U=-1,n.length)for(r=0,d=n.length;r<d;r++)I=!0,n[r].render(a,c,T,S),P=-1,J=ca=null,-1,U=K=Ga=X=W=-1;this.setDepthTest(!0);this.setDepthWrite(!0)}else console.error("$3Dmol.Renderer.render: camera is not an instance of $3Dmol.Camera.")};
this.initWebGLObjects=function(a){if(a.__webglObjects||(a.__webglObjects=[],a.__webglObjectsImmediate=[],a.__webglSprites=[],a.__webglFlares=[]),a.__objectsAdded.length){for(;a.__objectsAdded.length;){var c,d,g=a.__objectsAdded[0],e=a;if(!g.__webglInit&&(g.__webglInit=!0,g._modelViewMatrix=new b.Matrix4,g._normalMatrix=new b.Matrix3,void 0!==g.geometry&&void 0===g.geometry.__webglInit&&(g.geometry.__webglInit=!0,g.geometry.addEventListener("dispose",aa)),g instanceof b.Mesh||g instanceof b.Line)){var l=
g.geometry;g.material;var k=0;for(d=l.geometryGroups.length;k<d;k++)(c=l.geometryGroups[k]).id=B++,c.__webglVertexBuffer||(g instanceof b.Mesh?(c.radiusArray&&(c.__webglRadiusBuffer=p.createBuffer()),c.useOffset&&(c.__webglOffsetBuffer=p.createBuffer()),c.__webglVertexBuffer=p.createBuffer(),c.__webglNormalBuffer=p.createBuffer(),c.__webglColorBuffer=p.createBuffer(),c.__webglFaceBuffer=p.createBuffer(),c.__webglLineBuffer=p.createBuffer(),V.info.memory.geometries++,l.elementsNeedUpdate=!0,l.normalsNeedUpdate=
!0):g instanceof b.Line&&(c.__webglVertexBuffer=p.createBuffer(),c.__webglColorBuffer=p.createBuffer(),V.info.memory.geometries++),l.verticesNeedUpdate=!0,l.colorsNeedUpdate=!0)}if(!g.__webglActive){if(g instanceof b.Mesh||g instanceof b.Line)for(k=0,d=(l=g.geometry).geometryGroups.length;k<d;k++)c=l.geometryGroups[k],e.__webglObjects.push({buffer:c,object:g,opaque:null,transparent:null});else g instanceof b.Sprite&&e.__webglSprites.push(g);g.__webglActive=!0}a.__objectsAdded.splice(0,1)}P=-1}for(;a.__objectsRemoved.length;)m(a.__objectsRemoved[0],
a),a.__objectsRemoved.splice(0,1);l=0;for(d=a.__webglObjects.length;l<d;l++)if(g=a.__webglObjects[l].object,k=g.geometry,g instanceof b.Mesh||g instanceof b.Line){g=0;for(e=k.geometryGroups.length;g<e;g++)if(c=k.geometryGroups[g],k.verticesNeedUpdate||k.elementsNeedUpdate||k.colorsNeedUpdate||k.normalsNeedUpdate){var n=p.STATIC_DRAW,r=c.vertexArray,A=c.colorArray;if(void 0!==c.__webglOffsetBuffer?(p.bindBuffer(p.ARRAY_BUFFER,c.__webglOffsetBuffer),p.bufferData(p.ARRAY_BUFFER,r,n)):(p.bindBuffer(p.ARRAY_BUFFER,
c.__webglVertexBuffer),p.bufferData(p.ARRAY_BUFFER,r,n)),p.bindBuffer(p.ARRAY_BUFFER,c.__webglColorBuffer),p.bufferData(p.ARRAY_BUFFER,A,n),c.normalArray&&void 0!==c.__webglNormalBuffer)r=c.normalArray,p.bindBuffer(p.ARRAY_BUFFER,c.__webglNormalBuffer),p.bufferData(p.ARRAY_BUFFER,r,n);if(c.radiusArray&&void 0!==c.__webglRadiusBuffer&&(p.bindBuffer(p.ARRAY_BUFFER,c.__webglRadiusBuffer),p.bufferData(p.ARRAY_BUFFER,c.radiusArray,n)),c.faceArray&&void 0!==c.__webglFaceBuffer)r=c.faceArray,p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,
c.__webglFaceBuffer),p.bufferData(p.ELEMENT_ARRAY_BUFFER,r,n);c.lineArray&&void 0!==c.__webglLineBuffer&&(r=c.lineArray,p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c.__webglLineBuffer),p.bufferData(p.ELEMENT_ARRAY_BUFFER,r,n))}k.verticesNeedUpdate=!1;k.elementsNeedUpdate=!1;k.normalsNeedUpdate=!1;k.colorsNeedUpdate=!1;k.buffersNeedUpdate=!1}};this.getXYRatio=function(){return null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col?[this.cols,this.rows]:[1,1]};this.getAspect=function(a,b){null!=a&&
null!=b||(a=x.width,b=x.height);var c=a/b;null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col&&(c=a/this.cols/(b/this.rows));return c};this.setTexture=function(a,b){if(a.needsUpdate){a.__webglInit||(a.__webglInit=!0,a.addEventListener("dispose",la),a.__webglTexture=p.createTexture(),V.info.memory.textures++);p.activeTexture(p.TEXTURE0+b);p.bindTexture(p.TEXTURE_2D,a.__webglTexture);p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,a.flipY);p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);
p.pixelStorei(p.UNPACK_ALIGNMENT,a.unpackAlignment);b=a.image;b=k(b.width)&&k(b.height);var c=r(a.format),d=r(a.type),g=p.TEXTURE_2D;b?(p.texParameteri(g,p.TEXTURE_WRAP_S,r(a.wrapS)),p.texParameteri(g,p.TEXTURE_WRAP_T,r(a.wrapT)),p.texParameteri(g,p.TEXTURE_MAG_FILTER,r(a.magFilter)),p.texParameteri(g,p.TEXTURE_MIN_FILTER,r(a.minFilter))):(p.texParameteri(g,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(g,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(g,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texParameteri(g,
p.TEXTURE_MIN_FILTER,p.LINEAR));!0;var e=a.mipmaps;if(0<e.length&&b){for(var l=0,n=e.length;l<n;l++)g=e[l],p.texImage2D(p.TEXTURE_2D,l,c,c,d,g);a.generateMipmaps=!1}else p.texImage2D(p.TEXTURE_2D,0,c,c,d,a.image);a.generateMipmaps&&b&&p.generateMipmap(p.TEXTURE_2D);a.needsUpdate=!1;a.onUpdate&&a.onUpdate()}else p.activeTexture(p.TEXTURE0+b),p.bindTexture(p.TEXTURE_2D,a.__webglTexture)};this.addPostPlugin(new b.SpritePlugin)};b.Scene=function(){b.Object3D.call(this);this.overrideMaterial=this.fog=
null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};b.Scene.prototype=Object.create(b.Object3D.prototype);b.Scene.prototype.__addObject=function(a){if(a instanceof b.Light)-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target);else if(-1===this.__objects.indexOf(a)){this.__objects.push(a);this.__objectsAdded.push(a);var c=this.__objectsRemoved.indexOf(a);-1!==c&&this.__objectsRemoved.splice(c,
1)}for(c=0;c<a.children.length;c++)this.__addObject(a.children[c])};b.Scene.prototype.__removeObject=function(a){var c;a instanceof b.Light?-1!==(c=this.__lights.indexOf(a))&&this.__lights.splice(c,1):-1!==(c=this.__objects.indexOf(a))&&(this.__objects.splice(c,1),this.__objectsRemoved.push(a),-1!==this.__objectsAdded.indexOf(a)&&this.__objectsAdded.splice(c,1));for(c=0;c<a.children.length;c++)this.__removeObject(a.children[c])};b.Fog=function(a,c,e){this.name="";this.color=new b.Color(a);this.near=
void 0!==c?c:1;this.far=void 0!==e?e:1E3};b.Fog.prototype.clone=function(){return new b.Fog(this.color.getHex(),this.near,this.far)};b.ShaderUtils={clone:function(a){var c,e={};for(c in a){e[c]={};e[c].type=a[c].type;var q=a[c].value;q instanceof b.Color?e[c].value=q.clone():"number"==typeof q?e[c].value=q:q instanceof Array?e[c].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return e},stickimposterFragmentShader:"uniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLight;\nvarying vec3 vColor;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vec3 color = abs(vColor);\n    vec3 pos = cposition;\n    vec3 p = pos;\n    vec3 v = normalize(pos);\n    vec3 pa = p1;\n    vec3 va = normalize(p2-p1);\n    vec3 tmp1 = v-(dot(v,va)*va);\n    vec3 deltap = p-pa;\n    float A = dot(tmp1,tmp1);\n    if(A == 0.0) discard;\n    vec3 tmp2 = deltap-(dot(deltap,va)*va);\n    float B = 2.0*dot(tmp1, tmp2);\n    float C = dot(tmp2,tmp2)-r*r;\n    float det = (B*B) - (4.0*A*C);\n    if(det < 0.0) discard;\n    float sqrtDet = sqrt(det);\n    float posT = (-B+sqrtDet)/(2.0*A);\n    float negT = (-B-sqrtDet)/(2.0*A);\n    float intersectionT = min(posT,negT);\n    vec3 qi = p+v*intersectionT;\n    float dotp1 = dot(va,qi-p1);\n    float dotp2 = dot(va,qi-p2);\n    vec3 norm;\n    if( dotp1 < 0.0 || dotp2 > 0.0) {\n       vec3 cp;\n       if( dotp1 < 0.0) {        cp = p1;\n       } else {\n          cp = p2;\n       }\n       vec3 diff = p-cp;\n       A = dot(v,v);\n       B = dot(diff,v)*2.0;\n       C = dot(diff,diff)-r*r;\n       det = (B*B) - (4.0*C);\n       if(det < 0.0) discard;\n       sqrtDet = sqrt(det);\n       posT = (-B+sqrtDet)/(2.0);\n       negT = (-B-sqrtDet)/(2.0);\n       float t = min(posT,negT);\n       qi = p+v*t;\n       norm = normalize(qi-cp);\n    } else {\n       norm = normalize(qi-(dotp1*va + p1));\n    }\n    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragDepthEXT = depth;"};
b.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},sphereimposter:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform float uDepth;\nuniform vec3 directionalLightColor[ 1 ];\nvarying vec3 vColor;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));\n    float dotProduct = dot( norm, vLight );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_FragColor = vec4(vLight*vColor, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying vec3 vColor;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz );\n    mapping = normal.xy;\n    rval = abs(normal.x);\n    gl_Position = projPosition+adjust;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},instanced:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 offset;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},outline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvoid main() {\n    gl_FragColor = vec4( outlineColor, 1 );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvoid main() {\n    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    mvPosition.xy += norm.xy*outlineWidth;\n    gl_Position = projectionMatrix * mvPosition;\n    mvPosition.z -= outlinePushback;\n    vec4 pushpos = projectionMatrix*mvPosition;\n    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;\n}",
uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new b.Color(0,0,0)},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},sphereimposteroutline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform mat4 projectionMatrix;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nuniform float outlinePushback;\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragColor = vec4(outlineColor, 1 );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nvoid main() {\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);\n    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    mapping = norm.xy;\n    rval = abs(norm.x);\n    gl_Position = projPosition+adjust;\n}",
uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new b.Color(0,0,0)},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},stickimposter:{fragmentShader:[b.ShaderUtils.stickimposterFragmentShader,"    float dotProduct = dot( norm, vLight );\n    vec3 light = vec3( max( dotProduct, 0.0 ) );\n    gl_FragColor = vec4(light*color, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}"].join("\n"),
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = color; vColor.z = abs(vColor.z);\n    r = abs(radius);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz )*directionalLightColor[0];\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},stickimposteroutline:{fragmentShader:b.ShaderUtils.stickimposterFragmentShader+"gl_FragColor = vec4(color,1.0);}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nuniform vec3 outlineColor;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = outlineColor;\n    float rad = radius+sign(radius)*outlineWidth;\n    r = abs(rad);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    to.xyz += normalize(to.xyz)*outlinePushback;\n    pt.xyz += normalize(pt.xyz)*outlinePushback;\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vLight = vec3(1.0,1.0,1.0);\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},outlineColor:{type:"c",value:new b.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},lambertdouble:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    if ( gl_FrontFacing )\n       gl_FragColor.xyz *= vLightFront;\n    else\n       gl_FragColor.xyz *= vLightBack;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    vLightBack = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",
vertexShader:"uniform int useScreenCoordinates;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;\n        finalPosition.xy += rotatedPosition; \n    }\n    gl_Position = finalPosition;\n}",
uniforms:{}}};"undefined"==typeof console&&(console={log:function(){}});b.ProteinSurface=function(){var a,c,e=0,q=0,t=0,m=2,k=0,r=0,x=0,z=0,v=null,n=null,d=null,g=0,E=0,l=0,O=0,G=0,y=0,R={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},N={},p={},V=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,
-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(b){for(var g=
{},l=0,k=b.length;l<k;l++)g[b[l]]=!0;b=c;l=0;for(k=b.length;l<k;l++)b[l].x=b[l].x/m-e,b[l].y=b[l].y/m-q,b[l].z=b[l].z/m-t;l=[];k=0;for(var p=a.length;k<p;k+=3){var r=a[k],E=a[k+1],y=a[k+2],G=b[E].atomid,R=b[y].atomid,L=b[r].atomid;G<L&&(L=G);R<L&&(L=R);g[L]&&r!==E&&E!==y&&r!==y&&(l.push(r),l.push(E),l.push(y))}return v=null,n=null,d=null,{vertices:b,faces:l}};this.initparm=function(a,b,c){1E6<c&&(m=1);c=1/m*5.5;g=a[0][0];O=a[1][0];E=a[0][1];G=a[1][1];l=a[0][2];y=a[1][2];b?(g-=1.4+c,E-=1.4+c,l-=1.4+
c,O+=1.4+c,G+=1.4+c,y+=1.4+c):(g-=c,E-=c,l-=c,O+=c,G+=c,y+=c);g=Math.floor(g*m)/m;E=Math.floor(E*m)/m;l=Math.floor(l*m)/m;O=Math.ceil(O*m)/m;G=Math.ceil(G*m)/m;y=Math.ceil(y*m)/m;e=-g;q=-E;t=-l;x=Math.ceil(m*(O-g))+1;r=Math.ceil(m*(G-E))+1;k=Math.ceil(m*(y-l))+1;this.boundingatom(b);z=1.4*m;v=new Uint8Array(x*r*k);n=new Float64Array(x*r*k);d=new Int32Array(x*r*k)};this.boundingatom=function(a){var b,c,d=[],g;for(g in R)if(R.hasOwnProperty(g)){var e=R[g];d[g]=a?(e+1.4)*m+.5:e*m+.5;e=d[g]*d[g];p[g]=
Math.floor(d[g])+1;N[g]=new Int32Array(p[g]*p[g]);for(var l=0,k=0;k<p[g];k++)for(var n=0;n<p[g];n++)(b=k*k+n*n)>e?N[g][l]=-1:(c=Math.sqrt(e-b),N[g][l]=Math.floor(c)),l++}};this.fillvoxels=function(a,b){for(var c=0,g=v.length;c<g;c++)v[c]=0,n[c]=-1,d[c]=-1;for(var e in b)c=a[b[e]],void 0!==c&&this.fillAtom(c,a);a=0;for(b=v.length;a<b;a++)1&v[a]&&(v[a]|=2)};this.fillAtom=function(a,b){var c,g,l,n,E,y,G,O,L,A,F,Q,ca;var M=Math.floor(.5+m*(a.x+e));var V=Math.floor(.5+m*(a.y+q));var z=Math.floor(.5+m*
(a.z+t));var Y=a.elem&&void 0!==R[a.elem]?a.elem:"X",B=0,I=r*k;var H=0;for(ca=p[Y];H<ca;H++)for(E=0;E<ca;E++){if(-1!=N[Y][B])for(A=-1;2>A;A++)for(F=-1;2>F;F++)for(Q=-1;2>Q;Q++)if(0!==A&&0!==F&&0!==Q){var ha=A*H;var da=Q*E;for(y=0;y<=N[Y][B];y++)if(O=V+(n=y*F),L=z+da,!(0>(G=M+ha)||0>O||0>L||G>=x||O>=r||L>=k)){var aa=G*I+O*k+L;if(1&v[aa]){var la=b[d[aa]];la.serial!=a.serial&&ha*ha+n*n+da*da<(c=M+ha-Math.floor(.5+m*(la.x+e)))*c+(g=V+n-Math.floor(.5+m*(la.y+q)))*g+(l=z+da-Math.floor(.5+m*(la.z+t)))*l&&
(d[aa]=a.serial)}else v[aa]|=1,d[aa]=a.serial}}B++}};this.fillvoxelswaals=function(a,b){for(var c=0,d=v.length;c<d;c++)v[c]&=-3;for(var g in b)c=a[b[g]],void 0!==c&&this.fillAtomWaals(c,a)};this.fillAtomWaals=function(a,b){var c,g,l,n,E,y,G,O,L,A,F,M,ca,Q=0;var V=Math.floor(.5+m*(a.x+e));var z=Math.floor(.5+m*(a.y+q));var Y=Math.floor(.5+m*(a.z+t));var B=a.elem&&void 0!==R[a.elem]?a.elem:"X",I=r*k;var H=0;for(ca=p[B];H<ca;H++)for(O=0;O<ca;O++){if(-1!=N[B][Q])for(A=-1;2>A;A++)for(F=-1;2>F;F++)for(M=
-1;2>M;M++)if(0!==A&&0!==F&&0!==M){var ha=A*H;var da=M*O;for(L=0;L<=N[B][Q];L++)if(y=z+(n=L*F),G=Y+da,!(0>(E=V+ha)||0>y||0>G||E>=x||y>=r||G>=k)){var aa=E*I+y*k+G;if(2&v[aa]){var la=b[d[aa]];la.serial!=a.serial&&ha*ha+n*n+da*da<(c=V+ha-Math.floor(.5+m*(la.x+e)))*c+(g=z+n-Math.floor(.5+m*(la.y+q)))*g+(l=Y+da-Math.floor(.5+m*(la.z+t)))*l&&(d[aa]=a.serial)}else v[aa]|=2,d[aa]=a.serial}}Q++}};this.buildboundary=function(){for(var a=r*k,b=0;b<x;b++)for(var c=0;c<k;c++)for(var d=0;d<r;d++){var g=b*a+d*k+
c;if(1&v[g])for(var e=0;26>e;){var l=b+V[e][0],p=c+V[e][2],n=d+V[e][1];if(-1<l&&l<x&&-1<n&&n<r&&-1<p&&p<k&&!(1&v[l*a+n*k+p])){v[g]|=4;break}e++}}};var M=function(a,b,c){var d=new Int32Array(a*b*c*3);this.set=function(a,g,e,l){a=3*((a*b+g)*c+e);d[a]=l.ix;d[a+1]=l.iy;d[a+2]=l.iz};this.get=function(a,g,e){a=3*((a*b+g)*c+e);return{ix:d[a],iy:d[a+1],iz:d[a+2]}}};this.fastdistancemap=function(){var a,b,c,d,g=new M(x,r,k),e=r*k,l=z*z,p=[];for(a=0;a<x;a++)for(b=0;b<r;b++)for(c=0;c<k;c++)if(v[d=a*e+b*k+c]&=
-3,1&v[d]&&4&v[d]){var E={ix:a,iy:b,iz:c};g.set(a,b,c,E);p.push(E);n[d]=0;v[d]|=2;v[d]&=-5}do for(c=this.fastoneshell(p,g),p=[],a=0,b=c.length;a<b;a++)d=e*c[a].ix+k*c[a].iy+c[a].iz,v[d]&=-5,n[d]<=1.0404*l&&p.push({ix:c[a].ix,iy:c[a].iy,iz:c[a].iz});while(0!==p.length);a=m-.5;0>a&&(a=0);l-=.5/(.1+a);for(a=0;a<x;a++)for(b=0;b<r;b++)for(c=0;c<k;c++)v[d=a*e+b*k+c]&=-5,1&v[d]&&(2&v[d]&&!(2&v[d]&&n[d]>=l)||(v[d]|=4))};this.fastoneshell=function(a,b){var c,d,g,e,l,p,m,E=[];if(0===a.length)return E;var q=
r*k;var A=0;for(l=a.length;A<l;A++){var y=a[A].ix;var G=a[A].iy;var R=a[A].iz;var O=b.get(y,G,R);for(e=0;6>e;e++){var t=y+V[e][0];var M=G+V[e][1];var N=R+V[e][2];t<x&&-1<t&&M<r&&-1<M&&N<k&&-1<N&&(m=t*q+k*M+N,1&v[m]&&!(2&v[m])?(b.set(t,M,R+V[e][2],O),p=(c=t-O.ix)*c+(d=M-O.iy)*d+(g=N-O.iz)*g,n[m]=p,v[m]|=2,v[m]|=4,E.push({ix:t,iy:M,iz:N})):1&v[m]&&2&v[m]&&(p=(c=t-O.ix)*c+(d=M-O.iy)*d+(g=N-O.iz)*g)<n[m]&&(b.set(t,M,N,O),n[m]=p,4&v[m]||(v[m]|=4,E.push({ix:t,iy:M,iz:N}))))}}A=0;for(l=a.length;A<l;A++)for(y=
a[A].ix,G=a[A].iy,R=a[A].iz,O=b.get(y,G,R),e=6;18>e;e++)t=y+V[e][0],M=G+V[e][1],N=R+V[e][2],t<x&&-1<t&&M<r&&-1<M&&N<k&&-1<N&&(m=t*q+k*M+N,1&v[m]&&!(2&v[m])?(b.set(t,M,R+V[e][2],O),p=(c=t-O.ix)*c+(d=M-O.iy)*d+(g=N-O.iz)*g,n[m]=p,v[m]|=2,v[m]|=4,E.push({ix:t,iy:M,iz:N})):1&v[m]&&2&v[m]&&(p=(c=t-O.ix)*c+(d=M-O.iy)*d+(g=N-O.iz)*g)<n[m]&&(b.set(t,M,N,O),n[m]=p,4&v[m]||(v[m]|=4,E.push({ix:t,iy:M,iz:N}))));A=0;for(l=a.length;A<l;A++)for(y=a[A].ix,G=a[A].iy,R=a[A].iz,O=b.get(y,G,R),e=18;26>e;e++)t=y+V[e][0],
M=G+V[e][1],N=R+V[e][2],t<x&&-1<t&&M<r&&-1<M&&N<k&&-1<N&&(m=t*q+k*M+N,1&v[m]&&!(2&v[m])?(b.set(t,M,R+V[e][2],O),p=(c=t-O.ix)*c+(d=M-O.iy)*d+(g=N-O.iz)*g,n[m]=p,v[m]|=2,v[m]|=4,E.push({ix:t,iy:M,iz:N})):1&v[m]&&2&v[m]&&(p=(c=t-O.ix)*c+(d=M-O.iy)*d+(g=N-O.iz)*g)<n[m]&&(b.set(t,M,N,O),n[m]=p,4&v[m]||(v[m]|=4,E.push({ix:t,iy:M,iz:N}))));return E};this.marchingcubeinit=function(a){for(var b=0,c=v.length;b<c;b++)1==a?v[b]&=-5:4==a?(v[b]&=-3,4&v[b]&&(v[b]|=2),v[b]&=-5):2==a?4&v[b]&&2&v[b]?v[b]&=-5:4&v[b]&&
!(2&v[b])&&(v[b]|=2):3==a&&(v[b]&=-5)};this.marchingcube=function(g){this.marchingcubeinit(g);c=[];a=[];b.MarchingCube.march(v,c,a,{smooth:1,nX:x,nY:r,nZ:k});g=r*k;for(var e=0,l=c.length;e<l;e++)c[e].atomid=d[c[e].x*g+k*c[e].y+c[e].z];b.MarchingCube.laplacianSmooth(1,c,a)}};b.autoload=function(a,c){var e,q,t;if(void 0!==I(".viewer_3Dmoljs")[0]&&(b.autoinit=!0),b.autoinit){a=null!=a?a:null;b.viewers={};var m=0;I(".viewer_3Dmoljs").each(function(){var k=I(this),r=[],x=[],z="";"static"==k.css("position")&&
k.css("position","relative");t=null;k.data("pdb")?(r.push("https://files.rcsb.org/view/"+k.data("pdb")+".pdb"),x.push("pdb")):k.data("cid")?(x.push("sdf"),r.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+k.data("cid")+"/SDF?record_type=3d")):(k.data("href")||k.data("url"))&&(z=k.data("href"),r.push(z),t=z.substr(z.lastIndexOf(".")+1),x.push(t));var v=k.data();for(e in v)"pdb"===e.substring(0,3)&&"pdb"!==e?(r.push("https://files.rcsb.org/view/"+v[e]+".pdb"),x.push("pdb")):"href"===
e.substring(0,4)&&"href"!==e?(z=v[e],r.push(z),x.push(z.substr(z.lastIndexOf(".")+1))):"cid"===e.substring(0,3)&&"cid"!==e&&(r.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+v[e]+"/SDF?record_type=3d"),x.push("sdf"));var n={};k.data("options")&&(n=b.specStringToObject(k.data("options")));v=b.CC.color(k.data("backgroundcolor"));var d={line:{}};k.data("style")&&(d=b.specStringToObject(k.data("style")));var g={};k.data("select")&&(g=b.specStringToObject(k.data("select")));var E=[],l=
[],O=[],G={},y=k.data(),R=/style(.+)/,N=/surface(.*)/,p=/labelres(.*)/,V=[];for(q in y)y.hasOwnProperty(q)&&V.push(q);V.sort();for(e=0;e<V.length;e++){q=V[e];var M=R.exec(q),Q,ca,K;M&&(Q="select"+M[1],ca=b.specStringToObject(y[Q]),K=b.specStringToObject(y[q]),E.push([ca,K]));(M=N.exec(q))&&(Q="select"+M[1],ca=b.specStringToObject(y[Q]),K=b.specStringToObject(y[q]),l.push([ca,K]));(M=p.exec(q))&&(Q="select"+M[1],ca=b.specStringToObject(y[Q]),K=b.specStringToObject(y[q]),O.push([ca,K]));"zoomto"==q&&
(G=b.specStringToObject(y[q]))}var P=function(a){a.setStyle(g,d);for(e=0;e<E.length;e++){var c=E[e][0]||{};var k=E[e][1]||{line:{}};a.setStyle(c,k)}for(e=0;e<l.length;e++)c=l[e][0]||{},k=l[e][1]||{},a.addSurface(b.SurfaceType.VDW,k,c,c);for(e=0;e<O.length;e++)c=O[e][0]||{},k=O[e][1]||{},a.addResLabels(c,k);a.zoomTo(G);a.render()},J=a;try{null==J&&(J=b.viewers[this.id||m++]=b.createViewer(k,{defaultcolors:b.rasmolElementColors})),J.setBackgroundColor(v)}catch(Ga){console.log(Ga),window.location="http://get.webgl.org"}if(0!=
r.length){e=0;var B=function(a){z=r[e];var b=k.data("type")||k.data("datatype")||x[e];if(J.addModel(a,b,n),e+=1,e<r.length)I.get(r[e],B,"text");else{if(P(J),k.data("callback"))a=eval(k.data("callback")),"function"==typeof a&&a(J);c&&c(J)}};I.get(r[0],B,"text")}else{k.data("element")&&(Q=I("#"+k.data("element")).val()||"",(t=k.data("type")||k.data("datatype"))||(console.log("Warning: No type specified for embedded viewer with moldata from "+k.data("element")+"\n assuming type 'pdb'"),t="pdb"),J.addModel(Q,
t,n));if(P(J),k.data("callback"))Q=eval(k.data("callback")),"function"==typeof Q&&Q(J);c&&c(J)}})}};I(document).ready(function(){b.autoload()});var Ka=b.htmlColors={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,
cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,
forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,
lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,
navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,
silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b.CC={cache:{0:new b.Color(0)},color:function e(c){if(!c)return this.cache[0];if(void 0!==this.cache[c])return this.cache[c];if(c&&c.constructor===Array)return c.map(e,this);if("number"==
typeof(c=this.getHex(c))){var q=new b.Color(c);return this.cache[c]=q,q}return c},getHex:function(b){return isNaN(parseInt(b))?"string"==typeof b?(4==(b=b.trim()).length&&"#"==b[0]&&(b="#"+b[1]+b[1]+b[2]+b[2]+b[3]+b[3]),7==b.length&&"#"==b[0]?parseInt(b.substring(1),16):Ka[b.toLowerCase()]||0):b:parseInt(b)}};b.CC=b.CC;b.CC.color=b.CC.color;b.ssColors=b.ssColors||{};b.ssColors.pyMol={h:16711680,s:16776960,c:65280};b.ssColors.Jmol={h:16711808,s:16762880,c:16777215};b.elementColors=b.elementColors||
{};b.elementColors.defaultColor=16716947;b.elementColors.Jmol={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578E4,SI:1578E4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,
MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,
CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366E3,XE:4366E3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,
HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32E3,RA:32E3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,
Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998};b.elementColors.rasmol={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,
Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120};b.elementColors.defaultColors=b.elementColors.rasmol;b.elementColors.greenCarbon=I.extend({},b.elementColors.defaultColors);b.elementColors.greenCarbon.C=
65280;b.elementColors.cyanCarbon=I.extend({},b.elementColors.defaultColors);b.elementColors.cyanCarbon.C=65535;b.elementColors.magentaCarbon=I.extend({},b.elementColors.defaultColors);b.elementColors.magentaCarbon.C=16711935;b.elementColors.yellowCarbon=I.extend({},b.elementColors.defaultColors);b.elementColors.yellowCarbon.C=16776960;b.elementColors.whiteCarbon=I.extend({},b.elementColors.defaultColors);b.elementColors.whiteCarbon.C=16777215;b.elementColors.orangeCarbon=I.extend({},b.elementColors.defaultColors);
b.elementColors.orangeCarbon.C=16753920;b.elementColors.purpleCarbon=I.extend({},b.elementColors.defaultColors);b.elementColors.purpleCarbon.C=8388736;b.elementColors.blueCarbon=I.extend({},b.elementColors.defaultColors);b.elementColors.blueCarbon.C=255;b.residues={};b.residues.amino={ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,
TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740};b.residues.shapely={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935};b.residues.nucleic={A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576};b.chains={};b.chains.atom={A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,
F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146};b.chains.hetatm={A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834};b.builtinColorSchemes=
{ssPyMol:{prop:"ss",map:b.ssColors.pyMol},ssJmol:{prop:"ss",map:b.ssColors.Jmol},Jmol:{prop:"elem",map:b.elementColors.Jmol},greenCarbon:{prop:"elem",map:b.elementColors.greenCarbon},default:{prop:"elem",map:b.elementColors.defaultColors},amino:{prop:"resn",map:b.residues.amino},shapely:{prop:"resn",map:b.residues.shapely},nucleic:{prop:"resn",map:b.residues.nucleic},chain:{prop:"chain",map:b.chains.atom},chainHetatm:{prop:"chain",map:b.chains.hetatm}};b.getColorFromStyle=function(c,e){var q=e.colorscheme;
if(void 0!==b.builtinColorSchemes[q])q=b.builtinColorSchemes[q];else if("string"==typeof q&&q.endsWith("Carbon")){var t=q.substring(0,q.lastIndexOf("Carbon")).toLowerCase();if(void 0!==Ka[t]){var m=I.extend({},b.elementColors.defaultColors);m.C=Ka[t];b.builtinColorSchemes[q]={prop:"elem",map:m};q=b.builtinColorSchemes[q]}}var k;t=c.color;if(void 0!==e.color&&"spectrum"!=e.color&&(t=e.color),void 0!==q)if(void 0!==b.elementColors[q])void 0!==(q=b.elementColors[q])[c[q.prop]]&&(t=q.map[c[q.prop]]);
else if(void 0!==q[c[q.prop]])t=q.map[c[q.prop]];else if(void 0!==q.prop&&void 0!==q.gradient){var r=q.prop;e=q.gradient;void 0!==b.Gradient.builtinGradients[e]&&(e=new b.Gradient.builtinGradients[e](q.min,q.max,q.mid));q=e.range()||[-1,1];null!=(k=b.getAtomProperty(c,r))&&(t=e.valueToHex(k,q))}else void 0!==q.prop&&void 0!==q.map?(r=q.prop,k=b.getAtomProperty(c,r),void 0!==q.map[k]&&(t=q.map[k])):void 0!==e.colorscheme[c.elem]?t=e.colorscheme[c.elem]:console.log("Could not interpret colorscheme "+
q);else void 0!==e.colorfunc&&(t=e.colorfunc(c));return b.CC.color(t)};b=b||{};b.subdivide_spline=function(c,e){var q,t,m,k,r,x=[],z;(z=[]).push(c[0]);var v=1;for(q=c.length-1;v<q;v++)if(m=c[v],k=c[v+1],m.smoothen){var n=new b.Vector3((m.x+k.x)/2,(m.y+k.y)/2,(m.z+k.z)/2);n.atom=m.atom;z.push(n)}else z.push(m);z.push(c[c.length-1]);v=-1;for(c=z.length;v<=c-3;v++)if(t=z[-1===v?0:v],m=z[v+1],k=z[v+2],r=z[v===c-3?c-1:v+3],q=(new b.Vector3).subVectors(k,t).multiplyScalar(.5),n=(new b.Vector3).subVectors(r,
m).multiplyScalar(.5),!k.skip)for(var d=0;d<e;d++){var g=1/e*d;g=new b.Vector3(m.x+g*q.x+g*g*(-3*m.x+3*k.x-2*q.x-n.x)+g*g*g*(2*m.x-2*k.x+q.x+n.x),m.y+g*q.y+g*g*(-3*m.y+3*k.y-2*q.y-n.y)+g*g*g*(2*m.y-2*k.y+q.y+n.y),m.z+g*q.z+g*g*(-3*m.z+3*k.z-2*q.z-n.z)+g*g*g*(2*m.z-2*k.z+q.z+n.z));g.atom=d<e/2?m.atom:k.atom;x.push(g)}return x.push(z[z.length-1]),x};b.drawCartoon=function(){var c=function(c,d,g,e){for(var l,k,n,r,m=0,E=d.length;m<E;m++){r=Math.round(m*(e.length-1)/E);n=b.CC.color(e[r]);r=c.updateGeoGroup(2);
var p=r.vertexArray,q=r.colorArray,t=r.faceArray;p[k=3*(l=r.vertices)]=d[m].x;p[k+1]=d[m].y;p[k+2]=d[m].z;p[k+3]=g[m].x;p[k+4]=g[m].y;p[k+5]=g[m].z;for(p=0;6>p;++p)q[k+3*p]=n.r,q[k+1+3*p]=n.g,q[k+2+3*p]=n.b;0<m&&(l=[l,l+1,l-1,l-2],k=r.faceidx,t[k]=l[0],t[k+1]=l[1],t[k+2]=l[3],t[k+3]=l[1],t[k+4]=l[2],t[k+5]=l[3],r.faceidx+=6);r.vertices+=2}},e=function(c,d,g,e,l){0!==d.length&&(d=new b.Geometry,g=new b.LineBasicMaterial({linewidth:g}),g.vertexColors=!0,g=new b.Line(d,g),g.type=b.LineStrip,c.add(g))},
q=function(e,d,g,k,l,r,m){m&&"default"!==m||(m="rectangle");"edged"===m?function(d,g,e,l,k,n){if(!(2>g.length)){var p,r;if(p=g[0],r=g[g.length-1],p=b.subdivide_spline(p,l),r=b.subdivide_spline(r,l),!k)return c(d,p,r,e);var m,E,q,y,G,O,t,R,L,A,F,x,v,M;l=[];var N=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]];g=0;for(A=p.length;g<A;g++){if(R=Math.round(g*(e.length-1)/A),t=b.CC.color(e[R]),l.push(m=p[g]),l.push(m),l.push(E=r[g]),l.push(E),g<A-1){var V=p[g+1].clone().sub(p[g]);V=r[g].clone().sub(p[g]).cross(V).normalize().multiplyScalar(k)}l.push(q=
p[g].clone().add(V));l.push(q);l.push(y=r[g].clone().add(V));l.push(y);void 0!==m.atom&&(L=m.atom);var z=(M=d.updateGeoGroup(8)).vertexArray;var B=M.colorArray;var I=M.faceArray;z[G=3*(n=M.vertices)]=m.x;z[G+1]=m.y;z[G+2]=m.z;z[G+3]=m.x;z[G+4]=m.y;z[G+5]=m.z;z[G+6]=E.x;z[G+7]=E.y;z[G+8]=E.z;z[G+9]=E.x;z[G+10]=E.y;z[G+11]=E.z;z[G+12]=q.x;z[G+13]=q.y;z[G+14]=q.z;z[G+15]=q.x;z[G+16]=q.y;z[G+17]=q.z;z[G+18]=y.x;z[G+19]=y.y;z[G+20]=y.z;z[G+21]=y.x;z[G+22]=y.y;z[G+23]=y.z;for(z=0;8>z;++z)B[G+3*z]=t.r,B[G+
1+3*z]=t.g,B[G+2+3*z]=t.b;if(0<g)for(G=void 0!==la&&void 0!==L&&la.serial!==L.serial,z=0;4>z;z++){var H=[n+N[z][0],n+N[z][1],n+N[z][2],n+N[z][3]];if(I[O=M.faceidx]=H[0],I[O+1]=H[1],I[O+2]=H[3],I[O+3]=H[1],I[O+4]=H[2],I[O+5]=H[3],M.faceidx+=6,L.clickable||la.clickable||L.hoverable||la.hoverable){B=l[H[3]].clone();q=l[H[0]].clone();y=l[H[2]].clone();var ha=l[H[1]].clone();if(B.atom=l[H[3]].atom||null,y.atom=l[H[2]].atom||null,q.atom=l[H[0]].atom||null,ha.atom=l[H[1]].atom||null,G){H=B.clone().add(q).multiplyScalar(.5);
var da=y.clone().add(ha).multiplyScalar(.5),aa=B.clone().add(ha).multiplyScalar(.5);0==z%2?((la.clickable||la.hoverable)&&(F=new b.Triangle(H,aa,B),x=new b.Triangle(da,y,aa),v=new b.Triangle(aa,y,B),la.intersectionShape.triangle.push(F),la.intersectionShape.triangle.push(x),la.intersectionShape.triangle.push(v)),(L.clickable||L.hoverable)&&(F=new b.Triangle(q,ha,aa),x=new b.Triangle(ha,da,aa),v=new b.Triangle(q,aa,H),L.intersectionShape.triangle.push(F),L.intersectionShape.triangle.push(x),L.intersectionShape.triangle.push(v))):
((L.clickable||L.hoverable)&&(F=new b.Triangle(H,aa,B),x=new b.Triangle(da,y,aa),v=new b.Triangle(aa,y,B),L.intersectionShape.triangle.push(F),L.intersectionShape.triangle.push(x),L.intersectionShape.triangle.push(v)),(la.clickable||la.hoverable)&&(F=new b.Triangle(q,ha,aa),x=new b.Triangle(ha,da,aa),v=new b.Triangle(q,aa,H),la.intersectionShape.triangle.push(F),la.intersectionShape.triangle.push(x),la.intersectionShape.triangle.push(v)))}else(L.clickable||L.hoverable)&&(F=new b.Triangle(q,ha,B),
x=new b.Triangle(ha,y,B),L.intersectionShape.triangle.push(F),L.intersectionShape.triangle.push(x))}}M.vertices+=8;var la=L}e=l.length-8;z=(M=d.updateGeoGroup(8)).vertexArray;B=M.colorArray;I=M.faceArray;G=3*(n=M.vertices);O=M.faceidx;for(g=0;4>g;g++)l.push(l[2*g]),l.push(l[e+2*g]),d=l[2*g],k=l[e+2*g],z[G+6*g]=d.x,z[G+1+6*g]=d.y,z[G+2+6*g]=d.z,z[G+3+6*g]=k.x,z[G+4+6*g]=k.y,z[G+5+6*g]=k.z,B[G+6*g]=t.r,B[G+1+6*g]=t.g,B[G+2+6*g]=t.b,B[G+3+6*g]=t.r,B[G+4+6*g]=t.g,B[G+5+6*g]=t.b;F=[n,n+2,n+6,n+4];x=[n+
1,n+5,n+7,n+3];I[O]=F[0];I[O+1]=F[1];I[O+2]=F[3];I[O+3]=F[1];I[O+4]=F[2];I[O+5]=F[3];I[O+6]=x[0];I[O+7]=x[1];I[O+8]=x[3];I[O+9]=x[1];I[O+10]=x[2];I[O+11]=x[3];M.faceidx+=12;M.vertices+=8}}(e,d,g,k,l):"rectangle"!==m&&"oval"!==m&&"parabola"!==m||function(d,g,e,l,k,n,r){var p,m;if(!(2>(m=g.length)||2>g[0].length)){for(n=0;n<m;n++)g[n]=b.subdivide_spline(g[n],l);if(l=g[0].length,!k)return c(d,g[0],g[m-1],e);var E,q=[],G=[],y=[];for(p=0;p<m;p++)q.push(.25+1.5*Math.sqrt((m-1)*p-Math.pow(p,2))/(m-1)),G.push(.5),
y.push(2*(Math.pow(p/m,2)-p/m)+.6);var O,t=[];for(p=0;p<2*m-1;p++)t[p]=[p,p+1,p+1-2*m,p-2*m];t[2*m-1]=[p,p+1-2*m,p+1-4*m,p-2*m];d=d.updateGeoGroup(2*m*l);for(n=0;n<l;n++){p=Math.round(n*(e.length-1)/l);var x=b.CC.color(e[p]);var L=F;var A=R;var F=[];var R=[];var v=[];void 0!==g[0][n].atom&&(O=g[0][n].atom,"oval"===r?E=q:"rectangle"===r?E=G:"parabola"===r&&(E=y));E||(E=G);for(p=0;p<m;p++){var N=n<l-1?g[p][n+1].clone().sub(g[p][n]):g[p][n-1].clone().sub(g[p][n]).negate();var M=p<m-1?g[p+1][n].clone().sub(g[p][n]):
g[p-1][n].clone().sub(g[p][n]).negate();v[p]=M.cross(N).normalize().multiplyScalar(k*E[p])}for(p=0;p<m;p++)F[p]=g[p][n].clone().add(v[p].clone().negate());for(p=0;p<m;p++)R[p]=g[p][n].clone().add(v[p]);var z=d.vertexArray;var Q=d.colorArray;N=d.faceArray;M=3*(v=d.vertices);for(p=0;p<m;p++)z[M+3*p+0]=F[p].x,z[M+3*p+1]=F[p].y,z[M+3*p+2]=F[p].z;for(p=0;p<m;p++)z[M+3*p+0+3*m]=R[m-1-p].x,z[M+3*p+1+3*m]=R[m-1-p].y,z[M+3*p+2+3*m]=R[m-1-p].z;for(p=0;p<2*m;++p)Q[M+3*p+0]=x.r,Q[M+3*p+1]=x.g,Q[M+3*p+2]=x.b;
if(0<n){for(p=0;p<2*m;p++)M=[v+t[p][0],v+t[p][1],v+t[p][2],v+t[p][3]],N[x=d.faceidx]=M[0],N[x+1]=M[1],N[x+2]=M[3],N[x+3]=M[1],N[x+4]=M[2],N[x+5]=M[3],d.faceidx+=6;if(O.clickable||O.hoverable)for(p in x=[],x.push(new b.Triangle(L[0],F[0],F[m-1])),x.push(new b.Triangle(L[0],F[m-1],L[m-1])),x.push(new b.Triangle(L[m-1],F[m-1],R[m-1])),x.push(new b.Triangle(L[m-1],R[m-1],A[m-1])),x.push(new b.Triangle(R[0],A[0],A[m-1])),x.push(new b.Triangle(R[m-1],R[0],A[m-1])),x.push(new b.Triangle(F[0],L[0],A[0])),
x.push(new b.Triangle(R[0],F[0],A[0])),x)O.intersectionShape.triangle.push(x[p])}d.vertices+=2*m}N=d.faceArray;v=d.vertices;for(n=0;n<m-1;n++)M=[n,n+1,2*m-2-n,2*m-1-n],N[x=d.faceidx]=M[0],N[x+1]=M[1],N[x+2]=M[3],N[x+3]=M[1],N[x+4]=M[2],N[x+5]=M[3],d.faceidx+=6;for(n=0;n<m-1;n++)M=[v-1-n,v-2-n,v-2*m+n+1,v-2*m+n],N[x=d.faceidx]=M[0],N[x+1]=M[1],N[x+2]=M[3],N[x+3]=M[1],N[x+4]=M[2],N[x+5]=M[3],d.faceidx+=6}}(e,d,g,k,l,0,m)},t=function(b,c){if(b&&c&&b.chain===c.chain){if(b.reschain===c.reschain&&(b.resi===
c.resi||b.resi===c.resi-1))return!0;if(b.resi<c.resi){var d=b.x-c.x,e=b.y-c.y;b=b.z-c.z;if(16>d*d+e*e+b*b)return!0}}return!1},m=function(c,d,g,e,l){null!=d&&0!=d.vertices&&(l&&(d.initTypedArrays(),d.setUpNormals()),l=new b.MeshDoubleLambertMaterial,l.vertexColors=b.FaceColors,"number"==typeof g&&0<=g&&1>g&&(l.transparent=!0,l.opacity=g),l.outline=e,d=new b.Mesh(d,l),c.add(d))},k=function(c,d,g,e,l,k,r,m,q){var n,p,E;if(e&&l&&r){var y=l.sub(e);y.normalize();var G=m[q];for(q+=1;q<m.length&&(G=m[q]).atom!=
r.atom;q++);if((G=G?new b.Vector3(G.x,G.y,G.z):new b.Vector3(0,0,0)).sub(e),"arrow start"===r.ss)q=G.clone().multiplyScalar(.3).cross(l),e.add(q),q=G.clone().cross(y).normalize(),y.rotateAboutVector(q,.43);r.style.cartoon.ribbon?n=r.style.cartoon.thickness||.4:r.style.cartoon.width?n=r.style.cartoon.width:"c"===r.ss?n="P"===r.atom?.8:.5:"arrow start"===r.ss?(n=1.3,p=!0):n="arrow end"===r.ss?.5:"h"===r.ss&&r.style.cartoon.tubes||"tube start"===r.ss?.5:1.3;null!=k&&0>y.dot(k)&&y.negate();y.multiplyScalar(n);
for(q=0;q<d;q++)k=2*q/(d-1)-1,(k=new b.Vector3(e.x+k*y.x,e.y+k*y.y,e.z+k*y.z)).atom=r,g&&"s"===r.ss&&(k.smoothen=!0),c[q].push(k);if(p)for(y.multiplyScalar(2),q=0;q<d;q++)k=2*q/(d-1)-1,(k=new b.Vector3(e.x+k*y.x,e.y+k*y.y,e.z+k*y.z)).atom=r,k.smoothen=!1,k.skip=!0,c[q].push(k);return E=r.style.cartoon.style||"default",c.style?c.style!=E&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),c.style="default"):c.style=E,"arrow start"!==r.ss&&"arrow end"!==r.ss||(r.ss="s"),p}},r={C:!0,
CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},x={DA:!0,DG:!0,A:!0,G:!0},z={DT:!0,DC:!0,U:!0,C:!0,T:!0},v={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};return function(c,d,g,E){!function(c,d,g,n,E,N,p){var l,y,G,O,R,B,J,qa,H,U,X,W,L;N=N||5;p=p||5;var A=new b.Geometry(!0),F=new b.Geometry(!0),T=[],S=[],sa=1,ea=!1,Z={};for(Y in b.Gradient.builtinGradients)b.Gradient.builtinGradients.hasOwnProperty(Y)&&(Z[Y]=new b.Gradient.builtinGradients[Y](g[1],
g[0]));var Y=function(c,d){return g&&"spectrum"===d.color?d.colorscheme in Z?Z[d.colorscheme].valueToHex(c.resi):Z.sinebow.valueToHex(c.resi):b.getColorFromStyle(c,d).getHex()};for(R=0;R<N;R++)S[R]=[];var na=!1,ka=!1,za=[];for(R in d){if("C"===(y=d[R]).elem&&"CA"===y.atom){var ha=t(aa,y);ha&&"s"===y.ss?na=!0:na&&(aa&&da&&aa.style.cartoon.arrows&&da.style.cartoon.arrows&&(aa.ss="arrow end",da.ss="arrow start"),na=!1);ha&&("h"===aa.ss||"tube start"==aa.ss)&&aa.style.cartoon.tubes?!ka&&"tube start"!=
aa.ss&&y.style.cartoon.tubes&&(y.ss="tube start",ka=!0):ka&&("tube start"===aa.ss?aa.ss="tube end":da&&da.style.cartoon.tubes&&(da.ss="tube end"),ka=!1);var da=aa;var aa=y}y&&y.atom in r&&za.push(y)}ka&&aa.style.cartoon.tubes&&(aa.ss="tube end",ka=!1);d=function(d){for(var g=0;!O&&g<N;g++)e(c,S[g],1,0,p);n&&0<S[0].length&&q(F,S,T,p,O,0,S.style);var l=[],k=null;if(d){for(g=0;g<N;g++)l[g]=S[g][S[g].length-1];k=T[T.length-1]}S=[];for(g=0;g<N;g++)S[g]=[];if(T=[],d){for(g=0;g<N;g++)S[g].push(l[g]);T.push(k)}m(c,
F,sa,ea,!0);m(c,A,sa,ea,!1);F=new b.Geometry(!0);A=new b.Geometry(!0)};aa=void 0;for(da=0;da<za.length;da++)if(R=(y=za[da]).resn.trim(),na=R in v,sa=1,l=y.style.cartoon,aa&&aa.style.cartoon&&(sa=aa.style.cartoon.opacity),aa&&aa.style.cartoon&&aa.style.cartoon.outline&&(ea=aa.style.cartoon.outline),!aa||!aa.style.cartoon||y.style.cartoon&&aa.style.cartoon.opacity==y.style.cartoon.opacity||d(aa.chain==y.chain),S.length&&S[0].length>3E4/N/p/2&&d(!0),"trace"===l.style){if(!y.hetflag&&("C"===y.elem&&"CA"===
y.atom||na&&"P"===y.atom)){if(G=Y(y,l),O=I.isNumeric(l.thickness)?l.thickness:.4,t(aa,y))if(G==la){var la=b.CC.color(G);b.GLDraw.drawCylinder(A,aa,y,O,la,2,2)}else R=(new b.Vector3).addVectors(aa,y).multiplyScalar(.5),la=b.CC.color(la),na=b.CC.color(G),b.GLDraw.drawCylinder(A,aa,R,O,la,2,0),b.GLDraw.drawCylinder(A,R,y,O,na,0,2);aa=y;la=G}}else{if(y&&"C"===y.elem&&"CA"===y.atom||na&&("P"===y.atom||0==y.atom.indexOf("O5"))){if(pa)if("tube end"===y.ss){var pa=!1;R=new b.Vector3(y.x,y.y,y.z);b.GLDraw.drawCylinder(A,
L,R,2,b.CC.color(la),1,1);y.ss="h"}else{if(aa.chain==y.chain&&"tube end"!==aa.ss)continue;pa=!1;aa.ss="h";R=new b.Vector3(aa.x,aa.y,aa.z);b.GLDraw.drawCylinder(A,L,R,2,b.CC.color(la),1,1)}if(aa&&(!t(aa,y)||"tube start"===aa.ss)){"tube start"===aa.ss&&(pa=!0,L=new b.Vector3(aa.x,aa.y,aa.z),aa.ss="h");W&&(X=H?(new b.Vector3).addVectors(aa,H).multiplyScalar(.5):new b.Vector3(aa.x,aa.y,aa.z),b.GLDraw.drawCylinder(A,X,W,.4,b.CC.color(W.color),0,2),k(S,N,!E,H,U,qa,aa,za,da),T.push(G),X=null,W=null);for(R=
0;!O&&R<N;R++)e(c,S[R],1,0,p);n&&0<S[0].length&&q(F,S,T,p,O,0,S.style);S=[];for(R=0;R<N;R++)S[R]=[];T=[]}if(void 0===aa||aa.rescode!=y.rescode||aa.resi!=y.resi)W&&(aa=(X=(new b.Vector3).addVectors(aa,y).multiplyScalar(.5)).clone().sub(W).multiplyScalar(.02),X.add(aa),b.GLDraw.drawCylinder(A,X,W,.4,b.CC.color(W.color),0,2),W=X=null),G=Y(y,l),T.push(G),O=I.isNumeric(l.thickness)?l.thickness:.4,aa=y,(B=new b.Vector3(aa.x,aa.y,aa.z)).resi=aa.resi,la=G;!0!==y.clickable&&!0!==y.hoverable||void 0!==y.intersectionShape&&
void 0!==y.intersectionShape.triangle||(y.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else aa&&"C"===aa.elem&&"CA"===aa.atom&&"O"===y.atom||na&&"P"===aa.atom&&("OP2"===y.atom||"O2P"===y.atom)||na&&0==aa.atom.indexOf("O5")&&0==y.atom.indexOf("C5")?((J=new b.Vector3(y.x,y.y,y.z)).resi=y.resi,"OP2"!==y.atom&&"O2P"!==y.atom||(U=new b.Vector3(y.x,y.y,y.z))):na&&0==y.atom.indexOf("O3")?H=new b.Vector3(y.x,y.y,y.z):("N1"===y.atom&&R in x||"N3"===y.atom&&R in z)&&((W=new b.Vector3(y.x,
y.y,y.z)).color=b.getColorFromStyle(y,l).getHex());J&&B&&J.resi===B.resi&&(k(S,N,!E,B,J,qa,aa,za,da),qa=J,B=null,J=null,T.push(G))}W&&(X=H?(new b.Vector3).addVectors(aa,H).multiplyScalar(.5):new b.Vector3(aa.x,aa.y,aa.z),b.GLDraw.drawCylinder(A,X,W,.4,b.CC.color(W.color),0,2),k(S,N,!E,H,U,qa,aa,za,da),T.push(G));d()}(c,d,g,!0,!1,E=E||5,E)}}();b=b||{};b.CAP={NONE:0,FLAT:1,ROUND:2};b.GLDraw=function(){var c,e={},q=(c=new b.Vector3,function(b){c.set(b[0],b[1],b[2]);var e,k,r,n,d;b=c.x;var g=c.y,m=c.z,
l=Math.sqrt(b*b+g*g);1E-4>l?(k=0,r=1):(k=-b/l,r=g/l);g=-k*b+r*g;1E-4>(e=Math.sqrt(g*g+m*m))?(n=0,d=1):(n=m/e,d=g/e);e=new Float32Array(9);return e[0]=r,e[1]=k,e[2]=0,e[3]=-k*d,e[4]=r*d,e[5]=n,e[6]=k*n,e[7]=-r*n,e[8]=d,e}),t=function(){var c,e=[],k=Math.pow(2,4),m,n=Math.pow(2,2),d=k/n;e[0]=new b.Vector3(-1,0,0);e[d]=new b.Vector3(0,0,1);e[2*d]=new b.Vector3(1,0,0);e[3*d]=new b.Vector3(0,0,-1);for(m=3;4>=m;m++){d=k/(n=Math.pow(2,m-1));for(c=0;c<n-1;c++)e[d/2+c*d]=e[c*d].clone().add(e[(c+1)*d]).normalize();
e[d/2+(c=n-1)*d]=e[c*d].clone().add(e[0]).normalize()}return e}(),m={cache:{},getVerticesForRadius:function(c,e,k){if(void 0!==this.cache[c]&&void 0!==this.cache[c][e+k])return this.cache[c][e+k];for(var m,n=t.length,d=[],g=[],r=0;r<n;r++)d.push(t[r].clone().multiplyScalar(c)),d.push(t[r].clone().multiplyScalar(c)),m=t[r].clone().normalize(),g.push(m),g.push(m);r=[];var l,q,G=2*Math.PI,y=Math.PI;for(q=0;10>=q;q++){var x=0===q||10===q;var N=5===q;var p=[],z=[];for(l=0;l<=n;l++)if(N){var M=l<n?2*l:
0;z.push(M+1);p.push(M)}else{M=l/n;var Q=q/10;if(x&&0!==l)x&&p.push(d.length-1);else if(l<n){var B=new b.Vector3;B.x=-c*Math.cos(M*G)*Math.sin(Q*y);B.y=1==e?0:c*Math.cos(Q*y);B.z=c*Math.sin(M*G)*Math.sin(Q*y);1E-5>Math.abs(B.x)&&(B.x=0);1E-5>Math.abs(B.y)&&(B.y=0);1E-5>Math.abs(B.z)&&(B.z=0);e==b.CAP.FLAT?(m=new b.Vector3(0,Math.cos(Q*y),0)).normalize():(m=new b.Vector3(B.x,B.y,B.z)).normalize();d.push(B);g.push(m);p.push(d.length-1)}else p.push(d.length-n)}N&&r.push(z);r.push(p)}m={vertices:d,normals:g,
verticesRows:r,w:n,h:10};return c in this.cache||(this.cache[c]={}),this.cache[c][e+k]=m,m}};e.drawCylinder=function(b,c,e,k,n,d,g){if(c&&e){0;var r=g||d;n=n||{r:0,g:0,b:0};var l=[e.x,e.y,e.z];l[0]-=c.x;l[1]-=c.y;l[2]-=c.z;var t;l=q(l);var G=m.getVerticesForRadius(k,g,"to");var y=G.w,x=G.h,N=r?x*y+2:2*y;b=b.updateGeoGroup(N);var p=G.vertices,v=G.normals,z=G.verticesRows,Q=z[x/2],B=z[x/2+1],K=b.vertices,P=b.vertexArray,J=b.normalArray,I=b.colorArray,H=b.faceArray;for(t=0;t<y;++t){var U=2*t;var X=l[0]*
p[U].x+l[3]*p[U].y+l[6]*p[U].z;G=l[1]*p[U].x+l[4]*p[U].y+l[7]*p[U].z;var W=l[5]*p[U].y+l[8]*p[U].z;var L=3*(K+U);U=b.faceidx;P[L]=X+c.x;P[L+1]=G+c.y;P[L+2]=W+c.z;P[L+3]=X+e.x;P[L+4]=G+e.y;P[L+5]=W+e.z;J[L]=X;J[L+3]=X;J[L+1]=G;J[L+4]=G;J[L+2]=W;J[L+5]=W;I[L]=n.r;I[L+3]=n.r;I[L+1]=n.g;I[L+4]=n.g;I[L+2]=n.b;I[L+5]=n.b;H[U]=B[t]+K;H[U+1]=B[t+1]+K;H[U+2]=Q[t]+K;H[U+3]=Q[t]+K;H[U+4]=B[t+1]+K;H[U+5]=Q[t+1]+K;b.faceidx+=6}if(r)for(r=d?x+1:x/2+1,G=g?0:x/2;G<r;G++)if(G!==x/2)for(t=G<=x/2?e:c,X=m.getVerticesForRadius(k,
g,"to"),U=m.getVerticesForRadius(k,d,"from"),t===e?(p=X.vertices,v=X.normals,z=X.verticesRows):t==c&&(p=U.vertices,v=U.normals,z=U.verticesRows),X=0;X<y;X++){U=b.faceidx;var A=3*((W=z[G][X+1])+K);var F=3*((Q=z[G][X])+K);var T=3*((B=z[G+1][X])+K);var S=3*((L=z[G+1][X+1])+K);var sa=l[0]*p[W].x+l[3]*p[W].y+l[6]*p[W].z;var ea=l[0]*p[Q].x+l[3]*p[Q].y+l[6]*p[Q].z;var Z=l[0]*p[B].x+l[3]*p[B].y+l[6]*p[B].z;var Y=l[0]*p[L].x+l[3]*p[L].y+l[6]*p[L].z;var na=l[1]*p[W].x+l[4]*p[W].y+l[7]*p[W].z;var ka=l[1]*p[Q].x+
l[4]*p[Q].y+l[7]*p[Q].z;var za=l[1]*p[B].x+l[4]*p[B].y+l[7]*p[B].z;var ha=l[1]*p[L].x+l[4]*p[L].y+l[7]*p[L].z;var da=l[5]*p[W].y+l[8]*p[W].z;var aa=l[5]*p[Q].y+l[8]*p[Q].z;var la=l[5]*p[B].y+l[8]*p[B].z;var pa=l[5]*p[L].y+l[8]*p[L].z;P[A]=sa+t.x;P[F]=ea+t.x;P[T]=Z+t.x;P[S]=Y+t.x;P[A+1]=na+t.y;P[F+1]=ka+t.y;P[T+1]=za+t.y;P[S+1]=ha+t.y;P[A+2]=da+t.z;P[F+2]=aa+t.z;P[T+2]=la+t.z;P[S+2]=pa+t.z;I[A]=n.r;I[F]=n.r;I[T]=n.r;I[S]=n.r;I[A+1]=n.g;I[F+1]=n.g;I[T+1]=n.g;I[S+1]=n.g;I[A+2]=n.b;I[F+2]=n.b;I[T+2]=
n.b;I[S+2]=n.b;sa=l[0]*v[W].x+l[3]*v[W].y+l[6]*v[W].z;ea=l[0]*v[Q].x+l[3]*v[Q].y+l[6]*v[Q].z;Z=l[0]*v[B].x+l[3]*v[B].y+l[6]*v[B].z;Y=l[0]*v[L].x+l[3]*v[L].y+l[6]*v[L].z;na=l[1]*v[W].x+l[4]*v[W].y+l[7]*v[W].z;ka=l[1]*v[Q].x+l[4]*v[Q].y+l[7]*v[Q].z;za=l[1]*v[B].x+l[4]*v[B].y+l[7]*v[B].z;ha=l[1]*v[L].x+l[4]*v[L].y+l[7]*v[L].z;da=l[5]*v[W].y+l[8]*v[W].z;aa=l[5]*v[Q].y+l[8]*v[Q].z;la=l[5]*v[B].y+l[8]*v[B].z;pa=l[5]*v[L].y+l[8]*v[L].z;0===G?(J[A]=sa,J[T]=Z,J[S]=Y,J[A+1]=na,J[T+1]=za,J[S+1]=ha,J[A+2]=da,
J[T+2]=la,J[S+2]=pa,H[U]=W+K,H[U+1]=B+K,H[U+2]=L+K,b.faceidx+=3):G===r-1?(J[A]=sa,J[F]=ea,J[T]=Z,J[A+1]=na,J[F+1]=ka,J[T+1]=za,J[A+2]=da,J[F+2]=aa,J[T+2]=la,H[U]=W+K,H[U+1]=Q+K,H[U+2]=B+K,b.faceidx+=3):(J[A]=sa,J[F]=ea,J[S]=Y,J[A+1]=na,J[F+1]=ka,J[S+1]=ha,J[A+2]=da,J[F+2]=aa,J[S+2]=pa,J[F]=ea,J[T]=Z,J[S]=Y,J[F+1]=ka,J[T+1]=za,J[S+1]=ha,J[F+2]=aa,J[T+2]=la,J[S+2]=pa,H[U]=W+K,H[U+1]=Q+K,H[U+2]=L+K,H[U+3]=Q+K,H[U+4]=B+K,H[U+5]=L+K,b.faceidx+=6)}b.vertices+=N}};e.drawCone=function(c,e,k,m,n){if(e&&k){n=
n||{r:0,g:0,b:0};var d=[k.x,k.y,k.z];d.x-=e.x;d.y-=e.y;d.z-=e.z;var g=q(d),r=t.length;c=c.updateGeoGroup(r+2);var l=c.vertices,O=c.vertexArray,G=c.normalArray,y=c.colorArray,x=c.faceArray;var v=3*l;d=(new b.Vector3(d[0],d[1],d[2])).normalize();O[v]=e.x;O[v+1]=e.y;O[v+2]=e.z;G[v]=-d.x;G[v+1]=-d.y;G[v+2]=-d.z;y[v]=n.r;y[v+1]=n.g;y[v+2]=n.b;O[v+3]=k.x;O[v+4]=k.y;O[v+5]=k.z;G[v+3]=d.x;G[v+4]=d.y;G[v+5]=d.z;y[v+3]=n.r;y[v+4]=n.g;y[v+5]=n.b;v+=6;for(k=0;k<r;++k){var p=t[k].clone();p.multiplyScalar(m);d=
g[0]*p.x+g[3]*p.y+g[6]*p.z;var z=g[1]*p.x+g[4]*p.y+g[7]*p.z;p=g[5]*p.y+g[8]*p.z;O[v]=d+e.x;O[v+1]=z+e.y;O[v+2]=p+e.z;G[v]=d;G[v+1]=z;G[v+2]=p;y[v]=n.r;y[v+1]=n.g;y[v+2]=n.b;v+=3}c.vertices+=r+2;e=c.faceidx;for(k=0;k<r;k++)m=l+2+k,n=l+2+(k+1)%r,x[e]=m,x[e+1]=n,x[e+2]=l,x[e+=3]=m,x[e+1]=n,x[e+2]=l+1,e+=3;c.faceidx+=6*r}};var k={cache:{},getVerticesForRadius:function(c){if(void 0!==this.cache[c])return this.cache[c];var e={vertices:[],verticesRows:[],normals:[]},k=16,m=10;1>c&&(k=10,m=8);var n,d,g=2*
Math.PI,r=Math.PI;for(d=0;d<=m;d++){var l=[];for(n=0;n<=k;n++){var q=n/k,G=d/m,y={};y.x=-c*Math.cos(q*g)*Math.sin(G*r);y.y=c*Math.cos(G*r);y.z=c*Math.sin(q*g)*Math.sin(G*r);q=new b.Vector3(y.x,y.y,y.z);q.normalize();e.vertices.push(y);e.normals.push(q);l.push(e.vertices.length-1)}e.verticesRows.push(l)}return this.cache[c]=e,e}};return e.drawSphere=function(b,c,e,m){var n=k.getVerticesForRadius(e),d=n.vertices,g=n.normals;b=b.updateGeoGroup(d.length);for(var r=b.vertices,l=b.vertexArray,q=b.colorArray,
G=b.faceArray,y=b.lineArray,t=b.normalArray,v=0,p=d.length;v<p;++v){var x=3*(r+v),M=d[v];l[x]=M.x+c.x;l[x+1]=M.y+c.y;l[x+2]=M.z+c.z;q[x]=m.r;q[x+1]=m.g;q[x+2]=m.b}b.vertices+=d.length;n=n.verticesRows;l=n.length-1;for(m=0;m<l;m++)for(q=n[m].length-1,c=0;c<q;c++){v=b.faceidx;p=b.lineidx;x=n[m][c+1]+r;M=3*x;var z=n[m][c]+r,B=3*z,K=n[m+1][c]+r,P=3*K,J=n[m+1][c+1]+r,I=3*J,H=g[x-r],U=g[z-r],X=g[K-r],W=g[J-r];Math.abs(d[x-r].y)===e?(t[M]=H.x,t[P]=X.x,t[I]=W.x,t[M+1]=H.y,t[P+1]=X.y,t[I+1]=W.y,t[M+2]=H.z,
t[P+2]=X.z,t[I+2]=W.z,G[v]=x,G[v+1]=K,G[v+2]=J,y[p]=x,y[p+1]=K,y[p+2]=x,y[p+3]=J,y[p+4]=K,y[p+5]=J,b.faceidx+=3,b.lineidx+=6):Math.abs(d[K-r].y)===e?(t[M]=H.x,t[B]=U.x,t[P]=X.x,t[M+1]=H.y,t[B+1]=U.y,t[P+1]=X.y,t[M+2]=H.z,t[B+2]=U.z,t[P+2]=X.z,G[v]=x,G[v+1]=z,G[v+2]=K,y[p]=x,y[p+1]=z,y[p+2]=x,y[p+3]=K,y[p+4]=z,y[p+5]=K,b.faceidx+=3,b.lineidx+=6):(t[M]=H.x,t[B]=U.x,t[I]=W.x,t[M+1]=H.y,t[B+1]=U.y,t[I+1]=W.y,t[M+2]=H.z,t[B+2]=U.z,t[I+2]=W.z,t[B]=U.x,t[P]=X.x,t[I]=W.x,t[B+1]=U.y,t[P+1]=X.y,t[I+1]=W.y,
t[B+2]=U.z,t[P+2]=X.z,t[I+2]=W.z,G[v]=x,G[v+1]=z,G[v+2]=J,G[v+3]=z,G[v+4]=K,G[v+5]=J,y[p]=x,y[p+1]=z,y[p+2]=x,y[p+3]=J,y[p+4]=z,y[p+5]=K,y[p+6]=K,y[p+7]=J,b.faceidx+=6,b.lineidx+=8)}},e}();b=b||{};b.GLModel=function(){function c(m,k){var r=[],t=[],z=null,v=null,n=!1,d=null,g=null,E=null,l={},O=new b.Matrix4,G=!0,y=b.elementColors.defaultColor,R=(k=k||{}).defaultcolors?k.defaultcolors:b.elementColors.defaultColors,N=k.defaultSphereRadius?k.defaultSphereRadius:1.5,p=k.cartoonQuality?k.cartoonQuality:
5,B=function(b,c){var d=N;return void 0!==c.radius?d=c.radius:q[b.elem]&&(d=q[b.elem]),void 0!==c.scale&&(d*=c.scale),d},M=function(c,d,g){var e,l,k,p,n,m=new b.Vector3(c.x,c.y,c.z),q=(new b.Vector3(d.x,d.y,d.z)).clone(),A=null;q.sub(m);var y=function(c,d){for(var g=null,e=-1,y=0,E=c.bonds.length;y<E;y++)if(c.bonds[y]!=d.index){l=c.bonds[y];k=r[l];p=new b.Vector3(k.x,k.y,k.z);(n=p.clone()).sub(m);(A=n.clone()).cross(q);var t=A.lengthSq();if(t>e&&(g=A,.1<(e=t)))break}return g};1===c.bonds.length?1===
d.bonds.length?(A=q.clone(),1E-4<Math.abs(A.x)?A.y+=1:A.x+=1):(e=(g+1)%d.bonds.length,l=d.bonds[e],k=r[l],p=new b.Vector3(k.x,k.y,k.z),(n=p.clone()).sub(m),(A=n.clone()).cross(q)):.01>(A=y(c,d)).lengthSq()&&(c=y(d,c),null!=c&&(A=c));return.01>A.lengthSq()&&(A=q.clone(),1E-4<Math.abs(A.x)?A.y+=1:A.x+=1),A.cross(q),A.normalize(),A},Q=function(b,c,d,g,e,l){b[d]=g.x;b[d+1]=g.y;b[d+2]=g.z;c[d]=l.r;c[d+1]=l.g;c[d+2]=l.b;b[d+3]=e.x;b[d+4]=e.y;b[d+5]=e.z;c[d+3]=l.r;c[d+4]=l.g;c[d+5]=l.b},ca=function(c,d){if(c.style.sphere){var g=
c.style.sphere;if(!g.hidden){var e=b.getColorFromStyle(c,g);g=B(c,g);if((!0===c.clickable||c.hoverable)&&void 0!==c.intersectionShape){var l=new b.Vector3(c.x,c.y,c.z);c.intersectionShape.sphere.push(new b.Sphere(l,g))}b.GLDraw.drawSphere(d,c,g,e)}}},K=function(c,d){if(c.style.sphere){var g=c.style.sphere;if(!g.hidden){var e=B(c,g);g=b.getColorFromStyle(c,g);d=d.updateGeoGroup(1);var l=d.vertices,k=3*l,p=d.vertexArray,n=d.colorArray,m=d.radiusArray;(p[k]=c.x,p[k+1]=c.y,p[k+2]=c.z,n[k]=g.r,n[k+1]=
g.g,n[k+2]=g.b,m[l]=e,!0!==c.clickable&&!c.hoverable||void 0===c.intersectionShape)||(g=new b.Vector3(c.x,c.y,c.z),c.intersectionShape.sphere.push(new b.Sphere(g,e)));d.vertices+=1}}},P=function(b,c,d,g){var e;b=b.updateGeoGroup(4);var l=b.vertices,k=3*l,p=b.vertexArray,n=b.colorArray;for(e=0;4>e;e++)p[k+3*e]=c.x,p[k+3*e+1]=c.y,p[k+3*e+2]=c.z;c=b.normalArray;for(e=0;4>e;e++)n[k+3*e]=g.r,n[k+3*e+1]=g.g,n[k+3*e+2]=g.b;c[k+0]=-d;c[k+1]=d;c[k+2]=0;c[k+3]=-d;c[k+4]=-d;c[k+5]=0;c[k+6]=d;c[k+7]=-d;c[k+8]=
0;c[k+9]=d;c[k+10]=d;c[k+11]=0;b.vertices+=4;d=b.faceArray;g=b.faceidx;d[g+0]=l;d[g+1]=l+1;d[g+2]=l+2;d[g+3]=l+2;d[g+4]=l+3;d[g+5]=l;b.faceidx+=6},J=function(c,d){if(c.style.sphere){var g=c.style.sphere;if(!g.hidden){var e=B(c,g);g=b.getColorFromStyle(c,g);if((!0===c.clickable||c.hoverable)&&void 0!==c.intersectionShape){var l=new b.Vector3(c.x,c.y,c.z);c.intersectionShape.sphere.push(new b.Sphere(l,e))}P(d,c,e,g)}}},H=function(b,c,d,g,e){var l;b=b.updateGeoGroup(4);var k=b.vertices,p=b.vertexArray,
n=b.colorArray,m=b.radiusArray,r=b.normalArray,q=e.r,A=e.g;e=e.b;for(var y=3*k,E=0;4>E;E++)p[y]=c.x,r[y]=d.x,n[y]=q,p[++y]=c.y,r[y]=d.y,n[y]=A,p[++y]=c.z,r[y]=d.z,n[y]=2>E?e:(l=void 0,0==(l=-e)&&(l=-1E-4),l),y++;b.vertices+=4;m[k]=-g;m[k+1]=g;m[k+2]=-g;m[k+3]=g;c=b.faceArray;d=b.faceidx;c[d+0]=k;c[d+1]=k+1;c[d+2]=k+2;c[d+3]=k+2;c[d+4]=k+3;c[d+5]=k;b.faceidx+=6},Ga=function(c,d){d=d||{};var g,e,k,n=new b.Object3D,m=[],r={},q={},A=ca,y=null,E=null;d.supportsImposters?(A=J,(y=new b.Geometry(!0)).imposter=
!0,(E=new b.Geometry(!0,!0)).imposter=!0,E.sphereGeometry=new b.Geometry(!0),E.sphereGeometry.imposter=!0,E.drawnCaps={}):d.supportsAIA?(A=K,(y=new b.Geometry(!1,!0,!0)).instanced=!0,E=new b.Geometry(!0)):(y=new b.Geometry(!0),E=new b.Geometry(!0));var t={},v=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];var O=0;for(e=c.length;O<e;O++){var x=c[O];if(x&&x.style){for(g in(x.clickable||x.hoverable)&&void 0===x.intersectionShape&&(x.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),
k={line:void 0,cross:void 0,stick:void 0,sphere:void 0})x.style[g]?x.style[g].opacity?k[g]=parseFloat(x.style[g].opacity):k[g]=1:k[g]=void 0,t[g]?null!=k[g]&&t[g]!=k[g]&&(console.log("Warning: "+g+" opacity is ambiguous"),t[g]=1):t[g]=k[g];A(x,y);var L=x;if(L.style.clicksphere){var R=L.style.clicksphere;if(!R.hidden){var N=B(L,R);if((!0===L.clickable||L.hoverable)&&void 0!==L.intersectionShape){var z=new b.Vector3(L.x,L.y,L.z);L.intersectionShape.sphere.push(new b.Sphere(z,N))}}}var V=x,I=q;if(V.style.cross){var W=
V.style.cross;if(!W.hidden){var U=W.linewidth||1;I[U]||(I[U]=new b.Geometry);var X=I[U].updateGeoGroup(6),u=B(V,W),qa=[[u,0,0],[-u,0,0],[0,u,0],[0,-u,0],[0,0,u],[0,0,-u]],Ga=V.clickable||V.hoverable;Ga&&void 0===V.intersectionShape&&(V.intersectionShape={sphere:[],cylinder:[],line:[]});for(var ba=b.getColorFromStyle(V,W),ia=X.vertexArray,Za=X.colorArray,w=0;6>w;w++){var Ea=3*X.vertices;if(X.vertices++,ia[Ea]=V.x+qa[w][0],ia[Ea+1]=V.y+qa[w][1],ia[Ea+2]=V.z+qa[w][2],Za[Ea]=ba.r,Za[Ea+1]=ba.g,Za[Ea+
2]=ba.b,Ga){var db=new b.Vector3(qa[w][0],qa[w][1],qa[w][2]);db.multiplyScalar(.1);db.set(db.x+V.x,db.y+V.y,db.z+V.z);V.intersectionShape.line.push(db)}}}}var hb=void 0,Fa=void 0,ib=void 0,jb=void 0,Ha=x,Ka=c,Oa=r;if(Ha.style.line){var hc=Ha.style.line;if(!hc.hidden){var $a=hc.linewidth||1;Oa[$a]||(Oa[$a]=new b.Geometry);for(var Ja=Oa[$a].updateGeoGroup(6*Ha.bonds.length),Ia=Ja.vertexArray,fa=Ja.colorArray,ja=0;ja<Ha.bonds.length;ja++){var Ca=Ka[Ha.bonds[ja]];if(Ca.style.line&&!(Ha.serial>=Ca.serial)){var Ya=
new b.Vector3(Ha.x,Ha.y,Ha.z),ma=new b.Vector3(Ca.x,Ca.y,Ca.z),va=Ya.clone().add(ma).multiplyScalar(.5),wa=!1,Xa=Ha.clickable||Ha.hoverable,Wb=Ca.clickable||Ca.hoverable;(Xa||Wb)&&(Xa&&(void 0===Ha.intersectionShape&&(Ha.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Ha.intersectionShape.line.push(Ya),Ha.intersectionShape.line.push(va)),Wb&&(void 0===Ca.intersectionShape&&(Ca.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Ca.intersectionShape.line.push(va),Ca.intersectionShape.line.push(ma)));
var ya=b.getColorFromStyle(Ha,Ha.style.line),Qa=b.getColorFromStyle(Ca,Ca.style.line);if(Ha.bondStyles&&Ha.bondStyles[ja]){var ub=Ha.bondStyles[ja];if(!ub.iswire)continue;ub.singleBond&&(wa=!0);void 0!==ub.color1&&(ya=b.CC.color(ub.color1));void 0!==ub.color2&&(Qa=b.CC.color(ub.color2))}var pb,ab,La=3*Ja.vertices;if(1<Ha.bondOrder[ja]&&4>Ha.bondOrder[ja]&&!wa){var Kb=M(Ha,Ca,ja),bb=ma.clone();bb.sub(Ya);2==Ha.bondOrder[ja]?(Kb.multiplyScalar(.1),(jb=Ya.clone()).add(Kb),(ib=Ya.clone()).sub(Kb),(Fa=
jb.clone()).add(bb),(hb=ib.clone()).add(bb),ya==Qa?(Ja.vertices+=4,Q(Ia,fa,La,jb,Fa,ya),Q(Ia,fa,La+6,ib,hb,ya)):(Ja.vertices+=8,bb.multiplyScalar(.5),(pb=jb.clone()).add(bb),(ab=ib.clone()).add(bb),Q(Ia,fa,La,jb,pb,ya),Q(Ia,fa,La+6,pb,Fa,Qa),Q(Ia,fa,La+12,ib,ab,ya),Q(Ia,fa,La+18,ab,hb,Qa))):3==Ha.bondOrder[ja]&&(Kb.multiplyScalar(.1),(jb=Ya.clone()).add(Kb),(ib=Ya.clone()).sub(Kb),(Fa=jb.clone()).add(bb),(hb=ib.clone()).add(bb),ya==Qa?(Ja.vertices+=6,Q(Ia,fa,La,Ya,ma,ya),Q(Ia,fa,La+6,jb,Fa,ya),Q(Ia,
fa,La+12,ib,hb,ya)):(Ja.vertices+=12,bb.multiplyScalar(.5),(pb=jb.clone()).add(bb),(ab=ib.clone()).add(bb),Q(Ia,fa,La,Ya,va,ya),Q(Ia,fa,La+6,va,ma,Qa),Q(Ia,fa,La+12,jb,pb,ya),Q(Ia,fa,La+18,pb,Fa,Qa),Q(Ia,fa,La+24,ib,ab,ya),Q(Ia,fa,La+30,ab,hb,Qa)))}else ya==Qa?(Ja.vertices+=2,Q(Ia,fa,La,Ya,ma,ya)):(Ja.vertices+=4,Q(Ia,fa,La,Ya,va,ya),Q(Ia,fa,La+6,va,ma,Qa))}}}}var kb=void 0,cb=void 0,Ra=void 0,fb=void 0,Vb=void 0,Xb=void 0,mc=void 0,Sb=void 0,Yb=void 0,qb=void 0,Hb=void 0,Sa=void 0,tb=void 0,mb=void 0,
ta=x,cc=c,Ma=E;if(ta.style.stick){var Ob=ta.style.stick;if(!Ob.hidden){var Bb=Ob.radius||.25,Va=Bb,nc=Ob.singleBonds||!1,Rb=0,gb=0,Ta=b.getColorFromStyle(ta,Ob);!ta.capDrawn&&4>ta.bonds.length&&(Rb=2);var Wa=b.GLDraw.drawCylinder;Ma.imposter&&(Wa=H);for(Sa=0;Sa<ta.bonds.length;Sa++){var Pa=cc[ta.bonds[Sa]];if(ta.serial<Pa.serial){var Lb=Pa.style;if(Lb.stick&&!Lb.stick.hidden){var vb=b.getColorFromStyle(Pa,Lb.stick);if(Va=Bb,Hb=nc,ta.bondStyles&&ta.bondStyles[Sa]){if((qb=ta.bondStyles[Sa]).iswire)continue;
qb.radius&&(Va=qb.radius);qb.singleBond&&(Hb=!0);void 0!==qb.color1&&(Ta=b.CC.color(qb.color1));void 0!==qb.color2&&(vb=b.CC.color(qb.color2))}var Ua=new b.Vector3(ta.x,ta.y,ta.z),nb=new b.Vector3(Pa.x,Pa.y,Pa.z);if(1===ta.bondOrder[Sa]||Hb){if(!Pa.capDrawn&&4>Pa.bonds.length&&(gb=2),Ta!=vb?(Wa(Ma,Ua,Ra=(new b.Vector3).addVectors(Ua,nb).multiplyScalar(.5),Va,Ta,Rb,0),Wa(Ma,Ra,nb,Va,vb,0,gb)):Wa(Ma,Ua,nb,Va,Ta,Rb,gb),mb=ta.clickable||ta.hoverable,tb=Pa.clickable||Pa.hoverable,mb||tb){if(Ra||(Ra=(new b.Vector3).addVectors(Ua,
nb).multiplyScalar(.5)),mb){var ic=new b.Cylinder(Ua,Ra,Va),oc=new b.Sphere(Ua,Va);ta.intersectionShape.cylinder.push(ic);ta.intersectionShape.sphere.push(oc)}if(tb){var jc=new b.Cylinder(nb,Ra,Va),Tb=new b.Sphere(nb,Va);Pa.intersectionShape.cylinder.push(jc);Pa.intersectionShape.sphere.push(Tb)}}}else if(1<ta.bondOrder[Sa]){var Cb=0,wb=0;Va!=Bb&&(Cb=2,wb=2);var Da,eb,lb,rb,sb,Mb=nb.clone(),xb=null;Mb.sub(Ua);xb=M(ta,Pa,Sa);2==ta.bondOrder[Sa]?(Da=Va/2.5,(xb=M(ta,Pa,Sa)).multiplyScalar(1.5*Da),(eb=
Ua.clone()).add(xb),(lb=Ua.clone()).sub(xb),(rb=eb.clone()).add(Mb),(sb=lb.clone()).add(Mb),Ta!=vb?(Ra=(new b.Vector3).addVectors(eb,rb).multiplyScalar(.5),cb=(new b.Vector3).addVectors(lb,sb).multiplyScalar(.5),Wa(Ma,eb,Ra,Da,Ta,Cb,0),Wa(Ma,Ra,rb,Da,vb,0,wb),Wa(Ma,lb,cb,Da,Ta,Cb,0),Wa(Ma,cb,sb,Da,vb,0,wb)):(Wa(Ma,eb,rb,Da,Ta,Cb,wb),Wa(Ma,lb,sb,Da,Ta,Cb,wb)),mb=ta.clickable||ta.hoverable,tb=Pa.clickable||Pa.hoverable,(mb||tb)&&(Ra||(Ra=(new b.Vector3).addVectors(eb,rb).multiplyScalar(.5)),cb||(cb=
(new b.Vector3).addVectors(lb,sb).multiplyScalar(.5)),mb&&(Yb=new b.Cylinder(eb,Ra,Da),Sb=new b.Cylinder(lb,cb,Da),ta.intersectionShape.cylinder.push(Yb),ta.intersectionShape.cylinder.push(Sb)),tb&&(Xb=new b.Cylinder(rb,Ra,Da),Vb=new b.Cylinder(sb,cb,Da),Pa.intersectionShape.cylinder.push(Xb),Pa.intersectionShape.cylinder.push(Vb)))):3==ta.bondOrder[Sa]&&(Da=Va/4,xb.cross(Mb),xb.normalize(),xb.multiplyScalar(3*Da),(eb=Ua.clone()).add(xb),(lb=Ua.clone()).sub(xb),(rb=eb.clone()).add(Mb),(sb=lb.clone()).add(Mb),
Ta!=vb?(Ra=(new b.Vector3).addVectors(eb,rb).multiplyScalar(.5),cb=(new b.Vector3).addVectors(lb,sb).multiplyScalar(.5),kb=(new b.Vector3).addVectors(Ua,nb).multiplyScalar(.5),Wa(Ma,eb,Ra,Da,Ta,Cb,0),Wa(Ma,Ra,rb,Da,vb,0,wb),Wa(Ma,Ua,kb,Da,Ta,Rb,0),Wa(Ma,kb,nb,Da,vb,0,gb),Wa(Ma,lb,cb,Da,Ta,Cb,0),Wa(Ma,cb,sb,Da,vb,0,wb)):(Wa(Ma,eb,rb,Da,Ta,Cb,wb),Wa(Ma,Ua,nb,Da,Ta,Rb,gb),Wa(Ma,lb,sb,Da,Ta,Cb,wb)),mb=ta.clickable||ta.hoverable,tb=Pa.clickable||Pa.hoverable,(mb||tb)&&(Ra||(Ra=(new b.Vector3).addVectors(eb,
rb).multiplyScalar(.5)),cb||(cb=(new b.Vector3).addVectors(lb,sb).multiplyScalar(.5)),kb||(kb=(new b.Vector3).addVectors(Ua,nb).multiplyScalar(.5)),mb&&(Yb=new b.Cylinder(eb.clone(),Ra.clone(),Da),Sb=new b.Cylinder(lb.clone(),cb.clone(),Da),mc=new b.Cylinder(Ua.clone(),kb.clone(),Da),ta.intersectionShape.cylinder.push(Yb),ta.intersectionShape.cylinder.push(Sb),ta.intersectionShape.cylinder.push(mc)),tb&&(Xb=new b.Cylinder(rb.clone(),Ra.clone(),Da),Vb=new b.Cylinder(sb.clone(),cb.clone(),Da),fb=new b.Cylinder(nb.clone(),
kb.clone(),Da),Pa.intersectionShape.cylinder.push(Xb),Pa.intersectionShape.cylinder.push(Vb),Pa.intersectionShape.cylinder.push(fb))))}}}}var Zb=!1,Ub=0,pc=!1;for(Sa=0;Sa<ta.bonds.length;Sa++)Hb=nc,ta.bondStyles&&ta.bondStyles[Sa]&&((qb=ta.bondStyles[Sa]).singleBond&&(Hb=!0),qb.radius&&qb.radius!=Bb&&(pc=!0)),(Hb||1==ta.bondOrder[Sa])&&Ub++;pc?0<Ub&&(Zb=!0):0==Ub&&0<ta.bonds.length&&(Zb=!0);Zb&&(Va=Bb,Ma.imposter?P(Ma.sphereGeometry,ta,Va,Ta):b.GLDraw.drawSphere(Ma,ta,Va,Ta))}}void 0===x.style.cartoon||
x.style.cartoon.hidden||("spectrum"!==x.style.cartoon.color||"number"!=typeof x.resi||x.hetflag||(x.resi<v[0]&&(v[0]=x.resi),x.resi>v[1]&&(v[1]=x.resi)),m.push(x))}}if(0<m.length&&b.drawCartoon(n,m,v,p),y&&0<y.vertices){y.initTypedArrays();var yb=null,Fb=null;y.imposter?yb=new b.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):y.instanced?(Fb=new b.Geometry(!0),b.GLDraw.drawSphere(Fb,{x:0,y:0,z:0},1,new b.Color(.5,.5,.5)),Fb.initTypedArrays(),yb=new b.InstancedMaterial({sphereMaterial:new b.MeshLambertMaterial({ambient:0,
vertexColors:!0,reflectivity:0}),sphere:Fb})):yb=new b.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});1>t.sphere&&0<=t.sphere&&(yb.transparent=!0,yb.opacity=t.sphere);Fb=new b.Mesh(y,yb);n.add(Fb)}if(0<E.vertices){var Ib=null,Gb=null,Db=E.sphereGeometry;Db&&void 0!==Db.vertices&&0!=Db.vertices||(Db=null);E.initTypedArrays();Db&&Db.initTypedArrays();var Jb={ambient:0,vertexColors:!0,reflectivity:0};E.imposter?(Ib=new b.StickImposterMaterial(Jb),Gb=new b.SphereImposterMaterial(Jb)):
(Ib=new b.MeshLambertMaterial(Jb),Gb=new b.MeshLambertMaterial(Jb),Ib.wireframe&&(E.setUpWireframe(),Db&&Db.setUpWireframe()));1>t.stick&&0<=t.stick&&(Ib.transparent=!0,Ib.opacity=t.stick,Gb.transparent=!0,Gb.opacity=t.stick);var h=new b.Mesh(E,Ib);if(n.add(h),Db){var C=new b.Mesh(Db,Gb);n.add(C)}}for(O in r)if(r.hasOwnProperty(O)){var ob=O;var $b=new b.LineBasicMaterial({linewidth:ob,vertexColors:!0});1>t.line&&0<=t.line&&($b.transparent=!0,$b.opacity=t.line);r[O].initTypedArrays();var f=new b.Line(r[O],
$b,b.LinePieces);n.add(f)}for(O in q)if(q.hasOwnProperty(O)){ob=O;var D=new b.LineBasicMaterial({linewidth:ob,vertexColors:!0});1>t.cross&&0<=t.cross&&(D.transparent=!0,D.opacity=t.cross);q[O].initTypedArrays();var oa=new b.Line(q[O],D,b.LinePieces);n.add(oa)}if(G&&l.symmetries&&0<l.symmetries.length){var ac,rc=new b.Object3D;for(ac=0;ac<l.symmetries.length;ac++){var kc=new b.Object3D;(kc=n.clone()).matrix.copy(l.symmetries[ac]);kc.matrixAutoUpdate=!1;rc.add(kc)}return rc}return n};this.getCrystData=
function(){return l.cryst?l.cryst:null};this.getSymmetries=function(){return void 0===l.symmetries&&(l.symmetries=[O]),l.symmetries};this.setSymmetries=function(b){l.symmetries=void 0===b?[O]:b};this.getID=function(){return m};this.getNumFrames=function(){return null!=t.numFrames?t.numFrames:t.length};var U=function(b,c,d,g){b=c-b;return b<-d?c+g:b>d?c-g:c};this.setFrame=function(c){var g=this.getNumFrames();return new Promise(function(e,l){(0==g&&e(),(0>c||c>=g)&&(c=g-1),null!=t.url)?b.getbin(t.url+
"/traj/frame/"+c+"/"+t.path,null,"POST").then(function(b){b=new Float32Array(b,44);for(var c=0,d=0;d<r.length;d++)r[d].x=b[c++],r[d].y=b[c++],r[d].z=b[c++];if(z&&v&&z&&v){b=z[0];c=z[1];d=z[2];for(var g=.9*b,l=.9*c,k=.9*d,p=0;p<v.length;p++)for(var n=v[p],m=1;m<n.length;m++){var q=r[n[m][0]],y=r[n[m][1]];q.x=U(y.x,q.x,g,b);q.y=U(y.y,q.y,l,c);q.z=U(y.z,q.z,k,d)}}e()}).catch(l):(r=t[c],e());d=null})};this.addFrame=function(b){t.push(b)};this.vibrate=function(c,d,g,e,l){d=d||1;var k=0,p=c=c||10;g&&(k=
-c,p=c);k<p&&(t=[]);for(g=k;g<p;g++){k=[];var n=t.length;if(0!=g||l){for(var m=0;m<r.length;m++){var q=b.getAtomProperty(r[m],"dx"),y=b.getAtomProperty(r[m],"dy"),E=b.getAtomProperty(r[m],"dz"),A=new b.Vector3(q,y,E),G=new b.Vector3(r[m].x,r[m].y,r[m].z);A.multiplyScalar(g*d/c);G.add(A);A={};for(var O in r[m])A[O]=r[m][O];if(A.x=G.x,A.y=G.y,A.z=G.z,k.push(A),e&&l){var v=I.extend({},l);q=new b.Vector3(q,y,E);(q.multiplyScalar(d),q.add(G),v.start=G,v.end=q,v.frame=n,v.color)||((G=A.style.sphere)||(G=
A.style.stick),G||(G=A.style.line),v.color=b.getColorFromStyle(A,G));e.addArrow(v)}}t.push(k)}else t.push(r)}};this.setAtomDefaults=function(b){for(var c=0;c<b.length;c++){var d=b[c];d&&(d.style=d.style||I.extend(!0,{},e),d.color=d.color||R[d.elem]||y,d.model=m,(d.clickable||d.hoverable)&&(d.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}};this.addMolData=function(c,d,g){g=g||{};c=b.GLModel.parseMolData(c,d,g);G=!g.duplicateAssemblyAtoms;d=c.modelData;if(d&&(l=Array.isArray(d)?d[0]:
d),z=c.box?c.box:null,0==t.length){for(d=0;d<c.length;d++)0!=c[d].length&&t.push(c[d]);t[0]&&(r=t[0])}else if(g.frames)for(d=0;d<c.length;d++)t.push(c[d]);else for(d=0;d<c.length;d++)this.addAtoms(c[d]);for(c=0;c<t.length;c++)this.setAtomDefaults(t[c],m);g.vibrate&&g.vibrate.frames&&g.vibrate.amplitude&&this.vibrate(g.vibrate.frames,g.vibrate.amplitude);g.style&&this.setStyle({},g.style)};this.setDontDuplicateAtoms=function(b){G=b};this.setModelData=function(b){l=b};var X=function(b,c){if(b==c)return!0;
if("string"==typeof c&&"number"==typeof b&&(c=c.match(/(-?\d+)\s*-\s*(-?\d+)/))){var d=parseInt(c[1]),g=parseInt(c[2]);if(c&&b>=d&&b<=g)return!0}return!1};this.atomIsSelected=function(b,c){if(void 0===c)return!0;var d=!!c.invert,g=!0,e;for(e in c)if("and"==e||"or"==e||"not"==e)if("not"==e){if(this.atomIsSelected(b,c[e])){g=!1;break}}else if("and"==e)for(var l=c[e],k=0;k<l.length;k++){if(!this.atomIsSelected(b,l[k])){g=!1;break}}else{if("or"==e){g=c[e];l=!0;for(k=0;k<g.length;k++){if(this.atomIsSelected(b,
g[k])){l=!0;break}l=!1}g=l}}else if("predicate"===e){if(!c.predicate(b)){g=!1;break}}else if("properties"==e&&b[e])for(var p in c.properties){if(void 0===b.properties[p]){g=!1;break}if(b.properties[p]!=c.properties[p]){g=!1;break}}else if(c.hasOwnProperty(e)&&"props"!=e&&"invert"!=e&&"model"!=e&&"byres"!=e&&"expand"!=e&&"within"!=e&&"and"!=e&&"or"!=e&&"not"!=e){if(void 0===b[e]){g=!1;break}l=!1;if("bonds"===e){if(c[e]!=b.bonds.length){g=!1;break}}else if(I.isArray(c[e])){k=c[e];for(var n=b[e],m=0;m<
k.length;m++)if(X(n,k[m])){l=!0;break}if(!l){g=!1;break}}else if(!X(b[e],c[e])){g=!1;break}}return d?!g:g};var W=function(b,c){return Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2)+Math.pow(c.z-b.z,2)};this.selectedAtoms=function(c,d){var g=[];c=c||{};d||(d=r);for(var e=d.length,l=0;l<e;l++){var k=d[l];k&&this.atomIsSelected(k,c)&&g.push(k)}if(c.hasOwnProperty("expand")){l=parseFloat(c.expand);if(0>=l)d=g;else{d=b.getExtent(g);e=[[],[],[]];for(k=0;3>k;k++)e[0][k]=d[0][k]-l,e[1][k]=d[1][k]+l,e[2][k]=d[2][k];
l=[];for(k=0;k<r.length;k++){var p=r[k].x,n=r[k].y,m=r[k].z;p>=e[0][0]&&p<=e[1][0]&&n>=e[0][1]&&n<=e[1][1]&&m>=e[0][2]&&m<=e[1][2]&&(p>=d[0][0]&&p<=d[1][0]&&n>=d[0][1]&&n<=d[1][1]&&m>=d[0][2]&&m<=d[1][2]||l.push(r[k]))}d=l}e=g.length;for(l=0;l<d.length;l++)for(k=0;k<e;k++)p=W(d[l],g[k]),p<Math.pow(c.expand,2)&&0<p&&g.push(d[l])}if(c.hasOwnProperty("within")&&c.within.hasOwnProperty("sel")&&c.within.hasOwnProperty("distance")){e=this.selectedAtoms(c.within.sel,r);d={};for(l=0;l<e.length;l++)for(k=
0;k<g.length;k++)p=W(e[l],g[k]),p<Math.pow(parseFloat(c.within.distance),2)&&0<p&&(d[k]=1);e=[];if(c.within.invert)for(var q=0;q<g.length;q++)d[q]||e.push(g[q]);else for(q in d)e.push(g[q]);g=e}if(c.hasOwnProperty("byres"))for(c={},q=[],d=[],e=0;e<g.length;e++)if(l=g[e],k=l.chain,p=l.resi,void 0===c[k]&&(c[k]={}),l.hasOwnProperty("resi")&&void 0===c[k][p])for(c[k][p]=!0,d.push(l);0<d.length;)if(k=(l=d.pop()).chain,p=l.resi,void 0===q[l.index])for(q[l.index]=!0,n=0;n<l.bonds.length;n++)m=r[l.bonds[n]],
void 0===q[m.index]&&m.hasOwnProperty("resi")&&m.chain==k&&m.resi==p&&(d.push(m),g.push(m));return g};this.addAtoms=function(b){d=null;var c,g=r.length,l=[];for(c=0;c<b.length;c++)void 0===b[c].index&&(b[c].index=c),void 0===b[c].serial&&(b[c].serial=c),l[b[c].index]=g+c;for(c=0;c<b.length;c++){g=b[c];var k=l[g.index],p=I.extend(!1,{},g);p.index=k;p.bonds=[];p.bondOrder=[];p.model=m;p.style=p.style||I.extend(!0,{},e);void 0===p.color&&(p.color=R[p.elem]||y);k=g.bonds?g.bonds.length:0;for(var n=0;n<
k;n++){var q=l[g.bonds[n]];void 0!==q&&(p.bonds.push(q),p.bondOrder.push(g.bondOrder?g.bondOrder[n]:1))}r.push(p)}};this.removeAtoms=function(b){d=null;var c,g=[];for(c=0;c<b.length;c++)g[b[c].index]=!0;b=[];for(c=0;c<r.length;c++){var e=r[c];g[e.index]||b.push(e)}r=[];this.addAtoms(b)};this.setStyle=function(b,g,e){for(var l in void 0===g&&void 0===e&&(g=b,b={}),b)c.validAtomSelectionSpecs.hasOwnProperty(l)||console.log("Unknown selector "+l);for(l in g)c.validAtomStyleSpecs.hasOwnProperty(l)||console.log("Unknown style "+
l);var k=!1,p=this;l=function(c){for(var d=p.selectedAtoms(b,c),l=0;l<c.length;l++)c[l]&&(c[l].capDrawn=!1);for(c=0;c<d.length;c++){k=!0;(d[c].clickable||d[c].hoverable)&&(d[c].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});e||(d[c].style={});for(var n in g)g.hasOwnProperty(n)&&(d[c].style[n]=d[c].style[n]||{},Object.assign(d[c].style[n],g[n]))}};l(r);for(var n=0;n<t.length;n++)t[n]!==r&&l(t[n]);k&&(d=null)};this.setClickable=function(b,g,e){for(var l in b)c.validAtomSelectionSpecs.hasOwnProperty(l)||
console.log("Unknown selector "+l);if(g=!!g,e&&"function"!=typeof e)console.log("Callback is not a function");else{l=this.selectedAtoms(b,r);var k=l.length;for(b=0;b<k;b++)l[b].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},l[b].clickable=g,e&&(l[b].callback=e);0<k&&(d=null)}};this.setHoverable=function(b,g,e,l){for(var k in b)c.validAtomSelectionSpecs.hasOwnProperty(k)||console.log("Unknown selector "+k);if(g=!!g,e&&"function"!=typeof e)console.log("Hover_callback is not a function");
else if(l&&"function"!=typeof l)console.log("Unhover_callback is not a function");else{k=this.selectedAtoms(b,r);var p=k.length;for(b=0;b<p;b++)k[b].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},k[b].hoverable=g,e&&(k[b].hover_callback=e),l&&(k[b].unhover_callback=l);0<p&&(d=null)}};this.setColorByElement=function(b,c){var g;(g=null===d)||(g=E,g=!(c&&g?JSON.stringify(c)==JSON.stringify(g):c==g));if(g){E=c;var e=this.selectedAtoms(b,e);0<e.length&&(d=null);for(b=0;b<e.length;b++)g=
e[b],void 0!==c[g.elem]&&(g.color=c[g.elem])}};this.setColorByProperty=function(c,g,e,l){var k=this.selectedAtoms(c,k);E=null;0<k.length&&(d=null);void 0!==b.Gradient.builtinGradients[e]&&(e=new b.Gradient.builtinGradients[e]);l||(l=e.range());l||(l=b.getPropertyRange(k,g));for(c=0;c<k.length;c++){var p=k[c];null!=b.getAtomProperty(p,g)&&(p.color=e.valueToHex(parseFloat(p.properties[g]),l))}};this.setColorByFunction=function(b,c){var g=this.selectedAtoms(b,g);if("function"==typeof c)for(E=null,0<
g.length&&(d=null),b=0;b<g.length;b++){var e=g[b];e.color=c(e)}};this.toCDObject=function(b){var c={a:[],b:[]};b&&(c.s=[]);for(var d=0;d<r.length;d++){var g={},e=r[d];if(g.x=e.x,g.y=e.y,g.z=e.z,"C"!=e.elem&&(g.l=e.elem),b){for(var l=0;l<c.s.length&&JSON.stringify(e.style)!==JSON.stringify(c.s[l]);)l++;l===c.s.length&&c.s.push(e.style);0!==l&&(g.s=l)}c.a.push(g);for(g=0;g<e.bonds.length;g++){l=d;var k=e.bonds[g];l>=k||(l={b:l,e:k},k=e.bondOrder[g],1!=k&&(l.o=k),c.b.push(l))}}return c};this.globj=function(b,
c){(null===d||c.regen)&&(d=Ga(r,c),g&&(b.remove(g),g=null),g=d.clone(),n&&(g.setVisible(!1),d.setVisible(!1)),b.add(g))};this.exportVRML=function(){return Ga(r,{supportsImposters:!1,supportsAIA:!1}).vrml()};this.removegl=function(b){g&&(void 0!==g.geometry&&g.geometry.dispose(),void 0!==g.material&&g.material.dispose(),b.remove(g),g=null);d=null};this.hide=function(){n=!0;g&&g.setVisible(!1);d&&d.setVisible(!1)};this.show=function(){n=!1;g&&g.setVisible(!0);d&&d.setVisible(!0)};this.addPropertyLabels=
function(b,c,d,g){var e=this.selectedAtoms(c,e);c=I.extend(!0,{},g);for(g=0;g<e.length;g++){var l=e[g],k=null;void 0!==l[b]?k=String(l[b]):(l.properties[b],k=String(l.properties[b]));null!=k&&(c.position=l,d.addLabel(k,c))}};this.addResLabels=function(c,d,g,e){var l=[],k=function(e,k){var p=e.selectedAtoms(c,p);e={};for(var n=0;n<p.length;n++){var m=p[n],r=m.chain,q=m.resn+""+m.resi;e[r]||(e[r]={});e[r][q]||(e[r][q]=[]);e[r][q].push(m)}p=I.extend(!0,{},g);for(var y in e)if(e.hasOwnProperty(y)){n=
e[y];for(var E in n)if(n.hasOwnProperty(E)){m=n[E];r=new b.Vector3(0,0,0);for(q=0;q<m.length;q++){var t=m[q];r.x+=t.x;r.y+=t.y;r.z+=t.z}r.divideScalar(m.length);p.position=r;p.frame=k;m=d.addLabel(E,p,void 0,!0);l.push(m)}}};if(e){e=this.getNumFrames();for(var p=r,n=0;n<e;n++)t[n]&&(r=t[n],k(this,n));r=p}else k(this);return l};this.setCoordinatesFromURL=function(b,c){t=[];var d=this;return z&&function(){v=[];var b=new Int8Array(r.length);b.fill(0);for(var c=function(d,g,e){e.push([d,g]);g=r[d];b[d]=
1;for(var l=0;l<g.bonds.length;l++){var k=g.bonds[l];r[k]&&!b[k]&&c(k,d,e)}},d=0;d<r.length;d++)if(r[d]&&!b[d]){var g=[];c(d,-1,g);v.push(g)}}(),new Promise(function(g,e){b.startsWith("http://")||(b="http://"+b);I.get(b+"/traj/numframes/"+c,function(l){isNaN(parseInt(l))||(t.push(r),t.numFrames=l,t.url=b,t.path=c,d.setFrame(0).then(function(){g()}).catch(e))})})};this.setCoordinates=function(b,d){if(!b)return[];if(/\.gz$/.test(d=d||"")){d=d.replace(/\.gz$/,"");try{b=pako.inflate(b,{to:"string"})}catch(Z){console.log(Z)}}if({mdcrd:"",
inpcrd:"",pdb:"",netcdf:""}.hasOwnProperty(d)){t=[];var g=r.length;b=c.parseCrd(b,d);for(d=0;d<b.length;){for(var e=[],l=0;l<g;l++){var k={},p;for(p in r[l])k[p]=r[l][p];e[l]=k;e[l].x=b[d++];e[l].y=b[d++];e[l].z=b[d++]}t.push(e)}return r=t[0],t}return[]};this.addAtomSpecs=function(b){for(var d=0;d<b.length;d++)c.validAtomSelectionSpecs.hasOwnProperty(b[d])&&c.validAtomSelectionSpecs.push(b[d])}}var e={line:{}},q={H:1.2,Li:1.82,LI:1.82,Na:2.27,NA:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,
CL:1.75,Cl:1.75,BR:1.85,Br:1.85,SE:1.9,Se:1.9,ZN:1.39,Zn:1.39,CU:1.4,Cu:1.4,NI:1.63,Ni:1.63};c.validElements="H Li LI Na NA K C N O F P S CL Cl BR Br SE Se ZN Zn CU Cu NI Ni".split(" ");c.validAtomSpecs={resn:{type:"string",valid:!0},x:{type:"number",valid:!1,step:.1},y:{type:"number",valid:!1,step:.1},z:{type:"number",valid:!1,step:.1},color:{type:"color",gui:!0},surfaceColor:{type:"color",gui:!0},elem:{type:"element",gui:!0},hetflag:{type:"boolean",valid:!1},chain:{type:"string",gui:!0},resi:{type:"number",
gui:!0},icode:{type:"number",valid:!1,step:.1},rescode:{type:"number",valid:!1,step:.1},serial:{type:"number",valid:!1,step:.1},atom:{type:"string",valid:!1},bonds:{type:"array",valid:!1},ss:{type:"string",valid:!1},singleBonds:{type:"boolean",valid:!1},bondOrder:{type:"array",valid:!1},properties:{type:"properties",valid:!1},b:{type:"number",valid:!1,step:.1},pdbline:{type:"string",valid:!1},clickable:{type:"boolean",valid:!1},callback:{type:"function",valid:!1},invert:{type:"boolean",valid:!1},
reflectivity:{type:"number",gui:!0,step:.1},altLoc:{type:"invalid",valid:!1}};c.validAtomSelectionSpecs=function(b,c){for(var e in c)c.hasOwnProperty(e)&&(b[e]=c[e]);return b}(c.validAtomSpecs,{model:{type:"string",valid:!1},bonds:{type:"string",valid:!1},predicate:{type:"string",valid:!1},invert:{type:"string",valid:!1},byres:{type:"string",valid:!1},expand:{type:"string",valid:!1},within:{type:"string",valid:!1},and:{type:"string",valid:!1},or:{type:"string",valid:!1},not:{type:"string",valid:!1}});
var t={hidden:{type:"boolean",gui:!0},singleBonds:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1.5,min:0}};c.validAtomStyleSpecs={line:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!0,step:.1,default:1},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0}},gui:!0},cross:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!1,step:.1,default:1,min:0},
colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1,min:.1},scale:{type:"number",gui:!0,step:.1,default:1,min:0}},gui:!0},stick:{validItems:{hidden:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:.25,min:.1},singleBonds:{type:"boolean",gui:!0}},gui:!0},sphere:{validItems:t,gui:!0},cartoon:{validItems:{style:{validItems:["trace","oval","rectangle",
"parabola","edged"],gui:!0},color:{type:"color",gui:!0},arrows:{type:"boolean",gui:!0},ribbon:{type:"boolean",gui:!0},hidden:{type:"boolean",gui:!0},tubes:{type:"boolean",gui:!0},thickness:{type:"number",gui:!0,step:.1,default:1,min:0},width:{type:"number",gui:!0,step:.1,default:1,min:0},opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1}},gui:!0},colorfunc:{validItems:null,valid:!1},clicksphere:{validItems:t}};c.validSurfaceSpecs={opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},
colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},voldata:{type:"number",gui:!1},volscheme:{type:"number",gui:!1},map:{type:"number",gui:!1}};c.validLabelResSpecs={font:{type:"string",gui:!0},fontSize:{type:"number",gui:!0,step:1,default:12,min:1},fontColor:{type:"color",gui:!0},fontOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},borderThickness:{type:"number",gui:!0,step:.1,default:1,min:0},borderColor:{type:"color",gui:!0},borderOpacity:{type:"number",gui:!0,step:.1,
default:1,min:0,max:1},backgroundColor:{type:"color",gui:!0},backgroundOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},position:{type:"array",valid:!1},inFront:{type:"boolean",gui:!0},showBackground:{type:"boolean",gui:!0},fixed:{type:"boolean",gui:!0},alignment:{validItems:"topLeft topCenter topRight centerLeft center centerRight bottomLeft bottomCenter bottomRight".split(" "),gui:!0},scale:{type:"boolean",gui:!1}};return c.parseCrd=function(b,c){var e=[],k=0;if("pdb"==c)for(c=b.indexOf("\nATOM");-1!=
c;){for(;"\nATOM"==b.slice(c,c+5)||"\nHETATM"==b.slice(c,c+7);)e[k++]=parseFloat(b.slice(c+31,c+39)),e[k++]=parseFloat(b.slice(c+39,c+47)),e[k++]=parseFloat(b.slice(c+47,c+55)),c=b.indexOf("\n",c+54),"\nTER"==b.slice(c,c+4)&&(c=b.indexOf("\n",c+5));c=b.indexOf("\nATOM",c)}else"netcdf"==c?(b=new netcdfjs(b),e=[].concat.apply([],b.getDataVariable("coordinates"))):(e=b.indexOf("\n"),"inpcrd"==c&&(e=b.indexOf("\n",e+1)),e=b.slice(e+1).match(/\S+/g).map(parseFloat));return e},c.parseMolData=function(c,
e,r){if(!c)return[];if(/\.gz$/.test(e=e||"")){e=e.replace(/\.gz$/,"");try{c=pako.inflate(c,{to:"string"})}catch(x){console.log(x)}}return void 0===b.Parsers[e]&&(e=e.split(".").pop(),void 0===b.Parsers[e]&&(console.log("Unknown format: "+e),e=c instanceof Uint8Array?"mmtf":c.match(/^@<TRIPOS>MOLECULE/gm)?"mol2":c.match(/^HETATM/gm)||c.match(/^ATOM/gm)?"pdb":c.match(/ITEM: TIMESTEP/gm)?"lammpstrj":c.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?"sdf":c.match(/^%VERSION\s+VERSION_STAMP/gm)?"prmtop":"xyz",console.log("Best guess: "+
e))),(0,b.Parsers[e])(c,r)},c}();b.GLShape=function(){function c(c){c=c||{};b.ShapeIDCount++;this.boundingSphere=new b.Sphere;this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]};m(this,c);var k=[],x=null,z=null,v=new b.Geometry(!0),n=new b.Geometry(!0);this.updateStyle=function(b){for(var d in b)c[d]=b[d];m(this,c)};this.addCustom=function(b){b.vertexArr=b.vertexArr||[];b.faceArr=b.faceArr||[];b.normalArr=b.normalArr||[];t(this,v,b)};this.addSphere=function(c){c.center=c.center||{x:0,
y:0,z:0};c.radius=c.radius?b.Math.clamp(c.radius,0,1/0):1.5;c.color=b.CC.color(c.color);this.intersectionShape.sphere.push(new b.Sphere(c.center,c.radius));b.GLDraw.drawSphere(v,c.center,c.radius,c.color);k.push({centroid:new b.Vector3(c.center.x,c.center.y,c.center.z)});c=v.updateGeoGroup(0);q(this.boundingSphere,k,c.vertexArray,c.vertices)};this.addBox=function(c){var d=c.dimensions||{w:1,h:1,d:1},e=d.w;"number"==typeof d.w&&(e={x:d.w,y:0,z:0});var l=d.h;"number"==typeof d.h&&(l={x:0,y:d.h,z:0});
var n=d.d;"number"==typeof d.d&&(n={x:0,y:0,z:d.d});d=c.corner;null==d&&(d=void 0!==c.center?{x:c.center.x-.5*(e.x+l.x+n.x),y:c.center.y-.5*(e.y+l.y+n.y),z:c.center.z-.5*(e.z+l.z+n.z)}:{x:0,y:0,z:0});e=[{x:d.x,y:d.y,z:d.z},{x:d.x+e.x,y:d.y+e.y,z:d.z+e.z},{x:d.x+l.x,y:d.y+l.y,z:d.z+l.z},{x:d.x+e.x+l.x,y:d.y+e.y+l.y,z:d.z+e.z+l.z},{x:d.x+n.x,y:d.y+n.y,z:d.z+n.z},{x:d.x+e.x+n.x,y:d.y+e.y+n.y,z:d.z+e.z+n.z},{x:d.x+l.x+n.x,y:d.y+l.y+n.y,z:d.z+l.z+n.z},{x:d.x+e.x+l.x+n.x,y:d.y+e.y+l.y+n.y,z:d.z+e.z+l.z+
n.z}];l=[];n=[];l.splice(l.length,0,e[0],e[1],e[2],e[3]);n.splice(n.length,0,0,2,1,1,2,3);d=4;l.splice(l.length,0,e[2],e[3],e[6],e[7]);n.splice(n.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;l.splice(l.length,0,e[4],e[5],e[0],e[1]);n.splice(n.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;l.splice(l.length,0,e[6],e[7],e[4],e[5]);n.splice(n.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;l.splice(l.length,0,e[3],e[1],e[7],e[5]);n.splice(n.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;l.splice(l.length,0,e[2],e[0],e[6],e[4]);n.splice(n.length,
0,d+0,d+2,d+1,d+1,d+2,d+3);c=I.extend({},c);c.vertexArr=l;c.faceArr=n;c.normalArr=[];t(this,v,c);c=new b.Vector3;k.push({centroid:c.addVectors(e[0],e[7]).multiplyScalar(.5)});c=v.updateGeoGroup(0);q(this.boundingSphere,k,c.vertexArray,c.vertices)};this.addCylinder=function(c){c.start=c.start||{};c.end=c.end||{};var d=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),e=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);void 0===e.x&&(e.x=3);var l=c.radius||.1,n=b.CC.color(c.color);this.intersectionShape.cylinder.push(new b.Cylinder(d,
e,l));b.GLDraw.drawCylinder(v,d,e,l,n,c.fromCap,c.toCap);c=new b.Vector3;k.push({centroid:c.addVectors(d,e).multiplyScalar(.5)});d=v.updateGeoGroup(0);q(this.boundingSphere,k,d.vertexArray,d.vertices)};this.addDashedCylinder=function(c){c.start=c.start||{};c.end=c.end||{};c.dashLength=c.dashLength||.25;c.gapLength=c.gapLength||.25;var d=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),e=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);void 0===e.x&&(e.x=3);var l=c.radius||.1,n=b.CC.color(c.color),
m=Math.sqrt(Math.pow(d.x-e.x,2)+Math.pow(d.y-e.y,2)+Math.pow(d.z-e.z,2)),r=m/(c.gapLength+c.dashLength),t=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0);new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);for(var x=new b.Vector3((e.x-d.x)/(m/c.gapLength),(e.y-d.y)/(m/c.gapLength),(e.z-d.z)/(m/c.gapLength)),p=new b.Vector3((e.x-d.x)/(m/c.dashLength),(e.y-d.y)/(m/c.dashLength),(e.z-d.z)/(m/c.dashLength)),z=0;z<r;z++)m=new b.Vector3(t.x+p.x,t.y+p.y,t.z+p.z),this.intersectionShape.cylinder.push(new b.Cylinder(t,
m,l)),b.GLDraw.drawCylinder(v,t,m,l,n,c.fromCap,c.toCap),t=new b.Vector3(m.x+x.x,m.y+x.y,m.z+x.z);c=new b.Vector3;k.push({centroid:c.addVectors(d,e).multiplyScalar(.5)});d=v.updateGeoGroup(0);q(this.boundingSphere,k,d.vertexArray,d.vertices)};this.addCurve=function(c){c.points=c.points||[];c.smooth=c.smooth||10;void 0===c.fromCap&&(c.fromCap=2);void 0===c.toCap&&(c.toCap=2);var d=b.subdivide_spline(c.points,c.smooth);if(3>d.length)console.log("Too few points in addCurve");else{var e=c.radius||.1,
l=b.CC.color(c.color),k=0,n=d.length-1,m=d[0].distanceTo(d[1]);m=Math.ceil(2*e/m);if(c.toArrow){var r={start:d[n-=m],end:d[d.length-1],radius:e,color:l,mid:1E-4};this.addArrow(r)}c.fromArrow&&(c={start:d[k+=m],end:d[0],radius:e,color:l,mid:1E-4},this.addArrow(c));c=Math.ceil(d.length/2);for(e={radius:e,color:l,fromCap:2,toCap:2};k<n;k++)e.start=d[k],e.end=d[k+1],e.fromCap=2,e.toCap=2,k<c?(e.fromCap=2,e.toCap=0):k>c?(e.fromCap=0,e.toCap=2):(e.fromCap=2,e.toCap=2),this.addCylinder(e)}};this.addLine=
function(c){c.start=c.start||{};c.end=c.end||{};var d=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0);c=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);void 0===c.x&&(c.x=3);var e=v.updateGeoGroup(2),l=e.vertices,n=3*l,m=e.vertexArray;m[n]=d.x;m[n+1]=d.y;m[n+2]=d.z;m[n+3]=c.x;m[n+4]=c.y;m[n+5]=c.z;e.vertices+=2;n=e.lineArray;m=e.lineidx;n[m]=l;n[m+1]=l+1;e.lineidx+=2;e=new b.Vector3;k.push({centroid:e.addVectors(d,c).multiplyScalar(.5)});e=v.updateGeoGroup(0);q(this.boundingSphere,k,e.vertexArray,
e.vertices)};this.addArrow=function(c){if(c.start=c.start||{},c.end=c.end||{},c.start=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),c.dir instanceof b.Vector3&&"number"==typeof c.length){var d=c.dir.clone().multiplyScalar(c.length).add(c.start);c.end=d}else c.end=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0),void 0===c.end.x&&(c.end.x=3);c.radius=c.radius||.1;c.radiusRatio=c.radiusRatio||1.618034;c.mid=0<c.mid&&1>c.mid?c.mid:.618034;var e=c.start,l=c.end,n=c.radius,m=c.radiusRatio,r=c.mid;
if(e&&l){d=v.updateGeoGroup(51);var t=l.clone();t.sub(e).multiplyScalar(r);var x=e.clone().add(t);r=t.clone().negate();this.intersectionShape.cylinder.push(new b.Cylinder(e.clone(),x.clone(),n));this.intersectionShape.sphere.push(new b.Sphere(e.clone(),n));var p=[];p[0]=t.clone();1E-4<Math.abs(p[0].x)?p[0].y+=1:p[0].x+=1;p[0].cross(t);p[0].normalize();p[0]=p[0];p[4]=p[0].clone();p[4].crossVectors(p[0],t);p[4].normalize();p[8]=p[0].clone().negate();p[12]=p[4].clone().negate();p[2]=p[0].clone().add(p[4]).normalize();
p[6]=p[4].clone().add(p[8]).normalize();p[10]=p[8].clone().add(p[12]).normalize();p[14]=p[12].clone().add(p[0]).normalize();p[1]=p[0].clone().add(p[2]).normalize();p[3]=p[2].clone().add(p[4]).normalize();p[5]=p[4].clone().add(p[6]).normalize();p[7]=p[6].clone().add(p[8]).normalize();p[9]=p[8].clone().add(p[10]).normalize();p[11]=p[10].clone().add(p[12]).normalize();p[13]=p[12].clone().add(p[14]).normalize();p[15]=p[14].clone().add(p[0]).normalize();var z,M,B,ca=d.vertices;var K=d.vertexArray;var P=
d.faceArray,J=d.normalArray,I=d.lineArray;var H=0;for(z=p.length;H<z;++H){var U=3*(ca+3*H);var X=p[H].clone().multiplyScalar(n).add(e);var W=p[H].clone().multiplyScalar(n).add(x);var L=p[H].clone().multiplyScalar(n*m).add(x);if(K[U]=X.x,K[U+1]=X.y,K[U+2]=X.z,K[U+3]=W.x,K[U+4]=W.y,K[U+5]=W.z,K[U+6]=L.x,K[U+7]=L.y,K[U+8]=L.z,0<H)U=new b.Vector3(K[U-3],K[U-2],K[U-1]),X=l.clone(),W=x.clone(),L=new b.Vector3(L.x,L.y,L.z),this.intersectionShape.triangle.push(new b.Triangle(L,X,U)),this.intersectionShape.triangle.push(new b.Triangle(U.clone(),
W,L.clone()))}d.vertices+=48;K[U=3*d.vertices]=e.x;K[U+1]=e.y;K[U+2]=e.z;K[U+3]=x.x;K[U+4]=x.y;K[U+5]=x.z;K[U+6]=l.x;K[U+7]=l.y;K[U+8]=l.z;d.vertices+=3;var A=d.vertices-3,F=d.vertices-2,T=d.vertices-1,S=3*A,ba=3*F,ea=3*T;H=0;for(z=p.length-1;H<z;++H){var Z=ca+3*H;e=d.faceidx;l=d.lineidx;U=3*(n=Z);X=3*(m=Z+1);W=3*(x=Z+2);var Y=3*(K=Z+4);var na=3*(L=Z+5);var ka=3*(Z+=3);[p[H],p[H],p[H+1],p[H+1]];var ia=M=p[H];var ha=B=p[H+1];J[U]=ia.x;J[X]=M.x;J[ka]=B.x;J[U+1]=ia.y;J[X+1]=M.y;J[ka+1]=B.y;J[U+2]=ia.z;
J[X+2]=M.z;J[ka+2]=B.z;J[X]=M.x;J[Y]=ha.x;J[ka]=B.x;J[X+1]=M.y;J[Y+1]=ha.y;J[ka+1]=B.y;J[X+2]=M.z;J[Y+2]=ha.z;J[ka+2]=B.z;J[W]=M.x;J[na]=ha.x;J[W+1]=M.y;J[na+1]=ha.y;J[W+2]=M.z;J[na+2]=ha.z;P[e]=n;P[e+1]=m;P[e+2]=Z;P[e+3]=m;P[e+4]=K;P[e+5]=Z;P[e+6]=n;P[e+7]=Z;P[e+8]=A;P[e+9]=x;P[e+10]=F;P[e+11]=L;P[e+12]=x;P[e+13]=T;P[e+14]=L;I[l]=n;I[l+1]=m;I[l+2]=n;I[l+3]=Z;I[l+4]=K;I[l+5]=Z;I[l+6]=n;I[l+7]=Z;I[l+8]=x;I[l+9]=m;I[l+10]=x;I[l+11]=L;I[l+12]=K;I[l+13]=L;I[l+14]=x;I[l+15]=T;I[l+16]=x;I[l+17]=L;I[l+18]=
T;I[l+19]=L;d.faceidx+=15;d.lineidx+=20}H=[ca+45,ca+46,ca+1,ca,ca+47,ca+2];[p[15],p[15],p[0],p[0]];e=d.faceidx;l=d.lineidx;U=3*(n=H[0]);X=3*(m=H[1]);W=3*(x=H[4]);Y=3*(K=H[2]);na=3*(L=H[5]);ka=3*(Z=H[3]);ia=M=p[15];ha=B=p[0];J[U]=ia.x;J[X]=M.x;J[ka]=B.x;J[U+1]=ia.y;J[X+1]=M.y;J[ka+1]=B.y;J[U+2]=ia.z;J[X+2]=M.z;J[ka+2]=B.z;J[X]=M.x;J[Y]=ha.x;J[ka]=B.x;J[X+1]=M.y;J[Y+1]=ha.y;J[ka+1]=B.y;J[X+2]=M.z;J[Y+2]=ha.z;J[ka+2]=B.z;J[W]=M.x;J[na]=ha.x;J[W+1]=M.y;J[na+1]=ha.y;J[W+2]=M.z;J[na+2]=ha.z;t.normalize();
r.normalize();J[S]=r.x;J[ba]=J[ea]=t.x;J[S+1]=r.y;J[ba+1]=J[ea+1]=t.y;J[S+2]=r.z;J[ba+2]=J[ea+2]=t.z;P[e]=n;P[e+1]=m;P[e+2]=Z;P[e+3]=m;P[e+4]=K;P[e+5]=Z;P[e+6]=n;P[e+7]=Z;P[e+8]=A;P[e+9]=x;P[e+10]=F;P[e+11]=L;P[e+12]=x;P[e+13]=T;P[e+14]=L;I[l]=n;I[l+1]=m;I[l+2]=n;I[l+3]=Z;I[l+4]=K;I[l+5]=Z;I[l+6]=n;I[l+7]=Z;I[l+8]=x;I[l+9]=m;I[l+10]=x;I[l+11]=L;I[l+12]=K;I[l+13]=L;I[l+14]=x;I[l+15]=T;I[l+16]=x;I[l+17]=L;I[l+18]=T;I[l+19]=L;d.faceidx+=15;d.lineidx+=20}d=new b.Vector3;k.push({centroid:d.addVectors(c.start,
c.end).multiplyScalar(.5)});c=v.updateGeoGroup(0);q(this.boundingSphere,k,c.vertexArray,c.vertices)};this.addIsosurface=function(c,e,k){var d,g=void 0!==e.isoval&&"number"==typeof e.isoval?e.isoval:0,n=!!e.voxel,m=void 0===e.smoothness?1:e.smoothness,r=c.size.x,q=c.size.y,p=c.size.z,E=new Int16Array(r*q*p),x=c.data;var z=0;for(d=E.length;z<d;++z)E[z]=-1;E=new Uint8Array(r*q*p);z=0;for(d=x.length;z<d;++z)0<(0<=g?x[z]-g:g-x[z])&&(E[z]|=2);z=[];d=[];b.MarchingCube.march(E,z,d,{fulltable:!0,voxel:n,unitCube:c.unit,
origin:c.origin,matrix:c.matrix,nX:r,nY:q,nZ:p});!n&&0<m&&b.MarchingCube.laplacianSmooth(m,z,d);n=[];m=[];r=[];if(e.selectedRegion&&void 0===e.coords&&(e.coords=e.selectedRegion),void 0!==e.coords){q=e.coords[0].x;p=e.coords[0].y;E=e.coords[0].z;g=e.coords[0].x;x=e.coords[0].y;for(var B=e.coords[0].z,K=0;K<e.coords.length;K++)e.coords[K].x>q?q=e.coords[K].x:e.coords[K].x<g&&(g=e.coords[K].x),e.coords[K].y>p?p=e.coords[K].y:e.coords[K].y<x&&(x=e.coords[K].y),e.coords[K].z>E?E=e.coords[K].z:e.coords[K].z<
B&&(B=e.coords[K].z);K=2;void 0!==e.radius&&(K=e.radius);void 0!==e.selectedOffset&&(K=e.selectedOffset);void 0!==e.seldist&&(K=e.seldist);g-=K;q+=K;x-=K;p+=K;B-=K;E+=K;for(var I=0;I<z.length;I++){var J;if(J=z[I].x>g&&z[I].x<q&&z[I].y>x&&z[I].y<p&&z[I].z>B&&z[I].z<E)a:{for(var H=J=void 0,ba=e.coords,U=0;U<ba.length;U++)if(H=ba[U],J=z[I],Math.sqrt(Math.pow(H.x-J.x,2)+Math.pow(H.y-J.y,2)+Math.pow(H.z-J.z,2))<=K){J=!0;break a}J=!1}J?(n.push(m.length),m.push(z[I])):n.push(-1)}for(z=0;z+2<d.length;z+=
3)-1!==n[d[z]]&&-1!==n[d[z+1]]&&-1!==n[d[z+2]]&&(r.push(d[z]-(d[z]-n[d[z]])),r.push(d[z+1]-(d[z+1]-n[d[z+1]])),r.push(d[z+2]-(d[z+2]-n[d[z+2]])));z=m;d=r}t(this,v,{vertexArr:z,faceArr:d,normalArr:[],clickable:e.clickable,hoverable:e.hoverable});this.updateStyle(e);d=new b.Vector3(c.origin.x,c.origin.y,c.origin.z);n=new b.Vector3(c.size.x*c.unit.x,c.size.y*c.unit.y,c.size.z*c.unit.z);c=new b.Vector3(0,0,0);e=d.clone();d=d.clone().add(n);for(n=0;n<z.length;n++)c.add(z[n]),e.max(z[n]),d.min(z[n]);c.divideScalar(z.length);
z=c.distanceTo(d);e=c.distanceTo(e);this.boundingSphere.center=c;this.boundingSphere.radius=Math.max(z,e);"function"==typeof k&&k()};this.addVolumetricData=function(c,e,k){c=new b.VolumeData(c,e);this.addIsosurface(c,k)};this.finalize=function(){e(v);v.initTypedArrays()};this.globj=function(c){if(z&&(c.remove(z),z=null),!this.hidden){e(v);v.initTypedArrays();this.wireframe&&v.setUpWireframe();if(void 0!==this.color){var d=this.color,k,l,m,r;for(r in d=d||b.CC.color(d),v.colorsNeedUpdate=!0,d.constructor!==
Array&&(k=d.r,l=d.g,m=d.b),v.geometryGroups){var q=v.geometryGroups[r],t=q.colorArray,N=0;for(q=q.vertices;N<q;++N)d.constructor===Array&&(m=d[N],k=m.r,l=m.g,m=m.b),t[3*N]=k,t[3*N+1]=l,t[3*N+2]=m}}x=new b.Object3D;d=this.side==b.DoubleSide?new b.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,wireframeLinewidth:this.linewidth}):new b.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,
wireframeLinewidth:this.linewidth});d=new b.Mesh(v,d);x.add(d);d=new b.LineBasicMaterial({linewidth:this.linewidth,color:this.color});d=new b.Line(n,d,b.LinePieces);x.add(d);z=x.clone();c.add(z)}};this.removegl=function(b){z&&(void 0!==z.geometry&&z.geometry.dispose(),void 0!==z.material&&z.material.dispose(),b.remove(z),z=null);x=null}}var e=function(b){b=b.updateGeoGroup(0);0<b.vertices&&b.truncateArrayBuffers(!0,!0)},q=function(b,c,e,m){var k;if(b.center.set(0,0,0),0<c.length){var n=0;for(k=c.length;n<
k;++n)b.center.add(c[n].centroid);b.center.divideScalar(c.length)}c=b.radius*b.radius;e.length/3<m&&(m=e.length/3);n=0;for(k=m;n<k;n++)m=b.center.distanceToSquared({x:e[3*n],y:e[3*n+1],z:e[3*n+2]}),c=Math.max(c,m);b.radius=Math.sqrt(c)},t=function(c,e,m){var k=m.faceArr;0!==m.vertexArr.length&&0!==k.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");k=m.color;void 0===k&&(k=c.color);k=b.CC.color(k);for(var r=b.splitMesh(m),n=0,d=r.length;n<d;n++){var g=
void 0,t=void 0,l,x=void 0,G=void 0;var y=c;var R=e,N=r[n],p=r[n].colorArr?r[n].colorArr:k,B=m.clickable,M=R.addGeoGroup(),Q=N.vertexArr,I=N.normalArr;N=N.faceArr;M.vertices=Q.length;M.faceidx=N.length;var K=M.vertexArray,P=M.colorArray;p.constructor!==Array&&(t=p.r,g=p.g,G=p.b);var J=0;for(l=M.vertices;J<l;++J){var H=3*J;var ba=Q[J];K[H]=ba.x;K[H+1]=ba.y;K[H+2]=ba.z;p.constructor===Array&&(t=(x=p[J]).r,g=x.g,G=x.b);P[H]=t;P[H+1]=g;P[H+2]=G}if(B)for(J=0,l=M.faceidx/3;J<l;++J)g=N[H=3*J],G=N[H+1],x=
N[H+2],H=new b.Vector3,t=new b.Vector3,p=new b.Vector3,y.intersectionShape.triangle.push(new b.Triangle(H.copy(Q[g]),t.copy(Q[G]),p.copy(Q[x])));if(B){l=new b.Vector3(0,0,0);for(x=J=0;x<R.geometryGroups.length;x++)l.add(R.geometryGroups[x].getCentroid()),J++;l.divideScalar(J);q(y.boundingSphere,{centroid:l},K,M.vertices)}if(M.faceArray=new Uint16Array(N),M.truncateArrayBuffers(!0,!0),I.length<M.vertices)M.setNormals();else for(R=M.normalArray=new Float32Array(3*M.vertices),J=0,l=M.vertices;J<l;++J)H=
3*J,y=I[J],R[H]=y.x,R[H+1]=y.y,R[H+2]=y.z;M.setLineIndices();M.lineidx=M.lineArray.length}},m=function(c,e){void 0!==e.color?(c.color=e.color||new b.Color,e.color instanceof b.Color||(c.color=b.CC.color(e.color))):c.color=b.CC.color(0);c.wireframe=!!e.wireframe;c.opacity=e.alpha?b.Math.clamp(e.alpha,0,1):1;void 0!==e.opacity&&(c.opacity=b.Math.clamp(e.opacity,0,1));c.side=void 0!==e.side?e.side:b.DoubleSide;c.linewidth=void 0===e.linewidth?1:e.linewidth;c.clickable=!!e.clickable;c.callback="function"==
typeof e.callback?e.callback:null;c.hoverable=!!e.hoverable;c.hover_callback="function"==typeof e.hover_callback?e.hover_callback:null;c.unhover_callback="function"==typeof e.unhover_callback?e.unhover_callback:null;c.hidden=e.hidden;c.frame=e.frame};return Object.defineProperty(c.prototype,"position",{get:function(){return this.boundingSphere.center}}),Object.defineProperty(c.prototype,"x",{get:function(){return this.boundingSphere.center.x}}),Object.defineProperty(c.prototype,"y",{get:function(){return this.boundingSphere.center.y}}),
Object.defineProperty(c.prototype,"z",{get:function(){return this.boundingSphere.center.z}}),c}();b.ShapeIDCount=0;b.splitMesh=function(b){if(64E3>b.vertexArr.length)return[b];var c=[{vertexArr:[],normalArr:[],faceArr:[]}];b.colorArr&&(c.colorArr=[]);for(var q=[],t=[],m=0,k=b.faceArr,r=0,x=k.length;r<x;r+=3){for(var z=c[m],v=0;3>v;v++){var n=k[r+v];q[n]!==m&&(q[n]=m,t[n]=z.vertexArr.length,z.vertexArr.push(b.vertexArr[n]),b.normalArr&&b.normalArr[n]&&z.normalArr.push(b.normalArr[n]),b.colorArr&&b.colorArr[n]&&
z.colorArr.push(b.colorArr[n]));z.faceArr.push(t[n])}64E3<=z.vertexArr.length&&(c.push({vertexArr:[],normalArr:[],faceArr:[]}),b.colorArr&&(c.colorArr=[]),m++)}return c};b.GLViewer=function(){return function(c,e){function q(b){var c=[];if(void 0===b||void 0===b.model)for(b=0;b<l.length;b++)l[b]&&c.push(l[b]);else for(c=b.model,I.isArray(c)||(c=[c]),b=0;b<c.length;b++)if("number"==typeof c[b]){var d=c[b];0>d&&(d+=l.length);c[b]=l[d]}return c}function t(b){var c=[];void 0===b&&(b={});for(var d=q(b),
e=0;e<d.length;e++)c=c.concat(d[e].selectedAtoms(b));return c}function m(b,c,d,e,g,l,k){for(var n=q(c),p=0;p<n.length;p++)n[p][b](c,d,e,g,l,k)}function k(c){var d=new b.MeshLambertMaterial,e;for(e in d.vertexColors=b.VertexColors,c)"color"===e||"map"===e||c.hasOwnProperty(e)&&(d[e]=c[e]);return void 0!==c.opacity&&(1===c.opacity?d.transparent=!1:d.transparent=!0),d}var r=(e=e||{}).callback,x=e.defaultcolors;x||(x=b.elementColors.defaultColors);var z=e.nomouse,v=0;e.backgroundColor=e.backgroundColor||
"#ffffff";v=b.CC.color(e.backgroundColor).getHex();var n=0;n=parseFloat(e.camerax);var d=this,g=c,E=null,l=[],O={},G=[],y=[],R=[],B=[],p=[],V=null,M=500,Q=0;M=e.hoverDuration;var H=g.width(),K=g.height(),P=[],J=new b.Renderer({antialias:!0,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:e.id,row:e.row,col:e.col,rows:e.rows,cols:e.cols,canvas:e.canvas});J.domElement.style.width="100%";J.domElement.style.height="100%";J.domElement.style.padding="0";J.domElement.style.position="absolute";J.domElement.style.top=
"0px";J.domElement.style.left="0px";J.domElement.style.zIndex="0";var qa=e.row,ba=e.col,U=e.cols,X=e.rows,W=e.viewers,L=e.control_all,A=J.getAspect(H,K),F=new b.Camera(20,A,1,800,e.orthographic);F.position=new b.Vector3(n,0,150);var T=new b.Vector3;F.lookAt(T);var S=new b.Raycaster(new b.Vector3(0,0,0),new b.Vector3(0,0,0)),ia=new b.Projector,ea=null,Z=null,Y=null,na=-50,ka=50,za=new b.Quaternion(0,0,0,1),ha=new b.Quaternion(0,0,0,1),da=0,aa=!1,la=0,pa=0,Na=0,xa=0,Ea=0,Fa=0,Ab=0,Ka=function(){0>--da&&
(da=0)},Nb=function(){var b=0,c;for(c in O)if(O.hasOwnProperty(c)){var d=parseInt(c);isNaN(d)||(c=d);c>b&&(b=c)}return b+1},ua=function(){var b=F.position.z-Z.position.z;1>b&&(b=1);F.near=b+na;1>F.near&&(F.near=1);F.far=b+ka;F.near+1>F.far&&(F.far=F.near+1);F.fov=20;F.right=b*Math.tan(Math.PI/180*20);F.left=-F.right;F.top=F.right/A;F.bottom=-F.top;F.updateProjectionMatrix();ea.fog.near=F.near+.4*(F.far-F.near);ea.fog.far=F.far;e.disableFog&&(ea.fog.near=ea.fog.far)},u=function(b){if(J.setViewport(),
ea&&(ua(),J.render(ea,F),!b&&0<P.length)){b=d.getView();for(var c=0;c<P.length;c++)P[c].setView(b,!0)}};!function(){(ea=new b.Scene).fog=new b.Fog(v,100,200);Y=new b.Object3D;(Z=new b.Object3D).useQuaternion=!0;Z.quaternion=new b.Quaternion(0,0,0,1);Z.add(Y);ea.add(Z);var c=new b.Light(16777215);c.position=(new b.Vector3(.2,.2,1)).normalize();c.intensity=1;ea.add(c)}();J.setClearColorHex(v,1);ea.fog.color=b.CC.color(v);var Qb=function(b,c){V!=b&&(V&&V.unhover_callback(V,d,c,g),V=b,b&&void 0!==b.hover_callback&&
"function"==typeof b.hover_callback&&b.hover_callback(b,d,c,g))},Aa=function(b){var c=b.originalEvent.targetTouches[0].pageX-b.originalEvent.targetTouches[1].pageX;b=b.originalEvent.targetTouches[0].pageY-b.originalEvent.targetTouches[1].pageY;return Math.sqrt(c*c+b*b)},ra=function(b){var c=b.pageX,d=b.pageY;return null==c&&(c=b.originalEvent.pageX),null==d&&(d=b.originalEvent.pageY),b.originalEvent.targetTouches&&b.originalEvent.targetTouches[0]?(c=b.originalEvent.targetTouches[0].pageX,d=b.originalEvent.targetTouches[0].pageY):
b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(c=b.originalEvent.changedTouches[0].pageX,d=b.originalEvent.changedTouches[0].pageY),[c,d]},Eb=function(b,c){var d=g.width(),e=g.height();if(null!=W&&!L){d/=U;e/=X;var l=I("canvas",g).offset();b=Math.floor((b-l.left)/d);if(X-Math.floor((c-l.top)/e)-1!=qa||b!=ba)return!1}return!0};I("body").bind("mouseup touchend",function(b){if(aa&&ea){var c=ra(b),e=c[0];c=c[1];if(e==la&&c==pa){var l=I("canvas",g).offset();0!=B.length&&(S.setFromCamera({x:(e-
l.left)/H*2-1,y:-(c-l.top)/K*2+1,z:-1},F),(e=S.intersectObjects(Y,B)).length)&&(e=e[0].clickable,void 0!==e.callback&&"function"==typeof e.callback&&e.callback(e,d,b,g));!0}}aa=!1});var Za,w=function(b){if(e.lowerZoomLimit&&0<e.lowerZoomLimit){var c=150-e.lowerZoomLimit;b>c&&(b=c)}e.upperZoomLimit&&0<e.upperZoomLimit&&(c=150-e.upperZoomLimit,b<c&&(b=c));return 150<b&&(b=149.85),b};this.setZoomLimits=function(b,c){void 0!==b&&(e.lowerZoomLimit=b);c&&(e.upperZoomLimit=c);Z.position.z=w(Z.position.z);
u()};var dc,db=this._handleMouseDown=function(b){if(b.preventDefault(),ea){var c=ra(b),d=c[0];c=c[1];void 0!==d&&(aa=!0,Za=b.which,la=d,pa=c,Na=0,b.originalEvent.targetTouches&&2==b.originalEvent.targetTouches.length&&(Na=Aa(b)),za=Z.quaternion,Ea=Z.position.z,xa=Y.position.clone(),Fa=na,Ab=ka)}},hb=this._handleMouseScroll=function(b){if(b.preventDefault(),ea){var c=ra(b),d=c[0];c=c[1];void 0!==d&&Eb(d,c)&&(d=.85*(150-Z.position.z),c=1,b.originalEvent.ctrlKey&&(c=-1),b.originalEvent.detail?Z.position.z+=
c*d*b.originalEvent.detail/10:b.originalEvent.wheelDelta&&(Z.position.z-=c*d*b.originalEvent.wheelDelta/400),Z.position.z=w(Z.position.z),u())}};this.pngURI=function(){return this.getCanvas().toDataURL("image/png")};this.getCanvas=function(){return E.get(0)};this.setHoverDuration=function(b){M=b};var uc=this._handleMouseMove=function(c){H=g.width();K=g.height();clearTimeout(dc);var d=I("canvas",g).offset(),e=(ra(c)[0]-d.left)/H*2-1,l=-(ra(c)[1]-d.top)/K*2+1;if(null!==V&&function(b,c){var d;S.setFromCamera({x:b,
y:c,z:-1},F);0!=(d=S.intersectObjects(Y,p)).length&&void 0!==d[0]||Qb(null);void 0!==d[0]&&d[0].clickable!==V&&Qb(null)}(e,l),dc=setTimeout(function(){if(0!=p.length){var b;(S.setFromCamera({x:e,y:l,z:-1},F),(b=S.intersectObjects(Y,p)).length)?(b=b[0].clickable,Qb(b),V=b):Qb(null)}!0},M),c.preventDefault(),ea&&aa){var k=0;d=ra(c);var n=d[0],m=d[1];if(void 0!==n&&Eb(n,m)){var r=(n-la)/H;d=(m-pa)/K;0!=Na&&c.originalEvent.targetTouches&&2==c.originalEvent.targetTouches.length?(k=2,d=2*(Aa(c)-Na)/(H+
K)):c.originalEvent.targetTouches&&3==c.originalEvent.targetTouches.length&&(k=1);var q=J.getXYRatio(),t=q[0],y=q[1];r*=t;d*=y;q=Math.sqrt(r*r+d*d);3==k||3==Za&&c.ctrlKey?(na=Fa+100*r,ka=Ab-100*d):2==k||3==Za||c.shiftKey?(80>(c=.85*(150-Z.position.z))&&(c=80),Z.position.z=Ea+d*c,Z.position.z=w(Z.position.z)):1==k||2==Za||c.ctrlKey?(c=function(c,d){c/=H;d/=K;var e=Z.quaternion,g=new b.Vector3(0,0,Z.position.z);return ia.projectVector(g,F),g.x+=2*c,g.y-=2*d,ia.unprojectVector(g,F),g.z=0,g.applyQuaternion(e),
g}(t*(n-la),y*(m-pa)),Y.position.addVectors(xa,c)):0!==k&&1!=Za||0===q||(c=Math.sin(q*Math.PI)/q,ha.x=Math.cos(q*Math.PI),ha.y=0,ha.z=c*r,ha.w=-c*d,Z.quaternion=new b.Quaternion(1,0,0,0),Z.quaternion.multiply(ha),Z.quaternion.multiply(za));u()}}},ib=function(b){H=(g=b).width();K=g.height();A=J.getAspect(H,K);J.setSize(H,K);g.append(J.domElement);E=I(J.domElement);z||(E.bind("mousedown touchstart",db),E.bind("DOMMouseScroll mousewheel",hb),E.bind("mousemove touchmove",uc),E.bind("contextmenu",function(b){b.preventDefault()}))};
ib(g);this.setContainer=function(b){return"string"===I.type(b)&&(b=I("#"+b)),b||(b=g),ib(b),this};this.setBackgroundColor=function(c,d){void 0===d?d=1:(0>d||1<d)&&(d=1);c=b.CC.color(c);return ea.fog.color=c,v=c.getHex(),J.setClearColorHex(c.getHex(),d),u(),this};this.setProjection=function(b){F.ortho="orthographic"===b;ua()};this.setViewStyle=function(c){if("outline"===c.style){var d={};c.color&&(d.color=b.CC.color(c.color));c.width&&(d.width=c.width);J.enableOutline(d)}else J.disableOutline();return this};
e.style&&this.setViewStyle(e);this.setWidth=function(b){return H=b||H,J.setSize(H,K),this};this.setHeight=function(b){return K=b||K,J.setSize(H,K),this};this.resize=function(){return H=g.width(),K=g.height(),A=J.getAspect(H,K),J.setSize(H,K),F.aspect=A,F.updateProjectionMatrix(),u(),this};I(window).resize(this.resize);this.getModel=function(b){return b in l?l[b]:0==l.length?null:l[l.length-1]};var jb,Ha=function(c,d,e){if(1==e)return d;if(0==e)return c;var g=c.x*d.x+c.y*d.y+c.z*d.z+c.w*d.w;if(.9995<
g)return c=new b.Quaternion(c.x+e*(d.x-c.x),c.y+e*(d.y-c.y),c.z+e*(d.z-c.z),c.w+e*(d.w-c.w)),c.normalize(),c;0>g&&(d=d.clone().multiplyScalar(-1),g=-g);1<g?g=1:-1>g&&(g=-1);e*=Math.acos(g);d=d.clone();d.sub(c.clone().multiplyScalar(g));d.normalize();g=Math.cos(e);e=Math.sin(e);c=new b.Quaternion(c.x*g+d.x*e,c.y*g+d.y*e,c.z*g+d.z*e,c.w*g+d.w*e);return c.normalize(),c};this.spin=function(b){if(clearInterval(jb),void 0===b&&(b="y"),"boolean"==typeof b){if(!b)return;b="y"}Array.isArray(b)&&(b={x:b[0],
y:b[1],z:b[2]});var c=this;jb=setInterval(function(){c.rotate(1,b)},25)};var gc=function(b,c,d,e,g,l){var k=Math.ceil(b/20);1>k&&(k=1);da++;var n=Y.position.clone(),p=Z.position.z;b=Z.quaternion.clone();var m=T.clone();if(c){c=(k=Array(k)).length;for(var r=0;r<c;r++){var q=(r+1)/c,t={mpos:n,rz:p,rot:b};d&&(t.mpos=d.clone().sub(n).multiplyScalar(q).add(n));void 0!==e&&null!=e&&(t.rz=p+q*(e-p));g&&(t.rot=Ha(b,g,q));l&&(t.cam=l.clone().sub(m).multiplyScalar(q).add(m));k[r]=t}var y=0,w=function(){var b=
k[y];y+=1;b.mpos&&(Y.position=b.mpos);b.rz&&(Z.position.z=b.rz);b.rot&&(Z.quaternion=b.rot);b.cam&&F.lookAt(b.cam);y<k.length?setTimeout(w,20):Ka();u()};setTimeout(w,20)}else{var G,E,x;c=1/k;if(d&&(G=d.clone().sub(n).multiplyScalar(c)),void 0!==e&&null!=e&&(E=c*(e-p)),g){d=Ha(b,g,c);var v=b.clone().inverse().multiply(d)}l&&(x=l.clone().sub(m).multiplyScalar(c));var A=0,ja=function(){A+=1;G&&Y.position.add(G);E&&(Z.position.z+=E);v&&Z.quaternion.multiply(v);x&&(T.add(x),F.lookAt(T));A<k?setTimeout(ja,
20):Ka();u()};setTimeout(ja,20)}};this.rotate=function(c,d,e,g){e=void 0!==e?e:0;void 0===d&&(d="y");"x"==d?d={x:1,y:0,z:0}:"y"==d?d={x:0,y:1,z:0}:"z"==d&&(d={x:0,y:0,z:1});var l=Math.PI*c/180,k,n,p;c=Math.sin(l/2);l=Math.cos(l/2);d=(k=d.x*c,n=d.y*c,p=d.z*c,(new b.Quaternion(k,n,p,l)).normalize());e?(k=(new b.Quaternion).copy(Z.quaternion).multiply(d),gc(e,g,Y.position,Z.position.z,k,T)):(Z.quaternion.multiply(d),u());return this};this.surfacesFinished=function(){for(var b in O)if(!O[b][0].done)return!1;
return!0};this.getView=function(){if(!Y)return[0,0,0,0,0,0,0,1];var b=Y.position,c=Z.quaternion;return[b.x,b.y,b.z,Z.position.z,c.x,c.y,c.z,c.w]};this.setView=function(b,c){return void 0!==b&&(b instanceof Array||8!==b.length)&&Y&&Z?(Y.position.x=b[0],Y.position.y=b[1],Y.position.z=b[2],Z.position.z=b[3],Z.quaternion.x=b[4],Z.quaternion.y=b[5],Z.quaternion.z=b[6],Z.quaternion.w=b[7],void 0!==b[8]&&(Z.position.x=b[8],Z.position.y=b[9]),u(c),this):this};this.render=function(c,d){J.setViewport();B.splice(0,
B.length);p.splice(0,p.length);for(var e=0,g=l.length;e<g;e++){var k=l[e];if(k){var n=k.selectedAtoms({clickable:!0});k=k.selectedAtoms({hoverable:!0});Array.prototype.push.apply(p,k);Array.prototype.push.apply(B,n)}}e=0;for(g=G.length;e<g;e++)(n=G[e])&&n.clickable&&B.push(n),n&&n.hoverable&&p.push(n);n=this.getView();d||(d=J.supportedExtensions());for(e=0;e<l.length;e++)l[e]&&l[e].globj(Y,d);for(e=0;e<G.length;e++)G[e]&&(void 0===G[e].frame||0>Q||0>G[e].frame||G[e].frame==Q?G[e].globj(Y,d):G[e].removegl(Y));
for(e=0;e<y.length;e++)y[e]&&void 0!==y[e].frame&&0<=y[e].frame&&(Y.remove(y[e].sprite),(0>Q||y[e].frame==Q)&&Y.add(y[e].sprite));for(e in O)if(O.hasOwnProperty(e))for(k=O[e],g=0;g<k.length;g++)if(k.hasOwnProperty(g)){var m=k[g].geo;if(!k[g].finished||d.regen){m.verticesNeedUpdate=!0;m.elementsNeedUpdate=!0;m.normalsNeedUpdate=!0;m.colorsNeedUpdate=!0;m.buffersNeedUpdate=!0;m.boundingSphere=null;k[g].done&&(k[g].finished=!0);k[g].lastGL&&Y.remove(k[g].lastGL);var r=null;if(r=k[g].mat instanceof b.LineBasicMaterial?
new b.Line(m,k[g].mat):new b.Mesh(m,k[g].mat),k[g].mat.transparent&&0==k[g].mat.opacity?r.visible=!1:r.visible=!0,1<k[g].symmetries.length||1==k[g].symmetries.length&&!k[g].symmetries[g].isIdentity()){var q=new b.Object3D;for(m=0;m<k[g].symmetries.length;m++){var t=r.clone();t.matrix=k[g].symmetries[m];t.matrixAutoUpdate=!1;q.add(t)}k[g].lastGL=q;Y.add(q)}else k[g].lastGL=r,Y.add(r)}}return this.setView(n),"function"==typeof c&&c(this),this};this.selectedAtoms=function(b){return t(b)};this.getUniqueValues=
function(b,c){void 0===c&&(c={});c=t(c);var d={},e;for(e in c)c[e].hasOwnProperty(b)&&(d[c[e][b]]=!0);return Object.keys(d)};this.pdbData=function(b){b=t(b);for(var c="",d=0,e=b.length;d<e;++d)c+=b[d].pdbline+"\n";return c};this.zoom=function(b,c,d){c=void 0!==c?c:0;b=150-(150-Z.position.z)/(b||2);return 0<c?gc(c,d,Y.position,w(b),Z.quaternion,T):(Z.position.z=w(b),u()),this};this.translate=function(c,d,e,g){e=void 0!==e?e:0;c/=H;d/=K;var l=new b.Vector3(0,0,-150);ia.projectVector(l,F);l.x-=c;l.y-=
d;ia.unprojectVector(l,F);l.z=0;c=T.clone().add(l);return 0<e?gc(e,g,Y.position,Z.position.z,Z.quaternion,c):(T=c,F.lookAt(T),u()),this};this.fitSlab=function(c){c=t(c||{});var d=b.getExtent(c);c=d[1][0]-d[0][0];var e=d[1][1]-d[0][1];d=d[1][2]-d[0][2];c=Math.sqrt(c*c+e*e+d*d);return 5>c&&(c=5),na=-c/1.9,ka=c/2,this};this.center=function(c,d,e){var g,l;d=void 0!==d?d:0;var k=t(c=c||{}),n=b.getExtent(k);I.isEmptyObject(c)?(I.each(G,function(c,d){d&&d.boundingSphere&&d.boundingSphere.center&&(c=d.boundingSphere.center,
d=d.boundingSphere.radius,0<d?(k.push(new b.Vector3(c.x+d,c.y,c.z)),k.push(new b.Vector3(c.x-d,c.y,c.z)),k.push(new b.Vector3(c.x,c.y+d,c.z)),k.push(new b.Vector3(c.x,c.y-d,c.z)),k.push(new b.Vector3(c.x,c.y,c.z+d)),k.push(new b.Vector3(c.x,c.y,c.z-d))):k.push(c))}),n=b.getExtent(k),g=k,l=n):(g=t({}),l=b.getExtent(g));c=new b.Vector3(n[2][0],n[2][1],n[2][2]);g=l[1][0]-l[0][0];var p=l[1][1]-l[0][1];l=l[1][2]-l[0][2];l=Math.sqrt(g*g+p*p+l*l);5>l&&(l=5);na=-l/1.9;ka=l/2;g=n[1][0]-n[0][0];p=n[1][1]-n[0][1];
l=n[1][2]-n[0][2];5>(l=Math.sqrt(g*g+p*p+l*l))&&(l=5);n=25;for(l=0;l<k.length;l++)k[l]&&(g=c.distanceToSquared(k[l]),g>n&&(n=g));l=2*Math.sqrt(n);c=c.clone().multiplyScalar(-1);return 0<d?gc(d,e,c,Z.position.z,Z.quaternion,T):(Y.position=c,u()),this};this.zoomTo=function(c,d,e){var g,l;d=void 0!==d?d:0;var k=t(c=c||{}),n=b.getExtent(k);I.isEmptyObject(c)?(I.each(G,function(c,d){d&&d.boundingSphere&&d.boundingSphere.center&&(c=d.boundingSphere.center,d=d.boundingSphere.radius,0<d?(k.push(new b.Vector3(c.x+
d,c.y,c.z)),k.push(new b.Vector3(c.x-d,c.y,c.z)),k.push(new b.Vector3(c.x,c.y+d,c.z)),k.push(new b.Vector3(c.x,c.y-d,c.z)),k.push(new b.Vector3(c.x,c.y,c.z+d)),k.push(new b.Vector3(c.x,c.y,c.z-d))):k.push(c))}),n=b.getExtent(k),g=k,l=n):(g=t({}),l=b.getExtent(g));g=new b.Vector3(n[2][0],n[2][1],n[2][2]);var p=l[1][0]-l[0][0],m=l[1][1]-l[0][1];l=l[1][2]-l[0][2];l=Math.sqrt(p*p+m*m+l*l);5>l&&(l=5);na=-l/1.9;ka=l/2;0===Object.keys(c).length&&(na=-999999,ka=999999);p=n[1][0]-n[0][0];m=n[1][1]-n[0][1];
l=n[1][2]-n[0][2];5>(l=Math.sqrt(p*p+m*m+l*l))&&(l=5);c=25;for(n=0;n<k.length;n++)k[n]&&(l=g.distanceToSquared(k[n]),l>c&&(c=l));l=2*Math.sqrt(c);g=g.clone().multiplyScalar(-1);c=-(.5*l/Math.tan(Math.PI/180*F.fov/2)-150);return c=w(c),0<d?gc(d,e,g,c,Z.quaternion,T):(Y.position=g,Z.position.z=c,u()),this};this.setSlab=function(b,c){na=b;ka=c};this.getSlab=function(){return{near:na,far:ka}};this.addLabel=function(c,d,e,g){if(d=d||{},e)e=b.getExtent(t(e)),d.position={x:e[2][0],y:e[2][1],z:e[2][2]};c=
new b.Label(c,d);return c.setContext(),Y.add(c.sprite),d.fixed&&R.push(y.length),y.push(c),g||u(),c};this.addResLabels=function(b,c,d){var e=y.length;return m("addResLabels",b,this,c,d),u(),y.slice(e)};this.addPropertyLabels=function(b,c,d){return m("addPropertyLabels",b,c,this,d),u(),this};this.removeLabel=function(b){for(var c=0;c<y.length;c++)if(y[c]==b){y.splice(c,1);b.dispose();Y.remove(b.sprite);break}return u(),this};this.removeAllLabels=function(){for(var b=0;b<y.length;b++)y[b]&&y[b].sprite&&
Y.remove(y[b].sprite);return y.splice(0,y.length),u(),this};this.setLabelStyle=function(b,c){return Y.remove(b.sprite),b.dispose(),b.stylespec=c,b.setContext(),Y.add(b.sprite),u(),b};this.setLabelText=function(b,c){return Y.remove(b.sprite),b.dispose(),b.text=c,b.setContext(),Y.add(b.sprite),u(),b};this.addShape=function(c){c=c||{};c=new b.GLShape(c);return c.shapePosition=G.length,G.push(c),c};this.removeShape=function(b){if(!b)return this;b.removegl(Y);for(delete G[b.shapePosition];0<G.length&&
void 0===G[G.length-1];)G.pop();return this};this.removeAllShapes=function(){for(var b=0;b<G.length;b++){var c=G[b];c&&c.removegl(Y)}return G.splice(0,G.length),this};var Oa=function(c){if(c.hasOwnProperty("x")&&c.hasOwnProperty("y")&&c.hasOwnProperty("z"))return c;c=t(c);if(0==c.length)return{x:0,y:0,z:0};c=b.getExtent(c);return{x:c[0][0]+(c[1][0]-c[0][0])/2,y:c[0][1]+(c[1][1]-c[0][1])/2,z:c[0][2]+(c[1][2]-c[0][2])/2}};this.addSphere=function(c){(c=c||{}).center=Oa(c.center);var d=new b.GLShape(c);
return d.shapePosition=G.length,d.addSphere(c),G.push(d),d.finalize(),d};this.addBox=function(c){null!=(c=c||{}).corner&&(c.corner=Oa(c.corner));null!=c.center&&(c.center=Oa(c.center));var d=new b.GLShape(c);return d.shapePosition=G.length,d.addBox(c),G.push(d),d.finalize(),d};this.addArrow=function(c){(c=c||{}).start=Oa(c.start);c.end=Oa(c.end);var d=new b.GLShape(c);return d.shapePosition=G.length,d.addArrow(c),G.push(d),d.finalize(),d};this.addCylinder=function(c){(c=c||{}).start=Oa(c.start);c.end=
Oa(c.end);var d=new b.GLShape(c);return d.shapePosition=G.length,c.dashed?d.addDashedCylinder(c):d.addCylinder(c),G.push(d),d.finalize(),d};this.addCurve=function(c){c=c||{};var d=new b.GLShape(c);return d.shapePosition=G.length,d.addCurve(c),G.push(d),d.finalize(),d};this.addLine=function(c){(c=c||{}).start=Oa(c.start);c.end=Oa(c.end);c.wireframe=!0;var d=new b.GLShape(c);d.shapePosition=G.length;if(c.dashed){c.dashLength=c.dashLength||.5;c.gapLength=c.gapLength||.5;c.start=c.start||{};c.end=c.end||
{};var e,g=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),l=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);var k=new b.Vector3;new b.Vector3;new b.Vector3;var n=g.clone(),p=0;k.subVectors(l,g);var m=k.length();k.normalize();var r=k.clone();var q=k.clone();r.multiplyScalar(c.dashLength);q.multiplyScalar(c.gapLength);k=r.length();for(e=q.length();p<m;){if(p+k>m){c.start=g;c.end=l;d.addLine(c);break}n.addVectors(g,r);c.start=g;c.end=n;d.addLine(c);g=n.clone();p+=k;n.addVectors(g,q);g=n.clone();
p+=e}d=(d.finalize(),d)}else d.addLine(c);return G.push(d),d.finalize(),d};this.addUnitCell=function(c){c||(c=this.getModel());var d=new b.GLShape({wireframe:!0});d.shapePosition=G.length;var e=c.getCrystData();if(e){if(e.matrix)c=e.matrix;else{c=e.a;var g=e.b,l=e.c;var k=e.alpha;var n=e.beta,p=e.gamma;k=k*Math.PI/180;n=n*Math.PI/180;p=p*Math.PI/180;e=Math.cos(n);k=(Math.cos(k)-Math.cos(n)*Math.cos(p))/Math.sin(p);c=new b.Matrix4(c,g*Math.cos(p),l*e,0,0,g*Math.sin(p),l*k,0,0,0,l*Math.sqrt(Math.max(0,
1-e*e-k*k)),0,0,0,0,1)}g=[new b.Vector3(0,0,0),new b.Vector3(1,0,0),new b.Vector3(0,1,0),new b.Vector3(0,0,1),new b.Vector3(1,1,0),new b.Vector3(0,1,1),new b.Vector3(1,0,1),new b.Vector3(1,1,1)];for(l=0;l<g.length;l++)g[l]=g[l].applyMatrix4(c);d.addLine({start:g[0],end:g[1]});d.addLine({start:g[0],end:g[2]});d.addLine({start:g[1],end:g[4]});d.addLine({start:g[2],end:g[4]});d.addLine({start:g[0],end:g[3]});d.addLine({start:g[3],end:g[5]});d.addLine({start:g[2],end:g[5]});d.addLine({start:g[1],end:g[6]});
d.addLine({start:g[4],end:g[7]});d.addLine({start:g[6],end:g[7]});d.addLine({start:g[3],end:g[6]});d.addLine({start:g[5],end:g[7]})}return G.push(d),d.finalize(),d};this.addCustom=function(c){c=c||{};var d=new b.GLShape(c);return d.shapePosition=G.length,d.addCustom(c),G.push(d),d.finalize(),d};this.addVolumetricData=function(c,d,e){e=e||{};var g=new b.GLShape(e);return g.shapePosition=G.length,g.addVolumetricData(c,d,e),G.push(g),g};this.addIsosurface=function(c,d,e){d=d||{};var g=new b.GLShape(d);
return g.shapePosition=G.length,g.addIsosurface(c,d,e),G.push(g),g};this.enableFog=function(c){c?ea.fog=new b.Fog(v,100,200):(e.disableFog=!0,u())};this.setFrame=function(b){return Q=b,new Promise(function(c){var d=l.map(function(c){return c.setFrame(b)});Promise.all(d).then(function(){c()})})};this.getFrame=function(){return Q};this.getNumFrames=function(){for(var b=0,c=0;c<l.length;c++)l[c].getNumFrames()>b&&(b=l[c].getNumFrames());for(c=0;c<G.length;c++)G[c].frame&&G[c].frame>=b&&(b=G[c].frame+
1);for(c=0;c<y.length;c++)y[c].frame&&y[c].frame>=b&&(b=y[c].frame+1);return b};this.animate=function(b){da++;var c=100,d="forward",e=0;(b=b||{}).interval&&(c=b.interval);b.loop&&(d=b.loop);b.reps&&(e=b.reps);var g=this.getNumFrames(),l=this,k=0,n=1;b.step&&(e/=n=b.step);var p,m,r=0,q=g*e,t=new Date,y=function(b){t=new Date;"forward"==b?l.setFrame(k).then(function(){k=(k+n)%g;p()}):"backward"==b?l.setFrame(g-1-k).then(function(){k=(k+n)%g;p()}):l.setFrame(k).then(function(){n*=0==(k+=n)%(g-1)?-1:
1;p()})};return p=function(){if(l.render(),++r!=q&&l.isAnimated()){var b=c-(new Date-t);setTimeout(y,0<b?b:0,d)}else clearTimeout(m),Ka()},m=setTimeout(y,0,d),this};this.stopAnimate=function(){return da=0,this};this.isAnimated=function(){return 0<da};this.addModel=function(c,d,e){e&&!e.defaultcolors&&(e.defaultcolors=x);var g=new b.GLModel(l.length,e);return g.addMolData(c,d,e),l.push(g),g};this.addModels=function(c,d,e){(e=e||{}).multimodel=!0;e.frames=!0;c=b.GLModel.parseMolData(c,d,e);for(d=0;d<
c.length;d++){var g=new b.GLModel(l.length,x);g.setAtomDefaults(c[d]);g.addFrame(c[d]);g.setFrame(0);c.modelData&&g.setModelData(c.modelData[d]);g.setDontDuplicateAtoms(!e.duplicateAssemblyAtoms);l.push(g)}return l};this.addModelsAsFrames=function(c,d,e){(e=e||{}).multimodel=!0;e.frames=!0;var g=new b.GLModel(l.length,x);return g.addMolData(c,d,e),l.push(g),g};this.addAsOneMolecule=function(c,d,e){(e=e||{}).multimodel=!0;e.onemol=!0;var g=new b.GLModel(l.length,x);return g.addMolData(c,d,e),l.push(g),
g};this.removeModel=function(b){if(b){b.removegl(Y);for(delete l[b.getID()];0<l.length&&void 0===l[l.length-1];)l.pop();return this}};this.removeAllModels=function(){for(var b=0;b<l.length;b++){var c=l[b];c&&c.removegl(Y)}return l.splice(0,l.length),this};this.exportJSON=function(b,c){var d={};return d.m=void 0===c?l.map(function(c){return c.toCDObject(b)}):[l[c].toCDObject()],JSON.stringify(d)};this.exportVRML=function(){var c=Y;m("removegl",Y);Y=new b.Object3D;this.render(null,{supportsImposters:!1,
supportsAIA:!1,regen:!0});var d="#VRML V2.0 utf8\n"+Y.vrml()+"\n";return m("removegl",Y),Y=c,d};this.createModelFrom=function(c,d){for(var e=new b.GLModel(l.length,x),g=0;g<l.length;g++)if(l[g]){var k=l[g].selectedAtoms(c);e.addAtoms(k);d&&l[g].removeAtoms(k)}return l.push(e),e};this.setStyle=function(b,c){return void 0===c&&(c=b,b={}),m("setStyle",b,c,!1),this};this.addStyle=function(b,c){return void 0===c&&(c=b,b={}),m("setStyle",b,c,!0),this};this.setClickable=function(b,c,d){return m("setClickable",
b,c,d),this};this.setHoverable=function(b,c,d,e){return m("setHoverable",b,c,d,e),this};this.vibrate=function(b,c,d,e){return m("vibrate",b,c,d,this,e),this};this.setColorByProperty=function(b,c,d,e){return m("setColorByProperty",b,c,d,e),this};this.setColorByElement=function(b,c){return m("setColorByElement",b,c),this};var hc=function(b,c){for(var d=[],e=0;e<b.length;e++){var g=b[e];void 0!==g&&(g.x<c[0][0]||g.x>c[1][0]||g.y<c[0][1]||g.y>c[1][1]||g.z<c[0][2]||g.z>c[1][2]||d.push(g))}return d},$a=
function(b){return(b[1][0]-b[0][0])*(b[1][1]-b[0][1])*(b[1][2]-b[0][2])},Ja=function(c,d,e){for(var g=new b.Geometry(!0),l=g.updateGeoGroup(0),k=[],n=0,p=c.length;n<p;n++){var m=c[n];m&&(void 0!==m.surfaceColor?k[n]=m.surfaceColor:m.color&&(k[n]=b.CC.color(m.color)))}n=l.vertexArray;c=d.vertices;p=0;for(m=c.length;p<m;p++){var r=3*l.vertices;n[r]=c[p].x;n[r+1]=c[p].y;n[r+2]=c[p].z;l.vertices++}n=l.colorArray;if(e.voldata&&e.volscheme){k=e.volscheme;p=e.voldata;m=k.range()||[-1,1];r=0;for(var q=c.length;r<
q;r++){var t=p.getVal(c[r].x,c[r].y,c[r].z);t=b.CC.color(k.valueToHex(t,m));var y=3*r;n[y]=t.r;n[y+1]=t.g;n[y+2]=t.b}}else if(0<k.length)for(p=0,m=c.length;p<m;p++)r=c[p].atomid,q=3*p,n[q]=k[r].r,n[q+1]=k[r].g,n[q+2]=k[r].b;d=d.faces;l.faceidx=d.length;g.initTypedArrays();var u;c=l.vertexArray;k=l.normalArray;n=0;for(p=d.length;n<p;n+=3)m=3*d[n],r=3*d[n+1],q=3*d[n+2],t=new b.Vector3(c[m],c[m+1],c[m+2]),y=new b.Vector3(c[r],c[r+1],c[r+2]),(u=new b.Vector3(c[q],c[q+1],c[q+2])).subVectors(u,y),t.subVectors(t,
y),u.cross(t),(t=u).normalize(),k[m]+=t.x,k[r]+=t.x,k[q]+=t.x,k[m+1]+=t.y,k[r+1]+=t.y,k[q+1]+=t.y,k[m+2]+=t.z,k[r+2]+=t.z,k[q+2]+=t.z;l.faceArray=new Uint16Array(d);e=new b.Mesh(g,e);return e.doubleSided=!0,e};this.addMesh=function(b){b={geo:b.geometry,mat:b.material,done:!0,finished:!1};var c=Nb();return O[c]=b,c};var Ia=function(b){var c=[];return I.each(b,function(b,d){c[b]=I.extend({},d)}),c},fa={VDW:b.SurfaceType.VDW,MS:b.SurfaceType.MS,SAS:b.SurfaceType.SAS,SES:b.SurfaceType.SES};this.addSurface=
function(c,e,g,n,p,m){var r=Nb(),q=null;"string"==typeof c?void 0!==fa[c]?c=fa[c]:console.log("Surface type : "+c+" is not recognized"):void 0===c&&(c=b.SurfaceType.VDW);var y=null,u=null;g=Ia(t(g));y=n?Ia(t(n)):g;var w=!1;for(n=0;n<l.length;n++)if(l[n]){var G=l[n].getSymmetries();if(1<G.length||1==G.length&&!G[0].isIdentity()){w=!0;break}}G=function(g,l,k){var n;u=p?Ia(t(p)):k;var m=b.getExtent(k,!0);if(e.map&&e.map.prop){var y=e.map.prop,w=e.map.scheme||e.map.gradient||new b.Gradient.RWB,G=w.range();
G||(G=b.getPropertyRange(k,y));e.colorscheme={prop:y,gradient:w}}y=0;for(w=l.length;y<w;y++)(n=l[y]).surfaceColor=b.getColorFromStyle(n,e);var E=$a(m),x=function(b,c,d){for(var e=[],g={},l=0,k=c.length;l<k;l++)g[c[l].index]=l;l=function(b){for(var c=[],d=0,e=b.length;d<e;d++)b[d].index in g&&c.push(g[b[d].index]);return c};var n=function(b){var c=[];return c[0]=[b[0][0],b[0][1],b[0][2]],c[1]=[b[1][0],b[1][1],b[1][2]],c},p=function(b){if(64E3>$a(b))return[b];var c=b[1][0]-b[0][0];var d=b[1][1]-b[0][1];
var e=b[1][2]-b[0][2];d=c>d&&c>e?0:d>c&&d>e?1:2;e=n(b);c=n(b);b=(b[1][d]-b[0][d])/2+b[0][d];e[1][d]=b;c[0][d]=b;b=p(e);c=p(c);return b.concat(c)};b=p(b);k=0;for(var m=b.length;k<m;k++){var r=n(b[k]);r[0][0]-=6;r[0][1]-=6;r[0][2]-=6;r[1][0]+=6;r[1][1]+=6;r[1][2]+=6;r=hc(c,r);var q=hc(d,b[k]);e.push({extent:b[k],atoms:l(r),toshow:l(q)})}return e}(m,l,k);if(u&&u.length&&0<u.length){var v=b.getExtent(u,!0);x.sort(function(b,c){var d=function(b,c){var d=b.extent;b=d[1][0]-d[0][0]-c[2][0];var e=d[1][1]-
d[0][1]-c[2][1];c=d[1][2]-d[0][2]-c[2][2];return b*b+e*e+c*c};return d(b,v)-d(c,v)})}var A=[];k=0;for(m=l.length;k<m;k++)n=l[k],A[k]={x:n.x,y:n.y,z:n.z,serial:k,elem:n.elem};if(b.syncSurface){n=function(e){return new Promise(function(k){var n=c,p=x[e].extent,m=x[e].atoms;var r=x[e].toshow;var t=new b.ProteinSurface;r=(t.initparm(p,1!==n,E),t.fillvoxels(A,m),t.buildboundary(),n!=b.SurfaceType.SES&&n!=b.SurfaceType.MS||(t.fastdistancemap(),t.boundingatom(!1),t.fillvoxelswaals(A,m)),t.marchingcube(n),
t.getFacesAndVertices(r));n=b.splitMesh({vertexArr:r.vertices,faceArr:r.faces});p=0;for(m=n.length;p<m;p++)r={vertices:n[p].vertexArr,faces:n[p].faceArr},r=Ja(l,r,q),b.mergeGeos(g.geo,r);d.render();k()})};k=[];for(m=0;m<x.length;m++)k.push(n(m));return Promise.all(k).then(function(){return g.done=!0,Promise.resolve(r)})}var O=[];0>c&&(c=0);for(n=0;4>n;n++)k=new Worker(b.SurfaceWorker),O.push(k),k.postMessage({type:-1,atoms:A,volume:E});return new Promise(function(e,k){for(var n=0,p=function(c){c=
b.splitMesh({vertexArr:c.data.vertices,faceArr:c.data.faces});for(var k=0,p=c.length;k<p;k++){var m=Ja(l,{vertices:c[k].vertexArr,faces:c[k].faceArr},q);b.mergeGeos(g.geo,m)}d.render();++n==x.length&&(g.done=!0,e(r))},m=function(b){console.log(b.message+" ("+b.filename+":"+b.lineno+")");k(b)},t=0;t<x.length;t++){var y=O[t%O.length];y.onmessage=p;y.onerror=m;y.postMessage({type:c,expandedExtent:x[t].extent,extendedAtoms:x[t].atoms,atomsToShow:x[t].toshow})}})};q=k(e=e||{});var E=[];n=null;if(w){w=
{};var x={};for(n=0;n<l.length;n++)w[n]=[],x[n]=[];for(n=0;n<y.length;n++)w[y[n].model].push(y[n]);for(n=0;n<g.length;n++)x[g[n].model].push(g[n]);y=[];for(n=0;n<l.length;n++)0<x[n].length&&(E.push({geo:new b.Geometry(!0),mat:q,done:!1,finished:!1,symmetries:l[n].getSymmetries()}),y.append(G(E[n],w[n],x[n])));n=Promise.all(y)}else E.push({geo:new b.Geometry(!0),mat:q,done:!1,finished:!1,symmetries:[new b.Matrix4]}),n=G(E[E.length-1],y,g);return O[r]=E,n.surfid=r,m&&"function"==typeof m?(n.then(function(b){m(b)}),
r):n};this.setSurfaceMaterialStyle=function(c,d){if(O[c]){var e={};c=O[c];for(var g=0;g<c.length;e={$jscomp$loop$prop$e$161$275:e.$jscomp$loop$prop$e$161$275,$jscomp$loop$prop$t$163$276:e.$jscomp$loop$prop$t$163$276,$jscomp$loop$prop$o$164$277:e.$jscomp$loop$prop$o$164$277,$jscomp$loop$prop$e$162$278:e.$jscomp$loop$prop$e$162$278,$jscomp$loop$prop$a$165$279:e.$jscomp$loop$prop$a$165$279},g++){var l=c[g].mat=k(d);(c[g].mat.side=b.FrontSide,d.color)?(c[g].mat.color=d.color,c[g].geo.colorsNeedUpdate=
!0,e.$jscomp$loop$prop$e$161$275=b.CC.color(d.color),c[g].geo.setColors(function(b){return function(){return b.$jscomp$loop$prop$e$161$275}}(e))):l.voldata&&l.volscheme&&(e.$jscomp$loop$prop$e$162$278=l.volscheme,e.$jscomp$loop$prop$t$163$276=l.voldata,e.$jscomp$loop$prop$o$164$277=b.CC,e.$jscomp$loop$prop$a$165$279=e.$jscomp$loop$prop$e$162$278.range()||[-1,1],c[g].geo.setColors(function(b){return function(c,d,e){c=b.$jscomp$loop$prop$t$163$276.getVal(c,d,e);return b.$jscomp$loop$prop$o$164$277.color(b.$jscomp$loop$prop$e$162$278.valueToHex(c,
b.$jscomp$loop$prop$a$165$279))}}(e)));c[g].finished=!1}}return this};this.removeSurface=function(b){for(var c=O[b],d=0;d<c.length;d++)c[d]&&c[d].lastGL&&(void 0!==c[d].geo&&c[d].geo.dispose(),void 0!==c[d].mat&&c[d].mat.dispose(),Y.remove(c[d].lastGL));return delete O[b],u(),this};this.removeAllSurfaces=function(){for(var b in O)if(O.hasOwnProperty(b)){for(var c=O[b],d=0;d<c.length;d++)c[d]&&c[d].lastGL&&(void 0!==c[d].geo&&c[d].geo.dispose(),void 0!==c[d].mat&&c[d].mat.dispose(),Y.remove(c[d].lastGL));
delete O[b]}return u(),this};this.jmolMoveTo=function(){var b=Y.position,c=Z.quaternion;return"center { "+-b.x+" "+-b.y+" "+-b.z+" }; moveto .5 quaternion { "+(c.x+" "+c.y+" "+c.z+" "+c.w+" };")};this.clear=function(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),u(),this};this.mapAtomProperties=function(b,c){c=t(c||{});if("function"==typeof b)for(var d=0,e=c.length;d<e;d++)b(c[d]);else{e=0;for(var g=c.length;e<g;e++)for(var l=c[e],k=0,n=b.length;k<
n;k++){var p=b[k];if(p.props)for(d in p.props){var m;if(m=p.props.hasOwnProperty(d))a:{m=l;var r=p;void 0===r&&(r={});for(var y=q(r),u=0;u<y.length;u++)if(y[u].atomIsSelected(m,r)){m=!0;break a}m=!1}m&&(l.properties||(l.properties={}),l.properties[d]=p.props[d])}}}return this};this.linkViewer=function(b){return P.push(b),this};try{"function"==typeof r&&r(this)}catch(ja){console.log("error with glviewer callback: "+ja)}this.getPerceivedDistance=function(){return 150-Z.position.z};this.setPerceivedDistance=
function(b){Z.position.z=150-b};this.setAutoEyeSeparation=function(c){var d=this.getPerceivedDistance();return c||0<F.position.x?F.position.x=d*Math.tan(Math.PI/180*5):F.position.x=-d*Math.tan(Math.PI/180*5),F.lookAt(new b.Vector3(0,0,Z.position.z)),F.position.x}}}();b.glmolViewer=b.GLViewer;b=b||{};b.Gradient=function(){};b.Gradient.valueToHex=function(){};b.Gradient.range=function(){};b.Gradient.normalizeValue=function(b,e,q){return e>=b?(q<b&&(q=b),q>e&&(q=e),{lo:b,hi:e,val:q}):(q>b&&(q=b),q<e&&
(q=e),{lo:e,hi:b,val:b-q+e})};b.Gradient.RWB=function(c,e,q){void 0===e&&I.isArray(c)&&2<=c.length&&(e=c[1],c=c[0]);this.valueToHex=function(t,m){var k,r;if(t*=1,m?(k=m[0],r=m[1]):(k=c,r=e),void 0===t)return 16777215;var x=b.Gradient.normalizeValue(k,r,t);k=x.lo;var z,v=((r=x.hi)+k)/2;return(t=x.val)<=(v=m&&void 0!==m[2]?m[2]:void 0!==q?q:(k+r)/2)?16711680+256*(z=Math.floor(255*Math.sqrt((t-k)/(v-k))))+z:65536*(z=Math.floor(255*Math.sqrt(1-(t-v)/(r-v))))+256*z+255};this.range=function(){return void 0!==
c&&void 0!==e?[c,e]:null}};b.Gradient.ROYGB=function(c,e){void 0===e&&I.isArray(c)&&2<=c.length&&(e=c[1],c=c[0]);this.valueToHex=function(q,t){var m,k;if(q*=1,t?(m=t[0],k=t[1]):(m=c,k=e),void 0===q)return 16777215;t=b.Gradient.normalizeValue(m,k,q);var r=((m=t.lo)+(k=t.hi))/2,x=(m+r)/2,z=(r+k)/2;return(q=t.val)<x?16711680+256*Math.floor(255*Math.sqrt((q-m)/(x-m))):q<r?65536*Math.floor(255*Math.sqrt(1-(q-x)/(r-x)))+65280:q<z?65280+1*Math.floor(255*Math.sqrt((q-r)/(z-r))):256*Math.floor(255*Math.sqrt(1-
(q-z)/(k-z)))+255};this.range=function(){return void 0!==c&&void 0!==e?[c,e]:null}};b.Gradient.Sinebow=function(c,e){var q=1;void 0===e&&I.isArray(c)&&2<=c.length&&(e=c[1],c=c[0]);e<c&&(q=-1,c*=-1,e*=-1);this.valueToHex=function(t,m){var k,r;if(t*=q,m?(k=m[0],r=m[1]):(k=c,r=e),void 0===t)return 16777215;t=b.Gradient.normalizeValue(k,r,t);k=t.lo;r=t.hi;t=(t.val-k)/(r-k)*5/6+.5;k=Math.sin(Math.PI*t);r=Math.sin(Math.PI*(t+1/3));t=Math.sin(Math.PI*(t+2/3));return t*=255*t,65536*Math.floor(255*k*k)+256*
Math.floor(t)+1*Math.floor(255*r*r)};this.range=function(){return void 0!==c&&void 0!==e?[c,e]:null}};b.Gradient.builtinGradients={rwb:b.Gradient.RWB,roygb:b.Gradient.ROYGB,sinebow:b.Gradient.Sinebow};b.LabelCount=0;b.Label=function(c,e){this.id=b.LabelCount++;this.stylespec=e||{};this.canvas=document.createElement("canvas");this.canvas.width=134;this.canvas.height=35;this.context=this.canvas.getContext("2d");this.sprite=new b.Sprite;this.text=c;this.frame=this.stylespec.frame};b.Label.prototype=
{constructor:b.Label,getStyle:function(){return this.stylespec},setContext:function(){var c=function(c,q,t){return void 0!==c&&(t=c instanceof b.Color?c.scaled():b.CC.color(c).scaled()),void 0!==q&&(t.a=parseFloat(q)),t};return function(){var e=this.stylespec,q=void 0!==e.useScreen&&e.useScreen,t=e.showBackground;"0"!==t&&"false"!==t||(t=!1);void 0===t&&(t=!0);var m=e.font?e.font:"sans-serif",k=parseInt(e.fontSize)?parseInt(e.fontSize):18,r=c(e.fontColor,e.fontOpacity,{r:255,g:255,b:255,a:1}),x=e.padding?
e.padding:4,z=e.borderThickness?e.borderThickness:0,v=c(e.backgroundColor,e.backgroundOpacity,{r:0,g:0,b:0,a:1}),n=c(e.borderColor,e.borderOpacity,v),d=e.position?e.position:{x:-10,y:1,z:1},g=void 0===e.inFront||e.inFront;"false"!==g&&"0"!==g||(g=!1);var E=e.alignment||b.SpriteAlignment.topLeft;"string"==typeof E&&E in b.SpriteAlignment&&(E=b.SpriteAlignment[E]);var l="";e.bold&&(l="bold ");this.context.font=l+k+"px  "+m;var O=this.context.measureText(this.text).width;t||(z=0);var G=O+2.5*z+2*x,y=
1.25*k+2*z+2*x;if(e.backgroundImage){var R=e.backgroundImage;l=e.backgroundWidth?e.backgroundWidth:R.width;R=e.backgroundHeight?e.backgroundHeight:R.height;l>G&&(G=l);R>y&&(y=R)}this.canvas.width=G;this.canvas.height=y;this.context.clearRect(0,0,this.canvas.width,this.canvas.height);l="";e.bold&&(l="bold ");this.context.font=l+k+"px  "+m;this.context.fillStyle="rgba("+v.r+","+v.g+","+v.b+","+v.a+")";this.context.strokeStyle="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";this.context.lineWidth=z;t&&(t=this.context,
v=m=z,G-=2*z,y-=2*z,n=0<z,t.beginPath(),t.moveTo(m+6,v),t.lineTo(m+G-6,v),t.quadraticCurveTo(m+G,v,m+G,v+6),t.lineTo(m+G,v+y-6),t.quadraticCurveTo(m+G,v+y,m+G-6,v+y),t.lineTo(m+6,v+y),t.quadraticCurveTo(m,v+y,m,v+y-6),t.lineTo(m,v+6),t.quadraticCurveTo(m,v,m+6,v),t.closePath(),t.fill(),n&&t.stroke());e.backgroundImage&&(y=e.backgroundImage,this.context.drawImage(y,0,0,e.backgroundWidth?e.backgroundWidth:y.width,e.backgroundHeight?e.backgroundHeight:y.height));this.context.fillStyle="rgba("+r.r+","+
r.g+","+r.b+","+r.a+")";this.context.fillText(this.text,z+x,k+z+x,O);e=new b.Texture(this.canvas);e.needsUpdate=!0;this.sprite.material=new b.SpriteMaterial({map:e,useScreenCoordinates:q,alignment:E,depthTest:!g});this.sprite.scale.set(1,1,1);this.sprite.position.set(d.x,d.y,d.z)}}(),dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose();void 0!==this.sprite.material&&this.sprite.material.dispose()}};b=b||{};b.MarchingCubeInitializer=function(){var c,e,q,t,m={};return m.march=
function(k,m,x,z){var r=!!z.fulltable,n=z.hasOwnProperty("origin")&&z.origin.hasOwnProperty("x")?z.origin:{x:0,y:0,z:0},d=!!z.voxel,g=z.matrix,E=z.nX||0,l=z.nY||0,O=z.nZ||0,G=z.scale||1,y=null;y=z.unitCube?z.unitCube:{x:G,y:G,z:G};var R=new Int32Array(E*l*O);z=0;for(G=R.length;z<G;++z)R[z]=-1;G=function(c,e,k,p,r,q){var t={x:0,y:0,z:0},G=r;!(p&1<<r)&&p&1<<q&&(G=q);1&G&&k++;2&G&&e++;4&G&&c++;g?t={x:(t=(t=new b.Vector3(c,e,k)).applyMatrix4(g)).x,y:t.y,z:t.z}:(t.x=n.x+y.x*c,t.y=n.y+y.y*e,t.z=n.z+y.z*
k);c=(l*c+e)*O+k;return d?(m.push(t),m.length-1):(0>R[c]&&(R[c]=m.length,m.push(t)),R[c])};var B=new Int32Array(12),p=r?e:c;r=r?t:q;for(z=0;z<E-1;++z)for(var V=0;V<l-1;++V)for(var M=0;M<O-1;++M){for(var Q=0,H=0;8>H;++H)Q|=!!(2&k[(l*(z+((4&H)>>2))+V+((2&H)>>1))*O+M+(1&H)])<<H;if(0!==Q&&255!==Q){var K=p[Q];if(0!==K)for(H=r[Q],1&K&&(B[0]=G(z,V,M,Q,0,1)),2&K&&(B[1]=G(z,V,M,Q,1,3)),4&K&&(B[2]=G(z,V,M,Q,3,2)),8&K&&(B[3]=G(z,V,M,Q,2,0)),16&K&&(B[4]=G(z,V,M,Q,4,5)),32&K&&(B[5]=G(z,V,M,Q,5,7)),64&K&&(B[6]=
G(z,V,M,Q,7,6)),128&K&&(B[7]=G(z,V,M,Q,6,4)),256&K&&(B[8]=G(z,V,M,Q,0,4)),512&K&&(B[9]=G(z,V,M,Q,1,5)),1024&K&&(B[10]=G(z,V,M,Q,3,7)),2048&K&&(B[11]=G(z,V,M,Q,2,6)),Q=0;Q<H.length;Q+=3){K=B[H[Q]];var I=B[H[Q+1]],J=B[H[Q+2]];d&&3<=Q&&(m.push(m[K]),K=m.length-1,m.push(m[I]),I=m.length-1,m.push(m[J]),J=m.length-1);x.push(K);x.push(I);x.push(J)}}}},m.laplacianSmooth=function(b,c,e){var k,m,n=Array(c.length);var d=0;for(k=c.length;d<k;d++)n[d]={x:0,y:0,z:0};var g=Array(20);for(d=0;20>d;d++)g[d]=Array(c.length);
d=0;for(k=c.length;d<k;d++)g[0][d]=0;d=0;for(k=e.length/3;d<k;d++){var r=3*d,l=3*d+1,q=3*d+2;var t=!0;var y=0;for(m=g[0][e[r]];y<m;y++)if(e[l]==g[y+1][e[r]]){t=!1;break}t&&(g[0][e[r]]++,g[g[0][e[r]]][e[r]]=e[l]);t=!0;y=0;for(m=g[0][e[r]];y<m;y++)if(e[q]==g[y+1][e[r]]){t=!1;break}t&&(g[0][e[r]]++,g[g[0][e[r]]][e[r]]=e[q]);t=!0;y=0;for(m=g[0][e[l]];y<m;y++)if(e[r]==g[y+1][e[l]]){t=!1;break}t&&(g[0][e[l]]++,g[g[0][e[l]]][e[l]]=e[r]);t=!0;y=0;for(m=g[0][e[l]];y<m;y++)if(e[q]==g[y+1][e[l]]){t=!1;break}t&&
(g[0][e[l]]++,g[g[0][e[l]]][e[l]]=e[q]);t=!0;for(y=0;y<g[0][e[q]];y++)if(e[r]==g[y+1][e[q]]){t=!1;break}t&&(g[0][e[q]]++,g[g[0][e[q]]][e[q]]=e[r]);t=!0;y=0;for(m=g[0][e[q]];y<m;y++)if(e[l]==g[y+1][e[q]]){t=!1;break}t&&(g[0][e[q]]++,g[g[0][e[q]]][e[q]]=e[l])}for(e=0;e<b;e++){d=0;for(k=c.length;d<k;d++)if(3>g[0][d])n[d].x=c[d].x,n[d].y=c[d].y,n[d].z=c[d].z;else if(3==g[0][d]||4==g[0][d]){n[d].x=0;n[d].y=0;y=n[d].z=0;for(m=g[0][d];y<m;y++)n[d].x+=c[g[y+1][d]].x,n[d].y+=c[g[y+1][d]].y,n[d].z+=c[g[y+1][d]].z;
n[d].x+=.5*c[d].x;n[d].y+=.5*c[d].y;n[d].z+=.5*c[d].z;n[d].x/=.5+g[0][d];n[d].y/=.5+g[0][d];n[d].z/=.5+g[0][d]}else{n[d].x=0;n[d].y=0;y=n[d].z=0;for(m=g[0][d];y<m;y++)n[d].x+=c[g[y+1][d]].x,n[d].y+=c[g[y+1][d]].y,n[d].z+=c[g[y+1][d]].z;n[d].x+=1*c[d].x;n[d].y+=1*c[d].y;n[d].z+=1*c[d].z;n[d].x/=1+g[0][d];n[d].y/=1+g[0][d];n[d].z/=1+g[0][d]}d=0;for(k=c.length;d<k;d++)c[d].x=n[d].x,c[d].y=n[d].y,c[d].z=n[d].z}},m.edgeTable=[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,
0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,
340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0],c=new Uint32Array(m.edgeTable),q=m.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,
11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],
[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],
[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,
4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],
[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,
1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],e=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,
3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,
367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,
3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],t=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,
7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,
0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,
9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,
4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],
[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,
9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,
11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,
3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,
1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,
3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],m};b.MarchingCube=b.MarchingCubeInitializer();b.Parsers=function(){var c={},e={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,
K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45},q=function(b,c){var d=(e[b.elem]||1.6)+(e[c.elem]||1.6);d+=.25;d*=d;var k=b.x-c.x;if((k*=k)>d)return!1;var l=
b.y-c.y;if((l*=l)>d)return!1;var n=b.z-c.z;if((n*=n)>d)return!1;k=k+l+n;return!isNaN(k)&&!(.5>k)&&!(k>d)&&(b.altLoc==c.altLoc||" "==b.altLoc||" "==c.altLoc)},t=function(b){for(var c=0,e=b.length;c<e;c++)b[c].index||(b[c].index=c);c={};for(e=0;e<b.length;e++){var k=b[e],l=Math.floor(k.x/4.95),n=Math.floor(k.y/4.95),m=Math.floor(k.z/4.95);c[l]||(c[l]={});c[l][n]||(c[l][n]={});c[l][n][m]||(c[l][n][m]=[]);c[l][n][m].push(k)}b=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,
y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}];for(var r in c){r=parseInt(r);for(var t in c[r]){t=parseInt(t);for(var v in c[r][t]){v=parseInt(v);e=c[r][t][v];for(k=0;k<e.length;k++)for(l=e[k],n=k+1;n<e.length;n++)m=e[n],q(l,m)&&-1==l.bonds.indexOf(m.index)&&(l.bonds.push(m.index),l.bondOrder.push(1),m.bonds.push(l.index),m.bondOrder.push(1));for(k=0;k<b.length;k++)if(n=b[k],c[r+n.x]&&c[r+n.x][t+n.y]&&c[r+n.x][t+n.y][v+n.z])for(l=e,
n=c[r+n.x][t+n.y][v+n.z],m=0;m<l.length;m++)for(var p=l[m],x=0;x<n.length;x++){var z=n[x];if(q(p,z)){var B=p.bonds.indexOf(z.index),H=z.bonds.indexOf(p.index);-1==B&&-1==H?(p.bonds.push(z.index),p.bondOrder.push(1),z.bonds.push(p.index),z.bondOrder.push(1)):-1==B?(p.bonds.push(z.index),p.bondOrder.push(z.bondOrder[H])):-1==H&&(z.bonds.push(p.index),z.bondOrder.push(p.bondOrder[B]))}}}}}},m=function(b){var c,e=[],k=[];var l=0;for(c=b.length;l<c;l++){var n=b[l];n.index=l;n.hetflag?k.push(n):e.push(n)}t(k);
e.sort(function(b,c){return b.chain!=c.chain?b.chain<c.chain?-1:1:b.resi-c.resi});var m;k=b=-1;l=0;for(c=e.length;l<c;l++){n=e[l];n.resi!==b&&(b=n.resi,m||k++,m=!1);n.reschain=k;for(var r=l+1;r<e.length;r++){var v=e[r];if(v.chain!=n.chain)break;if(1<v.resi-n.resi)break;q(n,v)&&(-1===n.bonds.indexOf(v.index)&&(n.bonds.push(v.index),n.bondOrder.push(1),v.bonds.push(n.index),v.bondOrder.push(1)),n.resi!==v.resi&&(m=!0))}}},k=function(b){!function(b){var c,d=[];var e=0;for(c=b.length;e<c;e++){b[e].index=
e;var g=b[e];g.hetflag||"N"!==g.atom&&"O"!==g.atom||(d.push(g),g.hbondOther=null,g.hbondDistanceSq=Number.POSITIVE_INFINITY)}d.sort(function(b,c){return b.z-c.z});e=0;for(c=d.length;e<c;e++)for(g=d[e],b=e+1;b<c;b++){var l=d[b],k=l.z-g.z;if(3.2<k)break;if(l.atom!=g.atom){var n=Math.abs(l.y-g.y);if(!(3.2<n)){var m=Math.abs(l.x-g.x);3.2<m||(k=m*m+n*n+k*k,10.24<k||l.chain==g.chain&&4>Math.abs(l.resi-g.resi)||(k<g.hbondDistanceSq&&(g.hbondOther=l,g.hbondDistanceSq=k),k<l.hbondDistanceSq&&(l.hbondOther=
g,l.hbondDistanceSq=k)))}}}}(b);var c,e,k={};var l=0;for(c=b.length;l<c;l++)if(void 0===k[(e=b[l]).chain]&&(k[e.chain]=[]),isFinite(e.hbondDistanceSq)){var n=e.hbondOther;void 0===k[n.chain]&&(k[n.chain]=[]);4===Math.abs(n.resi-e.resi)&&(k[e.chain][e.resi]="h")}for(r in k)for(l=1;l<k[r].length-1;l++){c=k[r][l-1];n=k[r][l+1];var m=k[r][l];"h"==c&&c==n&&m!=c&&(k[r][l]=c)}l=0;for(c=b.length;l<c;l++)e=b[l],isFinite(e.hbondDistanceSq)&&"h"!=k[e.chain][e.resi]&&"h"!=e.ss&&(k[e.chain][e.resi]="maybesheet");
var r=0;for(l=b.length;r<l;r++)if(e=b[r],isFinite(e.hbondDistanceSq)&&"maybesheet"==k[e.chain][e.resi])c=e.hbondOther,n=k[c.chain][c.resi],"maybesheet"!=n&&"s"!=n||(k[e.chain][e.resi]="s",k[c.chain][c.resi]="s");for(var q in k){for(r=1;r<k[q].length-1;r++)l=k[q][r-1],c=k[q][r+1],m=k[q][r],"s"==l&&l==c&&m!=l&&(k[q][r]=l);for(r=0;r<k[q].length;r++)l=k[q][r],"h"!=l&&"s"!=l||k[q][r-1]!=l&&k[q][r+1]!=l&&delete k[q][r]}l=0;for(c=b.length;l<c;l++)void 0!==(m=k[(e=b[l]).chain][e.resi])&&"maybesheet"!=m&&
(e.ss=m,k[e.chain][e.resi-1]!=m&&(e.ssbegin=!0),k[e.chain][e.resi+1]!=m&&(e.ssend=!0))},r=function(c,d,e){var g,l,k=e.length,n=k;if(d){if(1<c.length)for(d=0;d<e.length;d++){k=[];for(g=0;g<c.length;g++)c[g].isIdentity()||(n=new b.Vector3,n.set(e[d].x,e[d].y,e[d].z),n.applyMatrix4(c[g]),k.push(n));e[d].symmetries=k}}else for(d=0;d<c.length;d++)if(!c[d].isIdentity()){var m=new b.Vector3;for(l=0;l<k;l++){var r=[];for(g=0;g<e[l].bonds.length;g++)r.push(e[l].bonds[g]+n);m.set(e[l].x,e[l].y,e[l].z);m.applyMatrix4(c[d]);
g={};for(var q in e[l])g[q]=e[l][q];g.x=m.x;g.y=m.y;g.z=m.z;g.bonds=r;e.push(g)}n=e.length}};c.vasp=c.VASP=function(c){var d=[[]],e,k=c.replace(/^\s+/,"").split(/[\n\r]/);if(3>k.length)return d;if(!k[1].match(/\d+/))return console.log("Warning: second line of the vasp structure file must be a number"),d;if(e=parseFloat(k[1]),0>e)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),d;c=new Float32Array(k[2].replace(/^\s+/,"").split(/\s+/));var l=new Float32Array(k[3].replace(/^\s+/,
"").split(/\s+/));var n=new Float32Array(k[4].replace(/^\s+/,"").split(/\s+/));var m=new b.Matrix4(c[0],c[1],c[2],0,l[0],l[1],l[2],0,n[0],n[1],n[2],0,0,0,0,1);m.multiplyScalar(e);d.modelData=[{symmetries:[],cryst:{matrix:m}}];m=k[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/);var r=new Int16Array(k[6].replace(/^\s+/,"").split(/\s+/)),q=k[7].replace(/\s+/,"");if(q.match(/C/))q="cartesian";else{if(!q.match(/D/))return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),
d;q="direct"}if(m.length!=r.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(m),console.log(r),d;k.splice(0,8);for(var t=0,p=0,v=m.length;p<v;p++){for(var x=m[p],z=0,B=r[p];z<B;z++){var K=new Float32Array(k[t+z].replace(/^\s+/,"").split(/\s+/)),H={};H.elem=x;"cartesian"==q?(H.x=e*K[0],H.y=e*K[1],H.z=e*K[2]):(H.x=e*(K[0]*c[0]+K[1]*l[0]+K[2]*n[0]),H.y=e*(K[0]*c[1]+K[1]*l[1]+K[2]*n[1]),H.z=e*(K[0]*c[2]+K[1]*l[2]+K[2]*n[2]));H.bonds=[];d[0].push(H)}t+=r[p]}return d};
c.cube=c.CUBE=function(b){var c=[[]];b=b.replace(/^\s+/,"").split(/\n\r|\r+/);if(6>b.length)return c;var e=b[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),k=Math.abs(parseFloat(e[0]));e=b[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");e=0<parseFloat(e[0])?.529177:1;b=b.splice(6,k);k=c[c.length-1].length;for(var l=k+b.length,n=k;n<l;++n){var m={};m.serial=n;var r=b[n-k].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");6==r[0]?m.elem="C":1==r[0]?m.elem="H":8==r[0]?m.elem="O":17==r[0]&&
(m.elem="Cl");m.x=parseFloat(r[2])*e;m.y=parseFloat(r[3])*e;m.z=parseFloat(r[4])*e;m.hetflag=!0;m.bonds=[];m.bondOrder=[];m.properties={};c[c.length-1].push(m)}for(b=0;b<c.length;b++)t(c[b]);return c};c.xyz=c.XYZ=function(b,c){var d=[[]];for(b=b.split(/\r?\n|\r/);0<b.length&&!(3>b.length);){var e=parseInt(b[0]);if(isNaN(e)||0>=e)break;if(b.length<e+2)break;var l=2,k=d[d.length-1].length;for(e=k+e;k<e;k++){var n=b[l++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),m={};m.serial=k;var r=n[0];m.atom=
m.elem=r[0].toUpperCase()+r.substr(1).toLowerCase();m.x=parseFloat(n[1]);m.y=parseFloat(n[2]);m.z=parseFloat(n[3]);m.hetflag=!0;m.bonds=[];m.bondOrder=[];m.properties={};d[d.length-1][k]=m;7<=n.length&&(m.dx=parseFloat(n[4]),m.dy=parseFloat(n[5]),m.dz=parseFloat(n[6]))}if(!c.multimodel)break;d.push([]);b.splice(0,l)}for(b=0;b<d.length;b++)t(d[b]);if(c.onemol)for(c=d,(d=[]).push(c[0]),b=1;b<c.length;b++)for(l=d[0].length,e=0;e<c[b].length;e++){k=c[b][e];for(n=0;n<k.bonds.length;n++)k.bonds[n]+=l;k.index=
d[0].length;k.serial=d[0].length;d[0].push(k)}return d};c.sdf=c.SDF=function(b,c){var d="V2000";b=b.split(/\r?\n|\r/);return 3<b.length&&38<b[3].length&&(d=b[3].substr(34,5)),"V2000"===d?function(b,c){var d=[[]],e=!1;for(void 0!==c.keepH&&(e=!c.keepH);0<b.length&&!(4>b.length);){var g=parseInt(b[3].substr(0,3));if(isNaN(g)||0>=g)break;var l=parseInt(b[3].substr(3,3)),k=4;if(b.length<4+g+l)break;var n,m=[],r=d[d.length-1].length,q=r+g;for(g=r;g<q;g++,k++){var t={},v=(n=b[k]).substr(31,3).replace(/ /g,
"");t.atom=t.elem=v[0].toUpperCase()+v.substr(1).toLowerCase();"H"===t.elem&&e||(t.serial=g,m[g]=d[d.length-1].length,t.x=parseFloat(n.substr(0,10)),t.y=parseFloat(n.substr(10,10)),t.z=parseFloat(n.substr(20,10)),t.hetflag=!0,t.bonds=[],t.bondOrder=[],t.properties={},t.index=d[d.length-1].length,d[d.length-1].push(t))}for(g=0;g<l;g++,k++)n=b[k],q=m[parseInt(n.substr(0,3))-1+r],t=m[parseInt(n.substr(3,3))-1+r],n=parseInt(n.substr(6,3)),void 0!==q&&void 0!==t&&(d[d.length-1][q].bonds.push(t),d[d.length-
1][q].bondOrder.push(n),d[d.length-1][t].bonds.push(q),d[d.length-1][t].bondOrder.push(n));if(!c.multimodel)break;for(c.onemol||d.push([]);"$$$$"!==b[k];)k++;b.splice(0,++k)}return d}(b,c):"V3000"===d?function(b,c){var d=[[]],e=!1;for(void 0!==c.keepH&&(e=!c.keepH);0<b.length&&!(8>b.length)&&b[4].startsWith("M  V30 BEGIN CTAB")&&b[5].startsWith("M  V30 COUNTS")&&!(14>b[5].length);){var g=b[5].substr(13).match(/\S+/g);if(2>g.length)break;var l=parseInt(g[0]);if(isNaN(l)||0>=l)break;g=parseInt(g[1]);
var k=7;if(b.length<8+l+g)break;var n=[],m=d[d.length-1].length,r=m+l;for(l=m;l<r;l++,k++){var q=b[k].substr(6).match(/\S+/g);if(4<q.length){var t={},v=q[1].replace(/ /g,"");t.atom=t.elem=v[0].toUpperCase()+v.substr(1).toLowerCase();"H"===t.elem&&e||(t.serial=l,n[l]=d[d.length-1].length,t.x=parseFloat(q[2]),t.y=parseFloat(q[3]),t.z=parseFloat(q[4]),t.hetflag=!0,t.bonds=[],t.bondOrder=[],t.properties={},t.index=d[d.length-1].length,d[d.length-1].push(t))}}if("M  V30 END ATOM"!==b[k])break;if(k++,0===
g||"M  V30 BEGIN BOND"!==b[k])break;k++;for(l=0;l<g;l++,k++)t=b[k].substr(6).match(/\S+/g),3<t.length&&(r=n[parseInt(t[2])-1+m],q=n[parseInt(t[3])-1+m],t=parseInt(t[1]),void 0!==r&&void 0!==q&&(d[d.length-1][r].bonds.push(q),d[d.length-1][r].bondOrder.push(t),d[d.length-1][q].bonds.push(r),d[d.length-1][q].bondOrder.push(t)));if(!c.multimodel)break;for(c.onemol||d.push([]);"$$$$"!==b[k];)k++;b.splice(0,++k)}return d}(b,c):[[]]};c.cdjson=c.json=function(b,c){var d=[[]];"string"==typeof b&&(b=JSON.parse(b));
var e=b.m,l=e[0].a;b=e[0].b;e=e[0].s;var k=void 0!==c&&void 0!==c.parseStyle?c.parseStyle:void 0!==e;c=d[d.length-1].length;for(var n=0;n<l.length;n++){var m=l[n],r={};r.id=m.i;r.x=m.x;r.y=m.y;r.z=m.z||0;r.bonds=[];r.bondOrder=[];var q=m.l||"C";r.elem=q[0].toUpperCase()+q.substr(1).toLowerCase();r.serial=d[d.length-1].length;k&&(r.style=e[m.s||0]);d[d.length-1].push(r)}for(l=0;l<b.length;l++)n=b[l],e=n.b+c,k=n.e+c,n=n.o||1,m=d[d.length-1][e],r=d[d.length-1][k],m.bonds.push(k),m.bondOrder.push(n),
r.bonds.push(e),r.bondOrder.push(n);return d};c.mcif=c.cif=function(c,d){function e(b,c){for(var d=[],e=0,g=0;g<b.length;){for(;b.substr(g,c.length)!==c&&g<b.length;){if("'"===b[g])for(g++;g<b.length&&"'"!==b[g];)g++;else if('"'===b[g])for(g++;g<b.length&&'"'!==b[g];)g++;g++}d.push(b.substr(e,g-e));e=g+=c.length}return d}var n=[],l=!d.doAssembly;d=!d.duplicateAssemblyAtoms;var m=n.modelData=[],q=c.split(/\r?\n|\r/);c=[];for(var y=!1,v=0;v<q.length;v++){var x=q[v].split("#")[0];if(y?";"===x[0]&&(y=
!1):";"===x[0]&&(y=!0),y||""!==x){if(!y&&"_"===(x=x.trim())[0]){var p=x.split(/\s/)[0].indexOf(".");-1<p&&(x[p]="_",x=x.substr(0,p)+"_"+x.substr(p+1))}c.push(x)}}for(q=0;q<c.length;){for(;!c[q].startsWith("data_")||"data_global"===c[q];)q++;q++;for(y={};q<c.length&&!c[q].startsWith("data_");)if(void 0===c[q][0])q++;else if("_"===c[q][0]){x=c[q].split(/\s/)[0].toLowerCase();v=y[x]=y[x]||[];x=c[q].substr(c[q].indexOf(x)+x.length);if(""===x)if(";"===c[++q][0]){x=c[q].substr(1);for(q++;";"!==c[q];)x=
x+"\n"+c[q],q++;v.push(x)}else v.push(c[q]);else v.push(x.trim());q++}else if("loop_"===c[q].substr(0,5)){q++;for(v=[];""===c[q]||"_"===c[q][0];)""!==c[q]&&(x=c[q].split(/\s/)[0].toLowerCase(),x=y[x]=y[x]||[],v.push(x)),q++;for(x=0;q<c.length&&"_"!==c[q][0]&&!c[q].startsWith("loop_")&&!c[q].startsWith("data_");){p=e(c[q]," ");for(var z=0;z<p.length;z++)""!==p[z]&&(v[x].push(p[z]),x=(x+1)%v.length);q++}}else q++;m.push({symmetries:[]});n.push([]);v=void 0!==y._atom_site_id?y._atom_site_id.length:y._atom_site_label.length;
if(void 0!==y._cell_length_a){x=parseFloat(y._cell_length_a);p=parseFloat(y._cell_length_b);z=parseFloat(y._cell_length_c);var B=parseFloat(y._cell_angle_alpha)||90,H=parseFloat(y._cell_angle_beta)||90,I=parseFloat(y._cell_angle_gamma)||90,K=I*Math.PI/180;var P=Math.cos(B*Math.PI/180);var J=Math.cos(H*Math.PI/180),ba=Math.cos(K);K=Math.sin(K);P=[[x,p*ba,z*J],[0,p*K,z*(P-J*ba)/K],[0,0,z*Math.sqrt(1-P*P-J*J-ba*ba+2*P*J*ba)/K]];m[m.length-1].cryst={a:x,b:p,c:z,alpha:B,beta:H,gamma:I}}x=function(b,c,
d,e){return{x:b[0][0]*c+b[0][1]*d+b[0][2]*e,y:b[1][0]*c+b[1][1]*d+b[1][2]*e,z:b[2][0]*c+b[2][1]*d+b[2][2]*e}};for(p=0;p<v;p++)if(void 0===y._atom_site_group_pdb||"TER"!==y._atom_site_group_pdb[p])z={},void 0!==y._atom_site_cartn_x?(z.x=parseFloat(y._atom_site_cartn_x[p]),z.y=parseFloat(y._atom_site_cartn_y[p]),z.z=parseFloat(y._atom_site_cartn_z[p])):(B=x(P,parseFloat(y._atom_site_fract_x[p]),parseFloat(y._atom_site_fract_y[p]),parseFloat(y._atom_site_fract_z[p])),z.x=B.x,z.y=B.y,z.z=B.z),z.chain=
y._atom_site_auth_asym_id?y._atom_site_auth_asym_id[p]:void 0,z.resi=y._atom_site_auth_seq_id?parseInt(y._atom_site_auth_seq_id[p]):void 0,z.resn=y._atom_site_auth_comp_id?y._atom_site_auth_comp_id[p].trim():void 0,z.atom=y._atom_site_auth_atom_id?y._atom_site_auth_atom_id[p].replace(/"/gm,""):void 0,z.hetflag=!y._atom_site_group_pdb||"HETA"===y._atom_site_group_pdb[p]||"HETATM"===y._atom_site_group_pdb[p],B=y._atom_site_type_symbol[p],z.elem=B[0].toUpperCase()+B.substr(1).toLowerCase(),z.bonds=[],
z.ss="c",z.serial=p,z.bondOrder=[],z.properties={},n[n.length-1].push(z);if(void 0!==y._pdbx_struct_oper_list_id&&!l){for(v=0;v<y._pdbx_struct_oper_list_id.length;v++){x=parseFloat(y["_pdbx_struct_oper_list_matrix[1][1]"][v]);p=parseFloat(y["_pdbx_struct_oper_list_matrix[1][2]"][v]);z=parseFloat(y["_pdbx_struct_oper_list_matrix[1][3]"][v]);B=parseFloat(y["_pdbx_struct_oper_list_vector[1]"][v]);H=parseFloat(y["_pdbx_struct_oper_list_matrix[2][1]"][v]);I=parseFloat(y["_pdbx_struct_oper_list_matrix[2][2]"][v]);
J=parseFloat(y["_pdbx_struct_oper_list_matrix[2][3]"][v]);ba=parseFloat(y["_pdbx_struct_oper_list_vector[2]"][v]);K=parseFloat(y["_pdbx_struct_oper_list_matrix[3][1]"][v]);var ia=parseFloat(y["_pdbx_struct_oper_list_matrix[3][2]"][v]),U=parseFloat(y["_pdbx_struct_oper_list_matrix[3][3]"][v]),X=parseFloat(y["_pdbx_struct_oper_list_vector[3]"][v]);x=new b.Matrix4(x,p,z,B,H,I,J,ba,K,ia,U,X);m[m.length-1].symmetries.push(x)}for(v=0;v<n.length;v++)r(m[m.length-1].symmetries,d,n[v])}v=function(b){var c,
d=b.match("-");b=b.replace(/[-xyz]/g,"").split("/");return c=void 0===b[1]?1:parseInt(b[1]),(""===b[0]?1:parseInt(b[0]))/c*(d?-1:1)};if(void 0!==y._symmetry_equiv_pos_as_xyz)for(x=0;x<y._symmetry_equiv_pos_as_xyz.length;x++){z=y._symmetry_equiv_pos_as_xyz[x].replace(/["' ]/g,"").split(",").map(function(b){return b.replace(/-/g,"+-")});p=new b.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(B=0;3>B;B++)for(H=z[B].split("+"),I=0;I<H.length;I++)J=H[I],""!==J&&(ba=v(J),J.match("x")?p.elements[B+0]=ba:J.match("y")?
p.elements[B+4]=ba:J.match("z")?p.elements[B+8]=ba:p.elements[B+12]=ba);z=new b.Matrix4(P[0][0],P[0][1],P[0][2],0,P[1][0],P[1][1],P[1][2],0,P[2][0],P[2][1],P[2][2],0);B=(new b.Matrix4).getInverse(z,!0);p=(new b.Matrix4).multiplyMatrices(p,B);p=(new b.Matrix4).multiplyMatrices(z,p);m[m.length-1].symmetries.push(p)}}for(l=0;l<n.length;l++)t(n[l]),k(n[l]),r(m[l].symmetries,d,n[l]);return n};c.mol2=c.MOL2=function(b,c){var d=[[]],e=!1;void 0!==c.keepH&&(e=!c.keepH);var l=b.search(/@<TRIPOS>MOLECULE/),
k=b.search(/@<TRIPOS>ATOM/);if(-1==l||-1==k)return d;for(b=b.substr(l,b.length).split(/\r?\n|\r/);0<b.length;){l=[];var n=b[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),m=parseInt(n[0]);k=0;1<n.length&&(k=parseInt(n[1]));var r,q=4;for(r=3;r<b.length;r++)if("@<TRIPOS>ATOM"==b[r]){q=r+1;break}r=d[d.length-1].length;for(m=r+m;r<m;r++){var p={},t=(n=b[q++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[5].split(".")[0];if(p.atom=p.elem=t[0].toUpperCase()+t.substr(1).toLowerCase(),"H"!=p.elem||
!e){t=d[d.length-1].length;var v=parseInt(n[0]);p.serial=v;p.x=parseFloat(n[2]);p.y=parseFloat(n[3]);p.z=parseFloat(n[4]);p.atom=n[5];n=parseFloat(n[8]);p.index=t;p.bonds=[];p.bondOrder=[];p.properties={charge:n,partialCharge:n};l[v]=t;d[d.length-1].push(p)}}for(r=!1;q<b.length;)if("@<TRIPOS>BOND"==b[q++]){r=!0;break}if(r&&k)for(r=0;r<k;r++)n=b[q++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),m=parseInt(n[1]),p=d[d.length-1][l[m]],t=parseInt(n[2]),v=d[d.length-1][l[t]],n=parseInt(n[3]),isNaN(n)&&
(n=1),void 0!==p&&void 0!==v&&(p.bonds.push(l[t]),p.bondOrder.push(n),v.bonds.push(l[m]),v.bondOrder.push(n));if(!c.multimodel)break;c.onemol||d.push([]);b.splice(0,q);b.join("\n")}return d};var x=function(b,c){b=b.replace(/ /g,"");return 0<b.length&&"H"==b[0]&&"Hg"!=b&&(b="H"),1<b.length&&(b=b[0].toUpperCase()+b.substr(1).toLowerCase(),void 0===e[b]?b=b[0]:c&&("Ca"==b?b="C":"Cd"==b&&(b="C"))),b},z=function(c,d,g){var n,l,q=[],t=!d.keepH,y=!!d.noSecondaryStructure,v=!d.noComputeSecondaryStructure,
z=!d.doAssembly,p=!d.duplicateAssemblyAtoms,B=d.altLoc?d.altLoc:"A";d={symmetries:[]};for(var H=[],I=[],ca={},K=0;K<c.length;K++){var P,J,ba=(l=c[K].replace(/^\s*/,"")).substr(0,6);if(0==ba.indexOf("END")){if(H=c.slice(K+1),"END"==ba)for(var ia in g)g.hasOwnProperty(ia)&&delete g[ia];break}if("ATOM  "==ba||"HETATM"==ba){var U,X,W,L,A,F,T,S,sa;if(" "==(S=l.substr(16,1))||S==B||"*"==B)(T=parseInt(l.substr(6,5)),n=l.substr(12,4).replace(/ /g,""),P=l.substr(17,3).replace(/ /g,""),J=l.substr(21,1),U=parseInt(l.substr(22,
4)),X=l.substr(26,1),W=parseFloat(l.substr(30,8)),L=parseFloat(l.substr(38,8)),A=parseFloat(l.substr(46,8)),sa=parseFloat(l.substr(60,8)),"H"==(F=""===(F=l.substr(76,2).replace(/ /g,""))||void 0===e[F]?x(l.substr(12,2),"A"==l[0]):F[0].toUpperCase()+F.substr(1).toLowerCase())&&t)||(ba="H"==ba[0],I[T]=q.length,q.push({resn:P,x:W,y:L,z:A,elem:F,hetflag:ba,altLoc:S,chain:J,resi:U,icode:X,rescode:U+(" "!=X?"^"+X:""),serial:T,atom:n,bonds:[],ss:"c",bondOrder:[],properties:{},b:sa,pdbline:l}))}else if("SHEET "==
ba){!0;P=l.substr(21,1);J=parseInt(l.substr(22,4));l.substr(32,1);l=parseInt(l.substr(33,4));P in g||(g[P]={});g[P][J]="s1";for(J+=1;J<l;J++)g[P][J]="s";g[P][l]="s2"}else if("CONECT"==ba)for(P=I[parseInt(l.substr(6,5))],J=q[P],U=[11,16,21,26],X=0;4>X;X++){if(W=I[parseInt(l.substr(U[X],5))],L=q[W],void 0!==J&&void 0!==L)if(ca[[P,W]])for(ca[[P,W]]+=1,L=0;L<J.bonds.length;L++)J.bonds[L]==W&&(A=ca[[P,W]],J.bondOrder[L]=4<=A?1:A);else ca[[P,W]]=1,0!=J.bonds.length&&J.bonds[J.bonds.length-1]==W||(J.bonds.push(W),
J.bondOrder.push(1))}else if("HELIX "==ba){!0;P=l.substr(19,1);J=parseInt(l.substr(21,4));l.substr(31,1);l=parseInt(l.substr(33,4));P in g||(g[P]={});g[P][J]="h1";for(J+=1;J<l;J++)g[P][J]="h";g[P][l]="h2"}else if(z||"REMARK"!=ba||"BIOMT"!=l.substr(13,5))"CRYST1"==ba?(L=W=X=U=J=P=void 0,P=parseFloat(l.substr(7,8)),J=parseFloat(l.substr(16,8)),U=parseFloat(l.substr(25,8)),X=parseFloat(l.substr(34,6)),W=parseFloat(l.substr(41,6)),L=parseFloat(l.substr(48,6)),d.cryst={a:P,b:J,c:U,alpha:X,beta:W,gamma:L}):
"ANISOU"==ba&&(P=q[I[parseInt(l.substr(6,5))]])&&(l=l.substr(30).trim().split(/\s+/),l={u11:parseInt(l[0]),u22:parseInt(l[1]),u33:parseInt(l[2]),u12:parseInt(l[3]),u13:parseInt(l[4]),u23:parseInt(l[5])},P.uMat=l);else{J=new b.Matrix4;for(P=1;3>=P;P++)if(l=c[K].replace(/^\s*/,""),parseInt(l.substr(18,1))==P)J.elements[P-1]=parseFloat(l.substr(23,10)),J.elements[P-1+4]=parseFloat(l.substr(33,10)),J.elements[P-1+8]=parseFloat(l.substr(43,10)),J.elements[P-1+12]=parseFloat(l.substr(53)),K++;else for(;"BIOMT"==
l.substr(13,5);)l=c[++K].replace(/^\s*/,"");J.elements[3]=0;J.elements[7]=0;J.elements[11]=0;J.elements[15]=1;d.symmetries.push(J);K--}}(new Date).getTime();if(function(b,c){for(var d=0,e=b.length;d<e;d++)for(var g=b[d],k=0;k<g.bonds.length;k++){var l=b[g.bonds[k]],n=c[g.serial];l&&n&&0>l.bonds.indexOf(n)&&(l.bonds.push(n),l.bondOrder.push(g.bondOrder[k]))}}(q,I),m(q),z||r(d.symmetries,p,q),v&&!y&&((new Date).getTime(),k(q)),(new Date).getTime(),!function(b){for(var c in b)return!1;return!0}(g))for(c=
0;c<q.length;c++)void 0!==(n=q[c])&&n.chain in g&&n.resi in g[n.chain]&&(t=g[n.chain][n.resi],n.ss=t[0],1<t.length&&("1"==t[1]?n.ssbegin=!0:"2"==t[1]&&(n.ssend=!0)));return[q,d,H]};c.pdb=c.PDB=c.pdbqt=c.PDBQT=function(b,c){var d=[],e={};d.modelData=[];for(var k=b.split(/\r?\n|\r/);0<k.length;){k=z(k,c,e);b=k[0];var n=k[1];if(k=k[2],0!=b.length){if(c.multimodel&&c.onemol&&0<d.length){n=d[0].length;for(var m=0;m<b.length;m++){var r=b[m];r.index=m;for(var q=0;q<r.bonds.length;q++)r.bonds[q]+=n;d[0].push(r)}}else d.modelData.push(n),
d.push(b);if(!c.multimodel)break}}return d};c.pqr=c.PQR=function(b,c){var d=[[]],e=!c.noSecondaryStructure;d.modelData=[{symmetries:[]}];for(var l=[],n=b.split(/\r?\n|\r/),r=0;r<n.length;r++){var q=(b=n[r].replace(/^\s*/,"")).substr(0,6);if(0==q.indexOf("END")){if(c.multimodel){c.onemol||d.push([]);continue}break}if("ATOM  "==q||"HETATM"==q){q=parseInt(b.substr(6,5));var t=b.substr(12,4).replace(/ /g,""),v=b.substr(17,3),p=b.substr(21,1),x=parseInt(b.substr(22,4));var z=b.substr(30).trim().split(/\s+/);
var B=parseFloat(z[0]),H=parseFloat(z[1]),I=parseFloat(z[2]),P=parseFloat(z[3]),J=parseFloat(z[4]),ba=t[0];1<t.length&&t[1].toUpperCase()!=t[1]&&(ba=t.substr(0,2));z="H"==b[0];l[q]=d[d.length-1].length;d[d.length-1].push({resn:v,x:B,y:H,z:I,elem:ba,hetflag:z,chain:p,resi:x,serial:q,atom:t,bonds:[],ss:"c",bondOrder:[],properties:{charge:P,partialCharge:P,radius:J},pdbline:b})}else if("CONECT"==q)for(q=parseInt(b.substr(6,5)),q=d[d.length-1][l[q]],t=0;4>t;t++)v=parseInt(b.substr([11,16,21,26][t],5)),
p=d[d.length-1][l[v]],void 0!==q&&void 0!==p&&(q.bonds.push(l[v]),q.bondOrder.push(1))}for(c=0;c<d.length;c++)m(d[c]),e&&k(d[c]);return d};var v=function(b){return 0==b||2==b||4==b?"h":3==b?"s":"c"};return c.mmtf=c.MMTF=function(c,d){var e=!d.keepH,n=d.altLoc?d.altLoc:"A",l=!!d.noSecondaryStructure,m=!d.noComputeSecondaryStructure,q=!d.doAssembly,t=!d.duplicateAssemblyAtoms,x=d.assemblyIndex?d.assemblyIndex:0;"string"==typeof c&&(c=b.base64ToArray(c));var z;c=MMTF.decode(c);var p=[[]],B=p.modelData=
[],H=0,I=0,ca=0,K=0,P=c.secStructList,J=c.insCodeList,ba=c.sequenceIndexList,ia=c.bFactorList,U=c.altLocList,X=c.occupancyList,W=c.bondAtomList,L=c.bondOrderList,A=c.numModels;if(0==A)return p;d.multimodel||(A=1);var F=[];if(!q&&c.bioAssemblyList&&0<c.bioAssemblyList.length){var T=c.bioAssemblyList[x].transformList;var S=0;for(x=T.length;S<x;S++){var sa=new b.Matrix4(T[S].matrix);sa.transpose();F.push(sa)}}T=null;c.unitCell&&(x=c.unitCell,T={a:x[0],b:x[1],c:x[2],alpha:x[3],beta:x[4],gamma:x[5]});
for(x=sa=0;x<A;x++){var ea=c.chainsPerModel[x],Z=p[p.length-1],Y=[];B.push({symmetries:F,cryst:T});for(S=0;S<ea;++S){var na=c.groupsPerChain[I],ka=String.fromCharCode.apply(null,c.chainIdList.subarray(4*I,4*I+4)).replace(/\0/g,"");c.chainNameList&&(ka=String.fromCharCode.apply(null,c.chainNameList.subarray(4*I,4*I+4)).replace(/\0/g,""));var za=ca,ha="";for(z=0;z<na;++z){var da=c.groupList[c.groupTypeList[ca]];var aa=da.atomNameList.length;var la=0,pa=!1,Na=!1;if(P){la=P[ca];var xa=v(la);0!=ca&&xa==
ha||(pa=!0);ha=xa;var Ea=ca+1;(Ea>=P.length||v(P[Ea]!=xa))&&(Na=!0)}c.insCodeList&&String.fromCharCode(J[ca]);ba&&ba[ca];var Fa=c.groupIdList[ca],Ka=da.groupName;Ea=K;for(xa=0;xa<aa;++xa){var zb=da.elementList[xa];if(!e||"H"!=zb){var Nb="";ia&&(Nb=ia[K]);var ua="";U&&U[K]&&(ua=String.fromCharCode(U[K]));var u="";if(X&&(u=X[K]),""==ua||ua==n||"*"==n){var Qb=c.atomIdList[K],Aa=da.atomNameList[xa],ra=0;da.atomChargeList&&(ra=da.atomChargeList[xa]);var Eb=c.xCoordList[K],Za=c.yCoordList[K],w=c.zCoordList[K];
Y[K]=Z.length;Z.push({resn:Ka,x:Eb,y:Za,z:w,elem:zb,hetflag:0>la,chain:ka,resi:Fa,icode:ua,rescode:Fa+(" "!=ua?"^"+ua:""),serial:Qb,altLoc:ua,index:K,atom:Aa,bonds:[],ss:v(la),ssbegin:pa,ssend:Na,bondOrder:[],properties:{charge:ra,occupancy:u},b:Nb})}}K+=1}la=da.bondAtomList;xa=0;for(aa=da.bondOrderList.length;xa<aa;++xa)pa=da.bondOrderList[xa],Na=Y[Ea+la[2*xa]],Fa=Y[Ea+la[2*xa+1]],Ka=Z[Na],zb=Z[Fa],Ka&&zb&&(Ka.bonds.push(Fa),Ka.bondOrder.push(pa),zb.bonds.push(Na),zb.bondOrder.push(pa));ca+=1}ca=
za;for(z=0;z<na;++z)ca+=1;I+=1}if(W)for(S=sa,z=W.length;S<z;S+=2){na=W[S];ka=W[S+1];ea=L?L[S/2]:1;if(na>=K){sa=S;break}na=Y[na];ka=Y[ka];za=Z[na];ha=Z[ka];za&&ha&&(za.bonds.push(ka),za.bondOrder.push(ea),ha.bonds.push(na),ha.bondOrder.push(ea))}if(d.multimodel&&(d.onemol||p.push([])),!q)for(Z=0;Z<p.length;Z++)r(B[H].symmetries,t,p[Z]);H+=1}return m&&!l&&k(p),p},c.prmtop=c.PRMTOP=function(b){function c(b){var c=n.indexOf(r.filter(function(c){return c.includes(b)})[0]);if(Number.isInteger(c)&&0<c){for(;!n[c].includes("FORMAT");)c++;
return c}return-1}function e(b){var c=n[b].match(/\((\d*)\S*/),d=n[b].match(/[a-zA-Z](\d*)\)\s*/);return null==d&&(d=n[b].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[c[1],d[1]]}var k,l=[],m=0,n=b.split(/\r?\n|\r/);if(!(0<n.length&&n[0].includes("VERSION")))return[];var r=n.filter(function(b){return b.includes("POINTERS")||b.includes("ATOM_NAME")||b.includes("CHARGE")||b.includes("RADII")||b.includes("BONDS_INC_HYDROGEN")||b.includes("BONDS_WITHOUT_HYDROGEN")});b=c("POINTERS");if(-1==b)return[];var q=e(b),
t=parseInt(n[b+1].slice(0,q[1]));if(isNaN(t)||0>=t||-1==(b=c("ATOM_NAME")))return[];for(var p=(q=e(b))[0],v=0;v<t/q[0];v++){v==parseInt(t/q[0])&&(p=t%q[0]);for(var x=0;x<p;x++){var z={};z.serial=m;z.x=0;z.y=0;z.z=0;z.atom=n[b+1].slice(q[1]*x,q[1]*(x+1));z.elem=n[b+1].slice(q[1]*x,q[1]*x+1);z.properties={charge:"",radii:""};z.bonds=[];z.bondOrder=[];l.push(z);m++}b++}if(-1!=(b=c("CHARGE")))for(m=0,p=(q=e(b))[0],v=0;v<t/q[0];v++){v==parseInt(t/q[0])&&(p=t%q[0]);for(x=0;x<p;x++)l[m].properties.charge=
parseFloat(n[b+1].slice(q[1]*x,q[1]*(x+1))),m++;b++}if(-1!=(b=c("RADII")))for(m=0,p=(q=e(b))[0],v=0;v<t/q[0];v++){v==parseInt(t/q[0])&&(p=t%q[0]);for(x=0;x<p;x++)l[m].properties.radii=parseFloat(n[b+1].slice(q[1]*x,q[1]*(x+1))),m++;b++}if(-1!=(b=c("BONDS_WITHOUT_HYDROGEN")))for(m=0,p=(q=e(b))[0],b+=1;!n[b].match(/^%FLAG/);){n[b+1].match(/^%FLAG/)&&(p=t%q[0]);for(v=0;v<p;v++)0==m%3?k=parseInt(n[b].slice(q[1]*v,q[1]*(v+1))/3):1==m%3&&l[k].bonds.push(parseInt(n[b].slice(q[1]*v,q[1]*(v+1))/3)),m++;b++}if(-1!=
(b=c("BONDS_INC_HYDROGEN")))for(m=0,p=(q=e(b))[0],b+=1;!n[b].match(/^%FLAG/);){n[b+1].match(/^%FLAG/)&&(p=t%q[0]);for(v=0;v<p;v++)0==m%3?k=parseInt(n[b].slice(q[1]*v,q[1]*(v+1))/3):1==m%3&&l[k].bonds.push(parseInt(n[b].slice(q[1]*v,q[1]*(v+1))/3)),m++;b++}return[l]},c.gro=c.GRO=function(b){var c=[];for(b=b.split(/\r?\n|\r/);0<b.length&&!(3>b.length);){var e=parseInt(b[1]);if(isNaN(e)||0>=e)break;if(b.length<e+3)break;var k=[];c.push(k);var l=2,n=k.length;for(e=n+e;n<e;n++){var q=b[l++],r={};r.serial=
n;r.atom=q.slice(10,15).trim();r.elem=x(r.atom,!0);r.x=10*parseFloat(q.slice(20,28));r.y=10*parseFloat(q.slice(28,36));r.z=10*parseFloat(q.slice(36,44));r.resi=parseInt(q.slice(0,5));r.resn=q.slice(5,10).trim();r.bonds=[];r.bondOrder=[];r.properties={};44<q.length&&(r.dx=10*parseFloat(q.slice(44,52)),r.dy=10*parseFloat(q.slice(52,60)),r.dz=10*parseFloat(q.slice(60,68)));k[n]=r}if(b.length<=l+3&&(k=b[l++].trim().split(/\s+/),3==k.length)){for(e=0;3>e;e++)k[e]=10*parseFloat(k[e]);c.box=k}b.splice(0,
++l)}for(b=0;b<c.length;b++)m(c[b]);return c},c.lammpstrj=c.LAMMPSTRJ=function(b,c){var d=[],e={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};b=b.split(/\r?\n|\r/);for(var k=0,m=0,n=0;n<b.length-9;){for(;n<b.length;n++)if(b[n].match(/ITEM: NUMBER OF ATOMS/)&&(m=parseInt(b[n+1])),b[n].match(/ITEM: ATOMS/)){k=n+1;break}n=b[k-1].replace("ITEM: ATOMS ","").split(" ");d.push([]);for(var q=k;q<k+m;q++){for(var r=
{},v={},p=b[q].split(" "),x=0;x<p.length;x++){var z=e[n[x]];null!=z&&("serial"==z?r[z]=parseInt(p[x]):"x"==z||"y"==z||"z"===z?r[z]=parseFloat(p[x]):"charge"==z||"radius"==z?v[z]=parseFloat(p[x]):r[z]=p[x]);r.properties=v;r.bonds=[];r.bondOrder=[]}d[d.length-1][q-k]=r}n=k+m-1}if(c.assignbonds)for(c=0;c<d.length;c++)t(d[c]);return d},c}();b=b||{};b.partialCharges={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,
"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,
"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,
"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,
"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};b.applyPartialCharges=function(c,e){e&&void 0!==c.partialCharge||!c.resn||!c.atom||(c.properties.partialCharge=
b.partialCharges[c.resn+":"+c.atom])};b.VolumeData=function(b,e,q){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,e=e.toLowerCase(),/\.gz$/.test(e)){e=e.replace(/\.gz$/,"");try{b=this[e]&&this[e].isbinary?pako.inflate(b):(new TextDecoder("utf-8")).decode(pako.inflate(b))}catch(k){console.log(k)}}if(this[e]&&this[e](b),q){if(q.negate)for(b=0,e=this.data.length;b<e;b++)this.data[b]=-this.data[b];if(q.normalize){q=b=0;for(e=
this.data.length;q<e;q++)b+=this.data[q];q=b/this.data.length;console.log("computed mean: "+q);e=b=0;for(var c=this.data.length;e<c;e++){var m=this.data[e]-q;b+=m*m}b/=this.data.length;e=0;for(c=this.data.length;e<c;e++)this.data[e]=(this.data[e]-q)/b}}};b.VolumeData.prototype.getVal=function(c,e,q){this.matrix?(this.inversematrix||(this.inversematrix=(new b.Matrix4).getInverse(this.matrix)),q=new b.Vector3(c,e,q),c=(q=q.applyMatrix4(this.inversematrix)).x,e=q.y,q=q.z):(c-=this.origin.x,e-=this.origin.y,
q-=this.origin.z,c/=this.unit.x,e/=this.unit.y,q/=this.unit.z);return c=Math.round(c),e=Math.round(e),q=Math.round(q),0>c||c>=this.size.x?0:0>e||e>=this.size.y?0:0>q||q>=this.size.z?0:this.data[c*this.size.y*this.size.z+e*this.size.z+q]};b.VolumeData.prototype.getCoordinates=function(b){var c=b/(this.size.y*this.size.z),q=b%(this.size.y*this.size.z);b%=this.size.z;return c*=this.unit.x,q*=this.unit.y,b*=this.unit.z,{x:c+this.origin.x,y:q+this.origin.y,z:b+this.origin.z}};b.VolumeData.prototype.vasp=
function(c){var e=c.replace(/^\s+/,"").split(/[\n\r]/),q=b.Parsers.vasp(c)[0].length;if(0==q)return console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),void(this.data=[]);var t=parseFloat(e[1]);c=e[2].replace(/^\s+/,"").split(/\s+/);var m=(new b.Vector3(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]))).multiplyScalar(1.889725992*t);c=e[3].replace(/^\s+/,"").split(/\s+/);var k=(new b.Vector3(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]))).multiplyScalar(1.889725992*
t);c=e[4].replace(/^\s+/,"").split(/\s+/);t=(new b.Vector3(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]))).multiplyScalar(1.889725992*t);c=1/(Math.abs(m.x*(k.y*t.z-t.y*k.z)-k.x*(m.y*t.z-t.y*m.z)+t.x*(m.y*k.z-k.y*m.z))/Math.pow(1.889725992,3));e.splice(0,8+q+1);var r=e[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");q=Math.abs(r[0]);var x=Math.abs(r[1]);r=Math.abs(r[2]);var z=this.origin=new b.Vector3(0,0,0);this.size={x:q,y:x,z:r};this.unit=new b.Vector3(m.x,k.y,t.z);m=m.multiplyScalar(1/
(1.889725992*q));k=k.multiplyScalar(1/(1.889725992*x));t=t.multiplyScalar(1/(1.889725992*r));0==m.y&&0==m.z&&0==k.x&&0==k.z&&0==t.x&&0==t.y||(this.matrix=new b.Matrix4(m.x,k.x,t.x,0,m.y,k.y,t.y,0,m.z,k.z,t.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new b.Matrix4).makeTranslation(z.x,z.y,z.z)),this.origin=new b.Vector3(0,0,0),this.unit=new b.Vector3(1,1,1));e.splice(0,1);e=e.join(" ");(e=(e=e.replace(/^\s+/,"")).split(/[\s\r]+/)).splice(q*x*r+1);e=new Float32Array(e);for(m=
0;m<e.length;m++)e[m]=e[m]*c*.036749309;this.data=e};b.VolumeData.prototype.dx=function(c){var e,q=c.split(/[\n\r]+/),t=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,m=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,k=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,r=/data follows/;for(c=0;c<q.length;c++){var x=q[c];if(e=t.exec(x)){var z=parseInt(e[1]),v=parseInt(e[2]);e=parseInt(e[3]);this.size={x:z,y:v,z:e}}else if(e=k.exec(x)){z=parseFloat(e[1]);if(0==parseFloat(e[2])&&0==parseFloat(e[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),
x=q[c+=1],null==(e=k.exec(x)))return void console.log("Parse error in dx delta matrix");v=parseFloat(e[2]);if(0==parseFloat(e[1])&&0==parseFloat(e[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),x=q[c+=1],null==(e=k.exec(x)))return void console.log("Parse error in dx delta matrix");x=parseFloat(e[3]);0==parseFloat(e[1])&&0==parseFloat(e[2])||console.log("Non-orthogonal delta matrix not currently supported in dx format");this.unit=new b.Vector3(z,v,x)}else if(e=
m.exec(x))z=parseFloat(e[1]),v=parseFloat(e[2]),e=parseFloat(e[3]),this.origin=new b.Vector3(z,v,e);else if(r.exec(x))break}(c+=1,this.size&&this.origin&&this.unit&&this.size)?(c=q.splice(c).join(" "),c=c.split(/[\s\r]+/),this.data=new Float32Array(c)):console.log("Error parsing dx format")};b.VolumeData.prototype.cube=function(c){c=c.replace(/^\s+/,"").split(/[\n\r]+/);if(!(6>c.length)){var e=c[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),q=parseFloat(e[0]),t=Math.abs(q),m=this.origin=new b.Vector3(parseFloat(e[1]),
parseFloat(e[2]),parseFloat(e[3])),k=0<(e=c[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[0]?.529177:1;m.multiplyScalar(k);var r=Math.abs(e[0]),x=(new b.Vector3(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]))).multiplyScalar(k);e=c[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var z=Math.abs(e[0]),v=(new b.Vector3(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]))).multiplyScalar(k);e=c[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var n=Math.abs(e[0]);e=(new b.Vector3(parseFloat(e[1]),
parseFloat(e[2]),parseFloat(e[3]))).multiplyScalar(k);this.size={x:r,y:z,z:n};this.unit=new b.Vector3(x.x,v.y,e.z);0==x.y&&0==x.z&&0==v.x&&0==v.z&&0==e.x&&0==e.y||(this.matrix=new b.Matrix4(x.x,v.x,e.x,0,x.y,v.y,e.y,0,x.z,v.z,e.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new b.Matrix4).makeTranslation(m.x,m.y,m.z)),this.origin=new b.Vector3(0,0,0),this.unit=new b.Vector3(1,1,1));m=6;0>q&&m++;c=c.splice(t+m).join(" ");c=(c=c.replace(/^\s+/,"")).split(/[\s\r]+/);this.data=new Float32Array(c)}};
b.VolumeData.prototype.ccp4=function(c){var e,q;c=new Int8Array(c);var t=new Int32Array(c.buffer,0,56);var m=new Float32Array(c.buffer,0,56);var k=new DataView(c.buffer);if(String.fromCharCode(k.getUint8(208),k.getUint8(209),k.getUint8(210),k.getUint8(211)),e=[k.getUint8(212),k.getUint8(213)],17===e[0]&&17===e[1])for(e=c.byteLength,q=0;q<e;q+=4)k.setFloat32(q,k.getFloat32(q),!0);k=t[0];e=t[1];q=t[2];var r=t[4];var x=t[5];var z=t[6];var v=t[7];var n=t[8];var d=t[9];var g=m[10];var B=m[11];var l=m[12];
var H=m[13];var G=m[14];var y=m[15];var I=t[16];var N=t[17];var p=t[18];t=t[23];var V=m[49];var M=m[50];m=m[51];g=[g,0,0];B=[B*Math.cos(Math.PI/180*y),B*Math.sin(Math.PI/180*y),0];H=[l*Math.cos(Math.PI/180*G),l*(Math.cos(Math.PI/180*H)-Math.cos(Math.PI/180*y)*Math.cos(Math.PI/180*G))/Math.sin(Math.PI/180*y),0];H[2]=Math.sqrt(l*l*Math.sin(Math.PI/180*G)*Math.sin(Math.PI/180*G)-H[1]*H[1]);l=[0,g,B,H];v=[0,v,n,d];I=[0,I,N,p];this.matrix=new b.Matrix4;this.matrix.set(l[I[1]][0]/v[I[1]],l[I[2]][0]/v[I[2]],
l[I[3]][0]/v[I[3]],0,l[I[1]][1]/v[I[1]],l[I[2]][1]/v[I[2]],l[I[3]][1]/v[I[3]],0,l[I[1]][2]/v[I[1]],l[I[2]][2]/v[I[2]],l[I[3]][2]/v[I[3]],0,0,0,0,1);this.matrix=this.matrix.multiplyMatrices(this.matrix,(new b.Matrix4).makeTranslation(r+V,x+M,z+m));this.origin=new b.Vector3(0,0,0);this.unit=new b.Vector3(1,1,1);this.size={x:k,y:e,z:q};c=new Float32Array(c.buffer,1024+t);this.data=new Float32Array(k*e*q);for(r=0;r<k;r++)for(x=0;x<e;x++)for(z=0;z<q;z++)this.data[(r*e+x)*q+z]=c[(z*e+x)*k+r]};b.VolumeData.prototype.ccp4.isbinary=
!0;b.workerString=function(){self.onmessage=function(b){b=b.data;var c=b.type;if(0>c)self.atomData=b.atoms,self.volume=b.volume,self.ps=new ProteinSurface;else{var q=self.ps;q.initparm(b.expandedExtent,1!=c,self.volume);q.fillvoxels(self.atomData,b.extendedAtoms);q.buildboundary();4!==c&&2!==c||(q.fastdistancemap(),q.boundingatom(!1),q.fillvoxelswaals(self.atomData,b.extendedAtoms));q.marchingcube(c);b=q.getFacesAndVertices(b.atomsToShow);self.postMessage(b)}}}.toString().replace(/(^.*?\{|\}$)/g,
"");b.workerString+="; var ProteinSurface="+b.ProteinSurface.toString().replace(/[a-zA-Z_$]{1}[0-9a-zA-Z_$]*.MarchingCube./g,"MarchingCube.");b.workerString+=",MarchingCube=("+b.MarchingCubeInitializer.toString()+")();";b.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([b.workerString],{type:"text/javascript"})):{postMessage:function(){}};b.workerString=b.workerString;b.SurfaceWorker=b.SurfaceWorker}).call(this,H("VS3o"),H("EVdn"))},yLpj:function(B,ba){ba=function(){return this}();try{ba=
ba||(new Function("return this"))()}catch(H){"object"===typeof window&&(ba=window)}B.exports=ba}}]);
